<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-plugins/writing-plugins/rust-plugin" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.4.0">
<title data-rh="true">Writing Rust Plugins | Farm</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://farmfe.org/img/farm-social-card.png"><meta data-rh="true" name="twitter:image" content="https://farmfe.org/img/farm-social-card.png"><meta data-rh="true" property="og:url" content="https://farmfe.org/docs/plugins/writing-plugins/rust-plugin"><meta data-rh="true" property="og:locale" content="en"><meta data-rh="true" property="og:locale:alternate" content="zh"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Writing Rust Plugins | Farm"><meta data-rh="true" name="description" content="Rust plugins are the recommended way to write your plugins cause Rust plugins are much faster and powerful than Js Plugins. A Rust plugin is a struct that implements farmfe_core:"><meta data-rh="true" property="og:description" content="Rust plugins are the recommended way to write your plugins cause Rust plugins are much faster and powerful than Js Plugins. A Rust plugin is a struct that implements farmfe_core:"><link data-rh="true" rel="icon" href="/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://farmfe.org/docs/plugins/writing-plugins/rust-plugin"><link data-rh="true" rel="alternate" href="https://farmfe.org/docs/plugins/writing-plugins/rust-plugin" hreflang="en"><link data-rh="true" rel="alternate" href="https://farmfe.org/zh/docs/plugins/writing-plugins/rust-plugin" hreflang="zh"><link data-rh="true" rel="alternate" href="https://farmfe.org/docs/plugins/writing-plugins/rust-plugin" hreflang="x-default"><link data-rh="true" rel="preconnect" href="https://G3J92PUFY2-dsn.algolia.net" crossorigin="anonymous"><link rel="alternate" type="application/rss+xml" href="/blog/rss.xml" title="Farm RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/blog/atom.xml" title="Farm Atom Feed">



<link rel="search" type="application/opensearchdescription+xml" title="Farm" href="/opensearch.xml"><link rel="stylesheet" href="/assets/css/styles.48098f86.css">
<script src="/assets/js/runtime~main.abd501fa.js" defer="defer"></script>
<script src="/assets/js/main.c03f3dce.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();t(null!==e?e:"light")}(),function(){try{const a=new URLSearchParams(window.location.search).entries();for(var[t,e]of a)if(t.startsWith("docusaurus-data-")){var n=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(n,e)}}catch(t){}}(),document.documentElement.setAttribute("data-announcement-bar-initially-dismissed",function(){try{return"true"===localStorage.getItem("docusaurus.announcement.dismiss")}catch(t){}return!1}())</script><div id="__docusaurus"><div role="region" aria-label="Skip to main content"><a class="skipToContent_Lv4W" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><div class="announcementBar_EAqS" role="banner"><div class="announcementBarPlaceholder_npZV"></div><div class="content_WFFm announcementBarContent_z2TO">ðŸŽ‰ Farm will continue to release nightly versions. Please check out for details <a target="_blank" rel="noopener noreferrer" href="https://farm-nightly.netlify.app/" class="nightly-text">Farm Nightly</a></div><button type="button" aria-label="Close" class="clean-btn close closeButton_STJx announcementBarClose_o_Nv"><svg viewBox="0 0 15 15" width="14" height="14"><g stroke="currentColor" stroke-width="3.1"><path d="M.75.75l13.5 13.5M14.25.75L.75 14.25"></path></g></svg></button></div><nav aria-label="Main" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/logo.png" alt="My Site Logo" class="themedComponent_CTPU themedComponent--light_kM0d"><img src="/img/logo.png" alt="My Site Logo" class="themedComponent_CTPU themedComponent--dark_Squo"></div><b class="navbar__title text--truncate">Farm</b></a><a class="navbar__item navbar__link" href="/docs/quick-start">Guides</a><a class="navbar__item navbar__link" href="/docs/config/configuring-farm">Config</a><a class="navbar__item navbar__link" href="/docs/api/rust-plugin-api">API</a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/docs/plugins/official-plugins/overview">Plugins</a><div class="navbar__item dropdown dropdown--hoverable"><a aria-haspopup="true" aria-expanded="false" role="button" class="navbar__link" href="/docs/plugins/writing-plugins/rust-plugin">Community</a><ul class="dropdown__menu"><li><a class="dropdown__link" href="/team">Team</a></li><li><a class="dropdown__link" href="/blog/index">Blog</a></li><li><a href="https://github.com/farm-fe/awesome-farm" target="_blank" rel="noopener noreferrer" class="dropdown__link">Awesome Farm<svg width="12" height="12" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_ZFWl"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li><a href="https://discord.com/invite/mDErq9aFnF" target="_blank" rel="noopener noreferrer" class="dropdown__link">Discord<svg width="12" height="12" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_ZFWl"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li><a href="https://x.com/brightwwu46799" target="_blank" rel="noopener noreferrer" class="dropdown__link">Twitter<svg width="12" height="12" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_ZFWl"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li><a href="https://github.com/farm-fe/farm?tab=readme-ov-file#chat-with-us" target="_blank" rel="noopener noreferrer" class="dropdown__link">WeChat Group<svg width="12" height="12" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_ZFWl"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div></div><div class="navbar__items navbar__items--right"><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a class="navbar__link" aria-haspopup="true" aria-expanded="false" role="button" href="/docs/why-farm">1.0.0</a><ul class="dropdown__menu"><li><a aria-current="page" class="dropdown__link dropdown__link--active" href="/docs/plugins/writing-plugins/rust-plugin">1.0.0</a></li><li><a class="dropdown__link" href="/docs/0.x/plugins/writing-plugins/rust-plugin">0.15</a></li></ul></div><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a aria-haspopup="true" aria-expanded="false" role="button" class="navbar__link" href="/docs/plugins/writing-plugins/rust-plugin"><svg viewBox="0 0 24 24" width="20" height="20" aria-hidden="true" class="iconLanguage_W3wy"><path fill="currentColor" d="M12.87 15.07l-2.54-2.51.03-.03c1.74-1.94 2.98-4.17 3.71-6.53H17V4h-7V2H8v2H1v1.99h11.17C11.5 7.92 10.44 9.75 9 11.35 8.07 10.32 7.3 9.19 6.69 8h-2c.73 1.63 1.73 3.17 2.98 4.56l-5.09 5.02L4 19l5-5 3.11 3.11.76-2.04zM18.5 10h-2L12 22h2l1.12-3h4.75L21 22h2l-4.5-12zm-2.62 7l1.62-4.33L19.12 17h-3.24z"></path></svg>English</a><ul class="dropdown__menu"><li><a href="/docs/plugins/writing-plugins/rust-plugin" target="_self" rel="noopener noreferrer" class="dropdown__link dropdown__link--active" lang="en">English</a></li><li><a href="/zh/docs/plugins/writing-plugins/rust-plugin" target="_self" rel="noopener noreferrer" class="dropdown__link" lang="zh">ç®€ä½“ä¸­æ–‡</a></li></ul></div><a href="https://github.com/farm-fe/farm" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link header-github-link" aria-label="GitHub repository"></a><div class="toggle_ADWR colorModeToggle_Cobn"><button class="clean-btn toggleButton_Lsis toggleButtonDisabled_FuGQ" type="button" disabled="" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)" aria-live="polite"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_NXZJ"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_Q5le"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="navbarSearchContainer_AjDo"><button type="button" class="DocSearch DocSearch-Button" aria-label="Search (Command+K)"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20" aria-hidden="true"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"></span></button></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_hixe"><div class="docsWrapper_o4DP"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_mB3M" type="button"></button><div class="docRoot_F6GU"><aside class="theme-doc-sidebar-container docSidebarContainer_ZHhJ"><div class="sidebarViewport_KZva"><div class="sidebar_ivpI"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_v3ps menuWithAnnouncementBar_vpdT"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/docs/plugins/official-plugins/overview">Official Plugins</a></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/plugins/community-plugins">Community Plugins</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" role="button" aria-expanded="true" href="/docs/plugins/writing-plugins/overview">Writing Plugins</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/plugins/writing-plugins/overview">Overview</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/docs/plugins/writing-plugins/rust-plugin">Writing Rust Plugins</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/plugins/writing-plugins/js-plugin">Writing JavaScript Plugins</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/plugins/writing-plugins/runtime-plugin">Writing Runtime Plugin</a></li></ul></li></ul></nav></div></div></aside><main class="docMainContainer_QLuq"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_CxJQ"><div class="docItemContainer_zUFY"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_hUMl" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_Fl1o"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">Writing Plugins</span><meta itemprop="position" content="1"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">Writing Rust Plugins</span><meta itemprop="position" content="2"></li></ul></nav><span class="theme-doc-version-badge badge badge--secondary">Version: 1.0.0</span><div class="tocCollapsible_CL_W theme-doc-toc-mobile tocMobile_UUID"><button type="button" class="clean-btn tocCollapsibleButton_B0mN">On this page</button></div><div class="theme-doc-markdown markdown"><h1>Writing Rust Plugins</h1>
<p>Rust plugins are the recommended way to write your plugins cause Rust plugins are much <strong>faster and powerful</strong> than Js Plugins. A Rust plugin is a <code>struct</code> that implements <code>farmfe_core::plugin::Plugin</code> trait, example:</p>
<div class="language-rust codeBlockContainer_nfy6 theme-code-block" style="--prism-color:#403f53;--prism-background-color:#FBFBFB"><div class="codeBlockContent_eers"><pre tabindex="0" class="prism-code language-rust codeBlock_sItO thin-scrollbar" style="color:#403f53;background-color:#FBFBFB"><code class="codeBlockLines_PYqK"><span class="token-line" style="color:#403f53"><span class="token attribute attr-name" style="color:rgb(72, 118, 214);font-style:italic">#![deny(clippy::all)]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#403f53"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#403f53"><span class="token plain"></span><span class="token keyword" style="color:rgb(12, 150, 155)">use</span><span class="token plain"> </span><span class="token namespace" style="color:rgb(12, 150, 155)">farmfe_core</span><span class="token namespace punctuation" style="color:rgb(153, 76, 195)">::</span><span class="token punctuation" style="color:rgb(153, 76, 195)">{</span><span class="token namespace" style="color:rgb(12, 150, 155)">config</span><span class="token namespace punctuation" style="color:rgb(153, 76, 195)">::</span><span class="token class-name" style="color:rgb(17, 17, 17)">Config</span><span class="token punctuation" style="color:rgb(153, 76, 195)">,</span><span class="token plain"> </span><span class="token namespace" style="color:rgb(12, 150, 155)">plugin</span><span class="token namespace punctuation" style="color:rgb(153, 76, 195)">::</span><span class="token class-name" style="color:rgb(17, 17, 17)">Plugin</span><span class="token punctuation" style="color:rgb(153, 76, 195)">}</span><span class="token punctuation" style="color:rgb(153, 76, 195)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#403f53"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#403f53"><span class="token plain"></span><span class="token keyword" style="color:rgb(12, 150, 155)">use</span><span class="token plain"> </span><span class="token namespace" style="color:rgb(12, 150, 155)">farmfe_macro_plugin</span><span class="token namespace punctuation" style="color:rgb(153, 76, 195)">::</span><span class="token plain">farm_plugin</span><span class="token punctuation" style="color:rgb(153, 76, 195)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#403f53"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#403f53"><span class="token plain"></span><span class="token comment" style="color:rgb(152, 159, 177);font-style:italic">// define your rust plugins</span><span class="token plain"></span><br></span><span class="token-line" style="color:#403f53"><span class="token plain"></span><span class="token attribute attr-name" style="color:rgb(72, 118, 214);font-style:italic">#[farm_plugin]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#403f53"><span class="token plain"></span><span class="token keyword" style="color:rgb(12, 150, 155)">pub</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(12, 150, 155)">struct</span><span class="token plain"> </span><span class="token type-definition class-name" style="color:rgb(17, 17, 17)">FarmPluginExample</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(153, 76, 195)">{</span><span class="token punctuation" style="color:rgb(153, 76, 195)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#403f53"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#403f53"><span class="token plain"></span><span class="token keyword" style="color:rgb(12, 150, 155)">impl</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(17, 17, 17)">FarmPluginExample</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(153, 76, 195)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#403f53"><span class="token plain">  </span><span class="token comment" style="color:rgb(152, 159, 177);font-style:italic">// a Rust plugin must export a new method that accepts 2 arguments for initializationã€‚</span><span class="token plain"></span><br></span><span class="token-line" style="color:#403f53"><span class="token plain">  </span><span class="token keyword" style="color:rgb(12, 150, 155)">fn</span><span class="token plain"> </span><span class="token function-definition function" style="color:rgb(153, 76, 195);font-style:italic">new</span><span class="token punctuation" style="color:rgb(153, 76, 195)">(</span><span class="token plain">config</span><span class="token punctuation" style="color:rgb(153, 76, 195)">:</span><span class="token plain"> </span><span class="token operator" style="color:rgb(12, 150, 155)">&amp;</span><span class="token class-name" style="color:rgb(17, 17, 17)">Config</span><span class="token punctuation" style="color:rgb(153, 76, 195)">,</span><span class="token plain"> options</span><span class="token punctuation" style="color:rgb(153, 76, 195)">:</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(17, 17, 17)">String</span><span class="token punctuation" style="color:rgb(153, 76, 195)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(153, 76, 195)">-&gt;</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(12, 150, 155)">Self</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(153, 76, 195)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#403f53"><span class="token plain">    </span><span class="token keyword" style="color:rgb(12, 150, 155)">Self</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(153, 76, 195)">{</span><span class="token punctuation" style="color:rgb(153, 76, 195)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#403f53"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(153, 76, 195)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#403f53"><span class="token plain"></span><span class="token punctuation" style="color:rgb(153, 76, 195)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#403f53"><span class="token plain"></span><span class="token comment" style="color:rgb(152, 159, 177);font-style:italic">// Implement Plugin trait to define plugin hooks</span><span class="token plain"></span><br></span><span class="token-line" style="color:#403f53"><span class="token plain"></span><span class="token keyword" style="color:rgb(12, 150, 155)">impl</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(17, 17, 17)">Plugin</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(12, 150, 155)">for</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(17, 17, 17)">FarmPluginExample</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(153, 76, 195)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#403f53"><span class="token plain">  </span><span class="token keyword" style="color:rgb(12, 150, 155)">fn</span><span class="token plain"> </span><span class="token function-definition function" style="color:rgb(153, 76, 195);font-style:italic">name</span><span class="token punctuation" style="color:rgb(153, 76, 195)">(</span><span class="token operator" style="color:rgb(12, 150, 155)">&amp;</span><span class="token keyword" style="color:rgb(12, 150, 155)">self</span><span class="token punctuation" style="color:rgb(153, 76, 195)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(153, 76, 195)">-&gt;</span><span class="token plain"> </span><span class="token operator" style="color:rgb(12, 150, 155)">&amp;</span><span class="token keyword" style="color:rgb(12, 150, 155)">str</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(153, 76, 195)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#403f53"><span class="token plain">    </span><span class="token string" style="color:rgb(72, 118, 214)">&quot;FarmPluginExample&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#403f53"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(153, 76, 195)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#403f53"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#403f53"><span class="token plain">  </span><span class="token comment" style="color:rgb(152, 159, 177);font-style:italic">// more hooks here</span><span class="token plain"></span><br></span><span class="token-line" style="color:#403f53"><span class="token plain"></span><span class="token punctuation" style="color:rgb(153, 76, 195)">}</span><br></span></code></pre><div class="buttonGroup_S0cj"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_ewWv" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_J1Wb"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_B5Uh"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>Note for a Rust plugin struct:</p>
<ul>
<li>The struct must be <code>pub</code> and <code>#[farm_plugin]</code> attribute is required.</li>
<li>The struct must implement <code>Plugin</code> trait, and the <code>name</code> method must be implemented.</li>
<li>The struct must export a <code>new</code> method that accepts 2 arguments for initialization, the first argument is <code>&amp;Config</code> and the second argument is <code>String</code>. The <code>new</code> method is called when the plugin is loaded, and the <code>Config</code> is the farm project config, and the <code>String</code> is the plugin options.</li>
</ul>
<p>We also provide a Rust plugin example repository: <a href="https://github.com/farm-fe/rust-plugin-example" target="_blank" rel="noopener noreferrer">farm-rust-plugin-example</a>.</p>
<div class="theme-admonition theme-admonition-note admonition_Hji6 alert alert--secondary"><div class="admonitionHeading_Si0C"><span class="admonitionIcon_IkYq"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>note</div><div class="admonitionContent_Hw7a"><p>This document only covers how to create, develop and publish a rust plugin, for more detail about the plugin hooks, see <a href="/docs/api/rust-plugin-api">Plugin Hooks</a>.</p></div></div>
<h2 class="anchor anchorWithStickyNavbar_Edcv" id="conventions">Conventions<a class="hash-link" aria-label="Direct link to Conventions" title="Direct link to Conventions" href="/docs/plugins/writing-plugins/rust-plugin#conventions">â€‹</a></h2>
<p>For farm specific Rust plugins:</p>
<ul>
<li>The Farm plugin should have a name with a <code>farm-plugin-</code> prefix and clear semantics.</li>
<li>Include the <code>farm-plugin-</code> keyword in package.json.</li>
</ul>
<p>If your plugin is only applicable to a specific framework, its name should follow the following prefix format:</p>
<ul>
<li><code>farm-plugin-vue-</code>: Prefix as a Vue plugin</li>
<li><code>farm-plugin-react-</code>: Prefix as a React plugin</li>
<li><code>farm-plugin-svelte-</code>: Prefix as a svelte plugin</li>
<li>...</li>
</ul>
<h2 class="anchor anchorWithStickyNavbar_Edcv" id="concepts">Concepts<a class="hash-link" aria-label="Direct link to Concepts" title="Direct link to Concepts" href="/docs/plugins/writing-plugins/rust-plugin#concepts">â€‹</a></h2>
<p>Before you start to write your rust plugin, you should know the following concepts:</p>
<ul>
<li><strong>module_type</strong>: The type of the module, it can be <code>js</code>, <code>ts</code>, <code>css</code>, <code>sass</code>, <code>json</code>, etc. Farm supports <code>js/ts/jsx/tsx</code>, <code>css</code>, <code>html</code>, <code>json</code>, <code>static assets(png, svg, etc)</code> natively. <code>module_type</code> is returned by <code>load</code> hook. You can extend natively supported module type by Rust plugins the same as Farm internal plugins.</li>
<li><strong>resolved_path and module_id</strong>: <code>resolved_path</code> is the absolute path of the module, and <code>module_id</code> is the unique id of the module, it&#x27;s usually <code>relative path of the module from the project root</code> + <code>query</code>. For example, we import a module as <code>import &#x27;./a?query&#x27;</code>, the resolved_path is <code>/project/src/a.ts</code> and the module_id is <code>src/a.ts?query</code>.</li>
<li><strong>context</strong>: All the hooks in the plugin accept a <code>context</code> argument, it&#x27;s the compilation context of the farm project, you can use it to get the ModuleGraph, Module, Resources, etc.</li>
<li><strong>Resource and Resource Pot</strong>: <code>Resource</code> is the final output bundle file, and <code>Resource Pot</code> is the abstract representation of the resource, similar to <code>Chunk</code> of other bundlers. Inside Farm, first we will generate <code>Resource Pots</code> from <code>ModuleGraph</code>, render <code>Resource Pots</code> and finally generate <code>Resources</code> from <code>Resource Pots</code>.</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_Edcv" id="module-type">Module Type<a class="hash-link" aria-label="Direct link to Module Type" title="Direct link to Module Type" href="/docs/plugins/writing-plugins/rust-plugin#module-type">â€‹</a></h3>
<p>In Farm, every thing is <code>First Class Citizens</code>, so Farm designs <code>module_type</code> to identify the type of a module and handle different kinds of ModuleTypes in different plugins.</p>
<p><code>module_type</code> returned by <code>load</code> hook, and can be transformed by <code>transform</code> hook. Farm supports <code>js/ts/jsx/tsx</code>, <code>css</code>, <code>html</code>, <code>json</code>, <code>static assets(png, svg, etc)</code> natively. For these module types, you can return them directly in <code>load</code> or <code>transform</code> hook directly. But if you want to handle custom module types, you may need to implement ohter hooks like <code>parse</code>, <code>render_resource_pot_modules</code>, <code>generate resources</code>, etc to control how to parse, render and generate resources for the custom module types.</p>
<h2 class="anchor anchorWithStickyNavbar_Edcv" id="create-plugin">Create Plugin<a class="hash-link" aria-label="Direct link to Create Plugin" title="Direct link to Create Plugin" href="/docs/plugins/writing-plugins/rust-plugin#create-plugin">â€‹</a></h2>
<p>Farm provides official templates to help your create your rust plugins quickly:</p>
<div class="tabs-container tabList_Fd39"><ul role="tablist" aria-orientation="horizontal" class="tabs"><li role="tab" tabindex="0" aria-selected="true" class="tabs__item tabItem_hble tabs__item--active">pnpm</li><li role="tab" tabindex="-1" aria-selected="false" class="tabs__item tabItem_hble">npm</li><li role="tab" tabindex="-1" aria-selected="false" class="tabs__item tabItem_hble">yarn</li></ul><div class="margin-top--md"><div role="tabpanel" class="tabItem_vnd9"><div class="codeBlockContainer_nfy6 theme-code-block" style="--prism-color:#403f53;--prism-background-color:#FBFBFB"><div class="codeBlockContent_eers"><pre tabindex="0" class="prism-code language-text codeBlock_sItO thin-scrollbar" style="color:#403f53;background-color:#FBFBFB"><code class="codeBlockLines_PYqK"><span class="token-line" style="color:#403f53"><span class="token plain">pnpm create farm-plugin</span><br></span></code></pre><div class="buttonGroup_S0cj"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_ewWv" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_J1Wb"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_B5Uh"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div><div role="tabpanel" class="tabItem_vnd9" hidden=""><div class="codeBlockContainer_nfy6 theme-code-block" style="--prism-color:#403f53;--prism-background-color:#FBFBFB"><div class="codeBlockContent_eers"><pre tabindex="0" class="prism-code language-text codeBlock_sItO thin-scrollbar" style="color:#403f53;background-color:#FBFBFB"><code class="codeBlockLines_PYqK"><span class="token-line" style="color:#403f53"><span class="token plain">npm create farm-plugin@latest</span><br></span></code></pre><div class="buttonGroup_S0cj"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_ewWv" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_J1Wb"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_B5Uh"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div><div role="tabpanel" class="tabItem_vnd9" hidden=""><div class="codeBlockContainer_nfy6 theme-code-block" style="--prism-color:#403f53;--prism-background-color:#FBFBFB"><div class="codeBlockContent_eers"><pre tabindex="0" class="prism-code language-text codeBlock_sItO thin-scrollbar" style="color:#403f53;background-color:#FBFBFB"><code class="codeBlockLines_PYqK"><span class="token-line" style="color:#403f53"><span class="token plain">yarn create farm-plugin</span><br></span></code></pre><div class="buttonGroup_S0cj"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_ewWv" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_J1Wb"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_B5Uh"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div></div></div>
<p>then follow the prompts to create your plugin.</p>
<p>or you can create a plugin derectly by running the following command:</p>
<div class="tabs-container tabList_Fd39"><ul role="tablist" aria-orientation="horizontal" class="tabs"><li role="tab" tabindex="0" aria-selected="true" class="tabs__item tabItem_hble tabs__item--active">pnpm</li><li role="tab" tabindex="-1" aria-selected="false" class="tabs__item tabItem_hble">npm</li><li role="tab" tabindex="-1" aria-selected="false" class="tabs__item tabItem_hble">yarn</li></ul><div class="margin-top--md"><div role="tabpanel" class="tabItem_vnd9"><div class="codeBlockContainer_nfy6 theme-code-block" style="--prism-color:#403f53;--prism-background-color:#FBFBFB"><div class="codeBlockContent_eers"><pre tabindex="0" class="prism-code language-text codeBlock_sItO thin-scrollbar" style="color:#403f53;background-color:#FBFBFB"><code class="codeBlockLines_PYqK"><span class="token-line" style="color:#403f53"><span class="token plain">pnpm create farm-plugin my-farm-plugin --type rust</span><br></span></code></pre><div class="buttonGroup_S0cj"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_ewWv" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_J1Wb"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_B5Uh"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div><div role="tabpanel" class="tabItem_vnd9" hidden=""><div class="codeBlockContainer_nfy6 theme-code-block" style="--prism-color:#403f53;--prism-background-color:#FBFBFB"><div class="codeBlockContent_eers"><pre tabindex="0" class="prism-code language-text codeBlock_sItO thin-scrollbar" style="color:#403f53;background-color:#FBFBFB"><code class="codeBlockLines_PYqK"><span class="token-line" style="color:#403f53"><span class="token plain">npm create my-farm-plugin --type rust</span><br></span></code></pre><div class="buttonGroup_S0cj"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_ewWv" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_J1Wb"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_B5Uh"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div><div role="tabpanel" class="tabItem_vnd9" hidden=""><div class="codeBlockContainer_nfy6 theme-code-block" style="--prism-color:#403f53;--prism-background-color:#FBFBFB"><div class="codeBlockContent_eers"><pre tabindex="0" class="prism-code language-text codeBlock_sItO thin-scrollbar" style="color:#403f53;background-color:#FBFBFB"><code class="codeBlockLines_PYqK"><span class="token-line" style="color:#403f53"><span class="token plain">yarn create my-farm-plugin --type rust</span><br></span></code></pre><div class="buttonGroup_S0cj"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_ewWv" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_J1Wb"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_B5Uh"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div></div></div>
<p>Above command will create new rust plugin with name <code>my-farm-plugin</code> in the current directory. <code>--type</code> can be <code>rust</code> or <code>js</code></p>
<h2 class="anchor anchorWithStickyNavbar_Edcv" id="plugin-project-structure">Plugin Project Structure<a class="hash-link" aria-label="Direct link to Plugin Project Structure" title="Direct link to Plugin Project Structure" href="/docs/plugins/writing-plugins/rust-plugin#plugin-project-structure">â€‹</a></h2>
<p>The plugin project structure is as follows:</p>
<div class="language-plaintext codeBlockContainer_nfy6 theme-code-block" style="--prism-color:#403f53;--prism-background-color:#FBFBFB"><div class="codeBlockContent_eers"><pre tabindex="0" class="prism-code language-plaintext codeBlock_sItO thin-scrollbar" style="color:#403f53;background-color:#FBFBFB"><code class="codeBlockLines_PYqK"><span class="token-line" style="color:#403f53"><span class="token plain">my-farm-plugin</span><br></span><span class="token-line" style="color:#403f53"><span class="token plain">â”œâ”€â”€ .github</span><br></span><span class="token-line" style="color:#403f53"><span class="token plain">â”‚   â””â”€â”€ workflows</span><br></span><span class="token-line" style="color:#403f53"><span class="token plain">|       â”œâ”€â”€ release.yml</span><br></span><span class="token-line" style="color:#403f53"><span class="token plain">|       â”œâ”€â”€ build.yml</span><br></span><span class="token-line" style="color:#403f53"><span class="token plain">â”‚       â””â”€â”€ ci.yml</span><br></span><span class="token-line" style="color:#403f53"><span class="token plain">â”œâ”€â”€ Cargo.toml</span><br></span><span class="token-line" style="color:#403f53"><span class="token plain">|â”€â”€ .gitignore</span><br></span><span class="token-line" style="color:#403f53"><span class="token plain">â”œâ”€â”€ npm</span><br></span><span class="token-line" style="color:#403f53"><span class="token plain">â”‚   â”œâ”€â”€ darwin-x64</span><br></span><span class="token-line" style="color:#403f53"><span class="token plain">â”‚   â”œâ”€â”€ linux-x64-gnu</span><br></span><span class="token-line" style="color:#403f53"><span class="token plain">|   â”œâ”€â”€ win32-x64-msvc</span><br></span><span class="token-line" style="color:#403f53"><span class="token plain">â”‚   â””â”€â”€ ...</span><br></span><span class="token-line" style="color:#403f53"><span class="token plain">â”œâ”€â”€ package.json</span><br></span><span class="token-line" style="color:#403f53"><span class="token plain">â”œâ”€â”€ src</span><br></span><span class="token-line" style="color:#403f53"><span class="token plain">â”‚   â””â”€â”€ lib.rs</span><br></span><span class="token-line" style="color:#403f53"><span class="token plain">â””â”€â”€ rust-toolchain.toml</span><br></span></code></pre><div class="buttonGroup_S0cj"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_ewWv" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_J1Wb"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_B5Uh"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>Notable files and directories:</p>
<ul>
<li><code>src/lib.rs</code>: The main file of the plugin, where you define your plugin.</li>
<li><code>Cargo.toml</code>: The manifest file for Rust.</li>
<li><code>package.json</code>: The manifest file for npm.</li>
<li><code>npm</code>: Where your platform specific binary packages placed. These packages should be published to npm registry before publish the plugin.</li>
<li><code>.github/workflows</code>: Used to cross build and publish your plugin in github actions.</li>
<li><code>rust-toolchain.toml</code>: The rust toolchain file, it should <strong>not be modified manually</strong>, it should always using <strong>the same version as the farm core</strong>.</li>
</ul>
<p>Farm provides a tool(<code>@farmfe/plugin-tools</code>) to help you build and publish your rust plugin, see <code>package.json</code>:</p>
<div class="language-json codeBlockContainer_nfy6 theme-code-block" style="--prism-color:#403f53;--prism-background-color:#FBFBFB"><div class="codeBlockContent_eers"><pre tabindex="0" class="prism-code language-json codeBlock_sItO thin-scrollbar" style="color:#403f53;background-color:#FBFBFB"><code class="codeBlockLines_PYqK"><span class="token-line" style="color:#403f53"><span class="token punctuation" style="color:rgb(153, 76, 195)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#403f53"><span class="token plain">  </span><span class="token comment" style="color:rgb(152, 159, 177);font-style:italic">// ...</span><span class="token plain"></span><br></span><span class="token-line" style="color:#403f53"><span class="token plain">  </span><span class="token property" style="color:rgb(12, 150, 155)">&quot;scripts&quot;</span><span class="token operator" style="color:rgb(12, 150, 155)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(153, 76, 195)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#403f53"><span class="token plain">    </span><span class="token comment" style="color:rgb(152, 159, 177);font-style:italic">// build your plugin for current platform</span><span class="token plain"></span><br></span><span class="token-line" style="color:#403f53"><span class="token plain">    </span><span class="token property" style="color:rgb(12, 150, 155)">&quot;build&quot;</span><span class="token operator" style="color:rgb(12, 150, 155)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(72, 118, 214)">&quot;farm-plugin-tools build --platform --cargo-name my_farm_plugin -p my_farm_plugin --release&quot;</span><span class="token punctuation" style="color:rgb(153, 76, 195)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#403f53"><span class="token plain">    </span><span class="token comment" style="color:rgb(152, 159, 177);font-style:italic">// publish all platform packages under npm directory to npm registry</span><span class="token plain"></span><br></span><span class="token-line" style="color:#403f53"><span class="token plain">    </span><span class="token property" style="color:rgb(12, 150, 155)">&quot;prepublishOnly&quot;</span><span class="token operator" style="color:rgb(12, 150, 155)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(72, 118, 214)">&quot;farm-plugin-tools prepublish&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#403f53"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(153, 76, 195)">}</span><span class="token punctuation" style="color:rgb(153, 76, 195)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#403f53"><span class="token plain">  </span><span class="token comment" style="color:rgb(152, 159, 177);font-style:italic">// ...</span><span class="token plain"></span><br></span><span class="token-line" style="color:#403f53"><span class="token plain"></span><span class="token punctuation" style="color:rgb(153, 76, 195)">}</span><br></span></code></pre><div class="buttonGroup_S0cj"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_ewWv" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_J1Wb"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_B5Uh"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>More detail about building and publishing your plugin, see <a href="/docs/plugins/writing-plugins/rust-plugin#cross-build">buidling</a> and <a href="/docs/plugins/writing-plugins/rust-plugin#publish">publishing</a> sections.</p>
<h2 class="anchor anchorWithStickyNavbar_Edcv" id="develop-plugin">Develop Plugin<a class="hash-link" aria-label="Direct link to Develop Plugin" title="Direct link to Develop Plugin" href="/docs/plugins/writing-plugins/rust-plugin#develop-plugin">â€‹</a></h2>
<p>To develop and test your plugin locally, you should build your plugin for your platform first, run:</p>
<div class="language-bash codeBlockContainer_nfy6 theme-code-block" style="--prism-color:#403f53;--prism-background-color:#FBFBFB"><div class="codeBlockContent_eers"><pre tabindex="0" class="prism-code language-bash codeBlock_sItO thin-scrollbar" style="color:#403f53;background-color:#FBFBFB"><code class="codeBlockLines_PYqK"><span class="token-line" style="color:#403f53"><span class="token plain">pnpm build</span><br></span></code></pre><div class="buttonGroup_S0cj"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_ewWv" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_J1Wb"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_B5Uh"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>Then you can use the built plugin in your farm project by adding the plugin to the <code>plugins</code> field in <code>farm.config.ts</code>:</p>
<div class="language-javascript codeBlockContainer_nfy6 theme-code-block" style="--prism-color:#403f53;--prism-background-color:#FBFBFB"><div class="codeBlockContent_eers"><pre tabindex="0" class="prism-code language-javascript codeBlock_sItO thin-scrollbar" style="color:#403f53;background-color:#FBFBFB"><code class="codeBlockLines_PYqK"><span class="token-line" style="color:#403f53"><span class="token keyword module" style="color:rgb(12, 150, 155)">import</span><span class="token plain"> </span><span class="token imports punctuation" style="color:rgb(153, 76, 195)">{</span><span class="token imports"> defineConfig </span><span class="token imports punctuation" style="color:rgb(153, 76, 195)">}</span><span class="token plain"> </span><span class="token keyword module" style="color:rgb(12, 150, 155)">from</span><span class="token plain"> </span><span class="token string" style="color:rgb(72, 118, 214)">&#x27;@farmfe/core&#x27;</span><span class="token punctuation" style="color:rgb(153, 76, 195)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#403f53"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#403f53"><span class="token plain"></span><span class="token keyword module" style="color:rgb(12, 150, 155)">export</span><span class="token plain"> </span><span class="token keyword module" style="color:rgb(12, 150, 155)">default</span><span class="token plain"> </span><span class="token function" style="color:rgb(153, 76, 195);font-style:italic">defineConfig</span><span class="token punctuation" style="color:rgb(153, 76, 195)">(</span><span class="token punctuation" style="color:rgb(153, 76, 195)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#403f53"><span class="token plain">  </span><span class="token literal-property property" style="color:rgb(12, 150, 155)">plugins</span><span class="token operator" style="color:rgb(12, 150, 155)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(153, 76, 195)">[</span><span class="token plain"></span><br></span><span class="token-line" style="color:#403f53"><span class="token plain">    </span><span class="token string" style="color:rgb(72, 118, 214)">&#x27;my-farm-plugin&#x27;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#403f53"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(153, 76, 195)">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#403f53"><span class="token plain"></span><span class="token punctuation" style="color:rgb(153, 76, 195)">}</span><span class="token punctuation" style="color:rgb(153, 76, 195)">)</span><span class="token punctuation" style="color:rgb(153, 76, 195)">;</span><br></span></code></pre><div class="buttonGroup_S0cj"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_ewWv" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_J1Wb"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_B5Uh"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>and execute <code>pnpm i</code> in your farm project, and run <code>farm start</code> to start your farm project with your plugin.</p>
<p>when you make changes to your plugin, you should rebuild your plugin and restart your farm project to see the changes. for example, add <code>load</code> hook to your plugin:</p>
<div class="language-rust codeBlockContainer_nfy6 theme-code-block" style="--prism-color:#403f53;--prism-background-color:#FBFBFB"><div class="codeBlockTitle_Mpxf">src/lib.rs</div><div class="codeBlockContent_eers"><pre tabindex="0" class="prism-code language-rust codeBlock_sItO thin-scrollbar" style="color:#403f53;background-color:#FBFBFB"><code class="codeBlockLines_PYqK"><span class="token-line" style="color:#403f53"><span class="token comment" style="color:rgb(152, 159, 177);font-style:italic">// ... ignore other code</span><span class="token plain"></span><br></span><span class="token-line" style="color:#403f53"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#403f53"><span class="token plain"></span><span class="token keyword" style="color:rgb(12, 150, 155)">impl</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(17, 17, 17)">Plugin</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(12, 150, 155)">for</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(17, 17, 17)">FarmPluginExample</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(153, 76, 195)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#403f53"><span class="token plain">  </span><span class="token keyword" style="color:rgb(12, 150, 155)">fn</span><span class="token plain"> </span><span class="token function-definition function" style="color:rgb(153, 76, 195);font-style:italic">name</span><span class="token punctuation" style="color:rgb(153, 76, 195)">(</span><span class="token operator" style="color:rgb(12, 150, 155)">&amp;</span><span class="token keyword" style="color:rgb(12, 150, 155)">self</span><span class="token punctuation" style="color:rgb(153, 76, 195)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(153, 76, 195)">-&gt;</span><span class="token plain"> </span><span class="token operator" style="color:rgb(12, 150, 155)">&amp;</span><span class="token keyword" style="color:rgb(12, 150, 155)">str</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(153, 76, 195)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#403f53"><span class="token plain">    </span><span class="token string" style="color:rgb(72, 118, 214)">&quot;FarmPluginExample&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#403f53"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(153, 76, 195)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#403f53"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line theme-code-block-highlighted-line" style="color:#403f53"><span class="token plain">  </span><span class="token keyword" style="color:rgb(12, 150, 155)">fn</span><span class="token plain"> </span><span class="token function-definition function" style="color:rgb(153, 76, 195);font-style:italic">load</span><span class="token punctuation" style="color:rgb(153, 76, 195)">(</span><span class="token plain"></span><br></span><span class="token-line theme-code-block-highlighted-line" style="color:#403f53"><span class="token plain">    </span><span class="token operator" style="color:rgb(12, 150, 155)">&amp;</span><span class="token keyword" style="color:rgb(12, 150, 155)">self</span><span class="token punctuation" style="color:rgb(153, 76, 195)">,</span><span class="token plain"></span><br></span><span class="token-line theme-code-block-highlighted-line" style="color:#403f53"><span class="token plain">    param</span><span class="token punctuation" style="color:rgb(153, 76, 195)">:</span><span class="token plain"> </span><span class="token operator" style="color:rgb(12, 150, 155)">&amp;</span><span class="token namespace" style="color:rgb(12, 150, 155)">farmfe_core</span><span class="token namespace punctuation" style="color:rgb(153, 76, 195)">::</span><span class="token namespace" style="color:rgb(12, 150, 155)">plugin</span><span class="token namespace punctuation" style="color:rgb(153, 76, 195)">::</span><span class="token class-name" style="color:rgb(17, 17, 17)">PluginLoadHookParam</span><span class="token punctuation" style="color:rgb(153, 76, 195)">,</span><span class="token plain"></span><br></span><span class="token-line theme-code-block-highlighted-line" style="color:#403f53"><span class="token plain">    _context</span><span class="token punctuation" style="color:rgb(153, 76, 195)">:</span><span class="token plain"> </span><span class="token operator" style="color:rgb(12, 150, 155)">&amp;</span><span class="token namespace" style="color:rgb(12, 150, 155)">std</span><span class="token namespace punctuation" style="color:rgb(153, 76, 195)">::</span><span class="token namespace" style="color:rgb(12, 150, 155)">sync</span><span class="token namespace punctuation" style="color:rgb(153, 76, 195)">::</span><span class="token class-name" style="color:rgb(17, 17, 17)">Arc</span><span class="token operator" style="color:rgb(12, 150, 155)">&lt;</span><span class="token namespace" style="color:rgb(12, 150, 155)">farmfe_core</span><span class="token namespace punctuation" style="color:rgb(153, 76, 195)">::</span><span class="token namespace" style="color:rgb(12, 150, 155)">context</span><span class="token namespace punctuation" style="color:rgb(153, 76, 195)">::</span><span class="token class-name" style="color:rgb(17, 17, 17)">CompilationContext</span><span class="token operator" style="color:rgb(12, 150, 155)">&gt;</span><span class="token punctuation" style="color:rgb(153, 76, 195)">,</span><span class="token plain"></span><br></span><span class="token-line theme-code-block-highlighted-line" style="color:#403f53"><span class="token plain">    _hook_context</span><span class="token punctuation" style="color:rgb(153, 76, 195)">:</span><span class="token plain"> </span><span class="token operator" style="color:rgb(12, 150, 155)">&amp;</span><span class="token namespace" style="color:rgb(12, 150, 155)">farmfe_core</span><span class="token namespace punctuation" style="color:rgb(153, 76, 195)">::</span><span class="token namespace" style="color:rgb(12, 150, 155)">plugin</span><span class="token namespace punctuation" style="color:rgb(153, 76, 195)">::</span><span class="token class-name" style="color:rgb(17, 17, 17)">PluginHookContext</span><span class="token punctuation" style="color:rgb(153, 76, 195)">,</span><span class="token plain"></span><br></span><span class="token-line theme-code-block-highlighted-line" style="color:#403f53"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(153, 76, 195)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(153, 76, 195)">-&gt;</span><span class="token plain"> </span><span class="token namespace" style="color:rgb(12, 150, 155)">farmfe_core</span><span class="token namespace punctuation" style="color:rgb(153, 76, 195)">::</span><span class="token namespace" style="color:rgb(12, 150, 155)">error</span><span class="token namespace punctuation" style="color:rgb(153, 76, 195)">::</span><span class="token class-name" style="color:rgb(17, 17, 17)">Result</span><span class="token operator" style="color:rgb(12, 150, 155)">&lt;</span><span class="token class-name" style="color:rgb(17, 17, 17)">Option</span><span class="token operator" style="color:rgb(12, 150, 155)">&lt;</span><span class="token namespace" style="color:rgb(12, 150, 155)">farmfe_core</span><span class="token namespace punctuation" style="color:rgb(153, 76, 195)">::</span><span class="token namespace" style="color:rgb(12, 150, 155)">plugin</span><span class="token namespace punctuation" style="color:rgb(153, 76, 195)">::</span><span class="token class-name" style="color:rgb(17, 17, 17)">PluginLoadHookResult</span><span class="token operator" style="color:rgb(12, 150, 155)">&gt;&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(153, 76, 195)">{</span><span class="token plain"></span><br></span><span class="token-line theme-code-block-highlighted-line" style="color:#403f53"><span class="token plain">    </span><span class="token macro property" style="color:rgb(12, 150, 155)">println!</span><span class="token punctuation" style="color:rgb(153, 76, 195)">(</span><span class="token plain"></span><br></span><span class="token-line theme-code-block-highlighted-line" style="color:#403f53"><span class="token plain">      </span><span class="token string" style="color:rgb(72, 118, 214)">&quot;load path: {:?}, id: {:?}&quot;</span><span class="token punctuation" style="color:rgb(153, 76, 195)">,</span><span class="token plain"></span><br></span><span class="token-line theme-code-block-highlighted-line" style="color:#403f53"><span class="token plain">      param</span><span class="token punctuation" style="color:rgb(153, 76, 195)">.</span><span class="token plain">resolved_path</span><span class="token punctuation" style="color:rgb(153, 76, 195)">,</span><span class="token plain"> param</span><span class="token punctuation" style="color:rgb(153, 76, 195)">.</span><span class="token plain">module_id</span><br></span><span class="token-line theme-code-block-highlighted-line" style="color:#403f53"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(153, 76, 195)">)</span><span class="token punctuation" style="color:rgb(153, 76, 195)">;</span><span class="token plain"></span><br></span><span class="token-line theme-code-block-highlighted-line" style="color:#403f53"><span class="token plain">    </span><span class="token class-name" style="color:rgb(17, 17, 17)">Ok</span><span class="token punctuation" style="color:rgb(153, 76, 195)">(</span><span class="token class-name" style="color:rgb(17, 17, 17)">None</span><span class="token punctuation" style="color:rgb(153, 76, 195)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#403f53"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(153, 76, 195)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#403f53"><span class="token plain"></span><span class="token punctuation" style="color:rgb(153, 76, 195)">}</span><br></span></code></pre><div class="buttonGroup_S0cj"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_ewWv" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_J1Wb"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_B5Uh"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>Then rebuild your plugin with <code>pnpm build</code> and restart your farm project with <code>farm start</code>, you will see the <code>load</code> hook is called when compiling your farm project.</p>
<div class="theme-admonition theme-admonition-note admonition_Hji6 alert alert--secondary"><div class="admonitionHeading_Si0C"><span class="admonitionIcon_IkYq"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>note</div><div class="admonitionContent_Hw7a"><p>For more detail about the plugin hooks, see <a href="/docs/api/rust-plugin-api">Plugin Hooks</a>.</p></div></div>
<h3 class="anchor anchorWithStickyNavbar_Edcv" id="handle-moduletype">Handle ModuleType<a class="hash-link" aria-label="Direct link to Handle ModuleType" title="Direct link to Handle ModuleType" href="/docs/plugins/writing-plugins/rust-plugin#handle-moduletype">â€‹</a></h3>
<p><code>module_type</code> is returned by the <code>load</code> hook or <code>transform</code> hook. Your set any module type to the module in the <code>load</code> hook, and the module will be processed by the corresponding plugin that supports the module type.</p>
<p>For native supported module types, you can just return the module type in the <code>load</code> hook:</p>
<div class="language-rust codeBlockContainer_nfy6 theme-code-block" style="--prism-color:#403f53;--prism-background-color:#FBFBFB"><div class="codeBlockTitle_Mpxf">src/lib.rs</div><div class="codeBlockContent_eers"><pre tabindex="0" class="prism-code language-rust codeBlock_sItO thin-scrollbar" style="color:#403f53;background-color:#FBFBFB"><code class="codeBlockLines_PYqK"><span class="token-line" style="color:#403f53"><span class="token comment" style="color:rgb(152, 159, 177);font-style:italic">// ... ignore other code</span><span class="token plain"></span><br></span><span class="token-line" style="color:#403f53"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#403f53"><span class="token plain"></span><span class="token keyword" style="color:rgb(12, 150, 155)">impl</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(17, 17, 17)">Plugin</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(12, 150, 155)">for</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(17, 17, 17)">FarmPluginExample</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(153, 76, 195)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#403f53"><span class="token plain">  </span><span class="token keyword" style="color:rgb(12, 150, 155)">fn</span><span class="token plain"> </span><span class="token function-definition function" style="color:rgb(153, 76, 195);font-style:italic">name</span><span class="token punctuation" style="color:rgb(153, 76, 195)">(</span><span class="token operator" style="color:rgb(12, 150, 155)">&amp;</span><span class="token keyword" style="color:rgb(12, 150, 155)">self</span><span class="token punctuation" style="color:rgb(153, 76, 195)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(153, 76, 195)">-&gt;</span><span class="token plain"> </span><span class="token operator" style="color:rgb(12, 150, 155)">&amp;</span><span class="token keyword" style="color:rgb(12, 150, 155)">str</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(153, 76, 195)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#403f53"><span class="token plain">    </span><span class="token string" style="color:rgb(72, 118, 214)">&quot;FarmPluginExample&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#403f53"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(153, 76, 195)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#403f53"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line theme-code-block-highlighted-line" style="color:#403f53"><span class="token plain">  </span><span class="token keyword" style="color:rgb(12, 150, 155)">fn</span><span class="token plain"> </span><span class="token function-definition function" style="color:rgb(153, 76, 195);font-style:italic">load</span><span class="token punctuation" style="color:rgb(153, 76, 195)">(</span><span class="token plain"></span><br></span><span class="token-line theme-code-block-highlighted-line" style="color:#403f53"><span class="token plain">    </span><span class="token operator" style="color:rgb(12, 150, 155)">&amp;</span><span class="token keyword" style="color:rgb(12, 150, 155)">self</span><span class="token punctuation" style="color:rgb(153, 76, 195)">,</span><span class="token plain"></span><br></span><span class="token-line theme-code-block-highlighted-line" style="color:#403f53"><span class="token plain">    param</span><span class="token punctuation" style="color:rgb(153, 76, 195)">:</span><span class="token plain"> </span><span class="token operator" style="color:rgb(12, 150, 155)">&amp;</span><span class="token namespace" style="color:rgb(12, 150, 155)">farmfe_core</span><span class="token namespace punctuation" style="color:rgb(153, 76, 195)">::</span><span class="token namespace" style="color:rgb(12, 150, 155)">plugin</span><span class="token namespace punctuation" style="color:rgb(153, 76, 195)">::</span><span class="token class-name" style="color:rgb(17, 17, 17)">PluginLoadHookParam</span><span class="token punctuation" style="color:rgb(153, 76, 195)">,</span><span class="token plain"></span><br></span><span class="token-line theme-code-block-highlighted-line" style="color:#403f53"><span class="token plain">    _context</span><span class="token punctuation" style="color:rgb(153, 76, 195)">:</span><span class="token plain"> </span><span class="token operator" style="color:rgb(12, 150, 155)">&amp;</span><span class="token namespace" style="color:rgb(12, 150, 155)">std</span><span class="token namespace punctuation" style="color:rgb(153, 76, 195)">::</span><span class="token namespace" style="color:rgb(12, 150, 155)">sync</span><span class="token namespace punctuation" style="color:rgb(153, 76, 195)">::</span><span class="token class-name" style="color:rgb(17, 17, 17)">Arc</span><span class="token operator" style="color:rgb(12, 150, 155)">&lt;</span><span class="token namespace" style="color:rgb(12, 150, 155)">farmfe_core</span><span class="token namespace punctuation" style="color:rgb(153, 76, 195)">::</span><span class="token namespace" style="color:rgb(12, 150, 155)">context</span><span class="token namespace punctuation" style="color:rgb(153, 76, 195)">::</span><span class="token class-name" style="color:rgb(17, 17, 17)">CompilationContext</span><span class="token operator" style="color:rgb(12, 150, 155)">&gt;</span><span class="token punctuation" style="color:rgb(153, 76, 195)">,</span><span class="token plain"></span><br></span><span class="token-line theme-code-block-highlighted-line" style="color:#403f53"><span class="token plain">    _hook_context</span><span class="token punctuation" style="color:rgb(153, 76, 195)">:</span><span class="token plain"> </span><span class="token operator" style="color:rgb(12, 150, 155)">&amp;</span><span class="token namespace" style="color:rgb(12, 150, 155)">farmfe_core</span><span class="token namespace punctuation" style="color:rgb(153, 76, 195)">::</span><span class="token namespace" style="color:rgb(12, 150, 155)">plugin</span><span class="token namespace punctuation" style="color:rgb(153, 76, 195)">::</span><span class="token class-name" style="color:rgb(17, 17, 17)">PluginHookContext</span><span class="token punctuation" style="color:rgb(153, 76, 195)">,</span><span class="token plain"></span><br></span><span class="token-line theme-code-block-highlighted-line" style="color:#403f53"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(153, 76, 195)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(153, 76, 195)">-&gt;</span><span class="token plain"> </span><span class="token namespace" style="color:rgb(12, 150, 155)">farmfe_core</span><span class="token namespace punctuation" style="color:rgb(153, 76, 195)">::</span><span class="token namespace" style="color:rgb(12, 150, 155)">error</span><span class="token namespace punctuation" style="color:rgb(153, 76, 195)">::</span><span class="token class-name" style="color:rgb(17, 17, 17)">Result</span><span class="token operator" style="color:rgb(12, 150, 155)">&lt;</span><span class="token class-name" style="color:rgb(17, 17, 17)">Option</span><span class="token operator" style="color:rgb(12, 150, 155)">&lt;</span><span class="token namespace" style="color:rgb(12, 150, 155)">farmfe_core</span><span class="token namespace punctuation" style="color:rgb(153, 76, 195)">::</span><span class="token namespace" style="color:rgb(12, 150, 155)">plugin</span><span class="token namespace punctuation" style="color:rgb(153, 76, 195)">::</span><span class="token class-name" style="color:rgb(17, 17, 17)">PluginLoadHookResult</span><span class="token operator" style="color:rgb(12, 150, 155)">&gt;&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(153, 76, 195)">{</span><span class="token plain"></span><br></span><span class="token-line theme-code-block-highlighted-line" style="color:#403f53"><span class="token plain">    </span><span class="token comment" style="color:rgb(152, 159, 177);font-style:italic">// handle virtual module</span><span class="token plain"></span><br></span><span class="token-line theme-code-block-highlighted-line" style="color:#403f53"><span class="token plain">    </span><span class="token keyword" style="color:rgb(12, 150, 155)">if</span><span class="token plain"> param</span><span class="token punctuation" style="color:rgb(153, 76, 195)">.</span><span class="token plain">module_id</span><span class="token punctuation" style="color:rgb(153, 76, 195)">.</span><span class="token function" style="color:rgb(153, 76, 195);font-style:italic">starts_with</span><span class="token punctuation" style="color:rgb(153, 76, 195)">(</span><span class="token string" style="color:rgb(72, 118, 214)">&quot;virtual:my-css:css&quot;</span><span class="token punctuation" style="color:rgb(153, 76, 195)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(153, 76, 195)">{</span><span class="token plain"></span><br></span><span class="token-line theme-code-block-highlighted-line" style="color:#403f53"><span class="token plain">      </span><span class="token comment" style="color:rgb(152, 159, 177);font-style:italic">// return module type and content</span><span class="token plain"></span><br></span><span class="token-line theme-code-block-highlighted-line" style="color:#403f53"><span class="token plain">      </span><span class="token class-name" style="color:rgb(17, 17, 17)">Ok</span><span class="token punctuation" style="color:rgb(153, 76, 195)">(</span><span class="token class-name" style="color:rgb(17, 17, 17)">Some</span><span class="token punctuation" style="color:rgb(153, 76, 195)">(</span><span class="token namespace" style="color:rgb(12, 150, 155)">farmfe_core</span><span class="token namespace punctuation" style="color:rgb(153, 76, 195)">::</span><span class="token namespace" style="color:rgb(12, 150, 155)">plugin</span><span class="token namespace punctuation" style="color:rgb(153, 76, 195)">::</span><span class="token class-name" style="color:rgb(17, 17, 17)">PluginLoadHookResult</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(153, 76, 195)">{</span><span class="token plain"></span><br></span><span class="token-line theme-code-block-highlighted-line" style="color:#403f53"><span class="token plain">        module_type</span><span class="token punctuation" style="color:rgb(153, 76, 195)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(72, 118, 214)">&quot;css&quot;</span><span class="token punctuation" style="color:rgb(153, 76, 195)">.</span><span class="token function" style="color:rgb(153, 76, 195);font-style:italic">to_string</span><span class="token punctuation" style="color:rgb(153, 76, 195)">(</span><span class="token punctuation" style="color:rgb(153, 76, 195)">)</span><span class="token punctuation" style="color:rgb(153, 76, 195)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#403f53"><span class="token plain">        content</span><span class="token punctuation" style="color:rgb(153, 76, 195)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(72, 118, 214)">&quot;.red { color: red; }&quot;</span><span class="token punctuation" style="color:rgb(153, 76, 195)">.</span><span class="token function" style="color:rgb(153, 76, 195);font-style:italic">to_string</span><span class="token punctuation" style="color:rgb(153, 76, 195)">(</span><span class="token punctuation" style="color:rgb(153, 76, 195)">)</span><span class="token punctuation" style="color:rgb(153, 76, 195)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#403f53"><span class="token plain">        </span><span class="token punctuation" style="color:rgb(153, 76, 195)">..</span><span class="token class-name" style="color:rgb(17, 17, 17)">Default</span><span class="token punctuation" style="color:rgb(153, 76, 195)">::</span><span class="token function" style="color:rgb(153, 76, 195);font-style:italic">default</span><span class="token punctuation" style="color:rgb(153, 76, 195)">(</span><span class="token punctuation" style="color:rgb(153, 76, 195)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#403f53"><span class="token plain">      </span><span class="token punctuation" style="color:rgb(153, 76, 195)">}</span><span class="token punctuation" style="color:rgb(153, 76, 195)">)</span><span class="token punctuation" style="color:rgb(153, 76, 195)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#403f53"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(153, 76, 195)">}</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(12, 150, 155)">else</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(153, 76, 195)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#403f53"><span class="token plain">      </span><span class="token class-name" style="color:rgb(17, 17, 17)">Ok</span><span class="token punctuation" style="color:rgb(153, 76, 195)">(</span><span class="token class-name" style="color:rgb(17, 17, 17)">None</span><span class="token punctuation" style="color:rgb(153, 76, 195)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#403f53"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(153, 76, 195)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#403f53"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(153, 76, 195)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#403f53"><span class="token plain"></span><span class="token punctuation" style="color:rgb(153, 76, 195)">}</span><br></span></code></pre><div class="buttonGroup_S0cj"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_ewWv" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_J1Wb"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_B5Uh"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>For non-native supported module types, you should use <code>transform</code> hook to transform the module type to a native supported module type, otherwise you need to implement <code>parse</code>, <code>renderResourcePot</code> hook to handle your custom module type:</p>
<div class="language-rust codeBlockContainer_nfy6 theme-code-block" style="--prism-color:#403f53;--prism-background-color:#FBFBFB"><div class="codeBlockTitle_Mpxf">src/lib.rs</div><div class="codeBlockContent_eers"><pre tabindex="0" class="prism-code language-rust codeBlock_sItO thin-scrollbar" style="color:#403f53;background-color:#FBFBFB"><code class="codeBlockLines_PYqK"><span class="token-line" style="color:#403f53"><span class="token comment" style="color:rgb(152, 159, 177);font-style:italic">// ... ignore other code</span><span class="token plain"></span><br></span><span class="token-line" style="color:#403f53"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#403f53"><span class="token plain"></span><span class="token keyword" style="color:rgb(12, 150, 155)">impl</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(17, 17, 17)">Plugin</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(12, 150, 155)">for</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(17, 17, 17)">FarmPluginExample</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(153, 76, 195)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#403f53"><span class="token plain">  </span><span class="token keyword" style="color:rgb(12, 150, 155)">fn</span><span class="token plain"> </span><span class="token function-definition function" style="color:rgb(153, 76, 195);font-style:italic">name</span><span class="token punctuation" style="color:rgb(153, 76, 195)">(</span><span class="token operator" style="color:rgb(12, 150, 155)">&amp;</span><span class="token keyword" style="color:rgb(12, 150, 155)">self</span><span class="token punctuation" style="color:rgb(153, 76, 195)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(153, 76, 195)">-&gt;</span><span class="token plain"> </span><span class="token operator" style="color:rgb(12, 150, 155)">&amp;</span><span class="token keyword" style="color:rgb(12, 150, 155)">str</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(153, 76, 195)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#403f53"><span class="token plain">    </span><span class="token string" style="color:rgb(72, 118, 214)">&quot;FarmPluginExample&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#403f53"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(153, 76, 195)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#403f53"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line theme-code-block-highlighted-line" style="color:#403f53"><span class="token plain">  </span><span class="token keyword" style="color:rgb(12, 150, 155)">fn</span><span class="token plain"> </span><span class="token function-definition function" style="color:rgb(153, 76, 195);font-style:italic">transform</span><span class="token punctuation" style="color:rgb(153, 76, 195)">(</span><span class="token plain"></span><br></span><span class="token-line theme-code-block-highlighted-line" style="color:#403f53"><span class="token plain">    </span><span class="token operator" style="color:rgb(12, 150, 155)">&amp;</span><span class="token keyword" style="color:rgb(12, 150, 155)">self</span><span class="token punctuation" style="color:rgb(153, 76, 195)">,</span><span class="token plain"></span><br></span><span class="token-line theme-code-block-highlighted-line" style="color:#403f53"><span class="token plain">    param</span><span class="token punctuation" style="color:rgb(153, 76, 195)">:</span><span class="token plain"> </span><span class="token operator" style="color:rgb(12, 150, 155)">&amp;</span><span class="token namespace" style="color:rgb(12, 150, 155)">farmfe_core</span><span class="token namespace punctuation" style="color:rgb(153, 76, 195)">::</span><span class="token namespace" style="color:rgb(12, 150, 155)">plugin</span><span class="token namespace punctuation" style="color:rgb(153, 76, 195)">::</span><span class="token class-name" style="color:rgb(17, 17, 17)">PluginTransformHookParam</span><span class="token punctuation" style="color:rgb(153, 76, 195)">,</span><span class="token plain"></span><br></span><span class="token-line theme-code-block-highlighted-line" style="color:#403f53"><span class="token plain">    _context</span><span class="token punctuation" style="color:rgb(153, 76, 195)">:</span><span class="token plain"> </span><span class="token operator" style="color:rgb(12, 150, 155)">&amp;</span><span class="token namespace" style="color:rgb(12, 150, 155)">std</span><span class="token namespace punctuation" style="color:rgb(153, 76, 195)">::</span><span class="token namespace" style="color:rgb(12, 150, 155)">sync</span><span class="token namespace punctuation" style="color:rgb(153, 76, 195)">::</span><span class="token class-name" style="color:rgb(17, 17, 17)">Arc</span><span class="token operator" style="color:rgb(12, 150, 155)">&lt;</span><span class="token namespace" style="color:rgb(12, 150, 155)">farmfe_core</span><span class="token namespace punctuation" style="color:rgb(153, 76, 195)">::</span><span class="token namespace" style="color:rgb(12, 150, 155)">context</span><span class="token namespace punctuation" style="color:rgb(153, 76, 195)">::</span><span class="token class-name" style="color:rgb(17, 17, 17)">CompilationContext</span><span class="token operator" style="color:rgb(12, 150, 155)">&gt;</span><span class="token punctuation" style="color:rgb(153, 76, 195)">,</span><span class="token plain"></span><br></span><span class="token-line theme-code-block-highlighted-line" style="color:#403f53"><span class="token plain">    _hook_context</span><span class="token punctuation" style="color:rgb(153, 76, 195)">:</span><span class="token plain"> </span><span class="token operator" style="color:rgb(12, 150, 155)">&amp;</span><span class="token namespace" style="color:rgb(12, 150, 155)">farmfe_core</span><span class="token namespace punctuation" style="color:rgb(153, 76, 195)">::</span><span class="token namespace" style="color:rgb(12, 150, 155)">plugin</span><span class="token namespace punctuation" style="color:rgb(153, 76, 195)">::</span><span class="token class-name" style="color:rgb(17, 17, 17)">PluginHookContext</span><span class="token punctuation" style="color:rgb(153, 76, 195)">,</span><span class="token plain"></span><br></span><span class="token-line theme-code-block-highlighted-line" style="color:#403f53"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(153, 76, 195)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(153, 76, 195)">-&gt;</span><span class="token plain"> </span><span class="token namespace" style="color:rgb(12, 150, 155)">farmfe_core</span><span class="token namespace punctuation" style="color:rgb(153, 76, 195)">::</span><span class="token namespace" style="color:rgb(12, 150, 155)">error</span><span class="token namespace punctuation" style="color:rgb(153, 76, 195)">::</span><span class="token class-name" style="color:rgb(17, 17, 17)">Result</span><span class="token operator" style="color:rgb(12, 150, 155)">&lt;</span><span class="token class-name" style="color:rgb(17, 17, 17)">Option</span><span class="token operator" style="color:rgb(12, 150, 155)">&lt;</span><span class="token namespace" style="color:rgb(12, 150, 155)">farmfe_core</span><span class="token namespace punctuation" style="color:rgb(153, 76, 195)">::</span><span class="token namespace" style="color:rgb(12, 150, 155)">plugin</span><span class="token namespace punctuation" style="color:rgb(153, 76, 195)">::</span><span class="token class-name" style="color:rgb(17, 17, 17)">PluginTransformHookResult</span><span class="token operator" style="color:rgb(12, 150, 155)">&gt;&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(153, 76, 195)">{</span><span class="token plain"></span><br></span><span class="token-line theme-code-block-highlighted-line" style="color:#403f53"><span class="token plain">    </span><span class="token comment" style="color:rgb(152, 159, 177);font-style:italic">// module type guard is required</span><span class="token plain"></span><br></span><span class="token-line theme-code-block-highlighted-line" style="color:#403f53"><span class="token plain">    </span><span class="token keyword" style="color:rgb(12, 150, 155)">if</span><span class="token plain"> </span><span class="token macro property" style="color:rgb(12, 150, 155)">matches!</span><span class="token punctuation" style="color:rgb(153, 76, 195)">(</span><span class="token plain">param</span><span class="token punctuation" style="color:rgb(153, 76, 195)">.</span><span class="token plain">module_type</span><span class="token punctuation" style="color:rgb(153, 76, 195)">,</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(17, 17, 17)">ModuleType</span><span class="token punctuation" style="color:rgb(153, 76, 195)">::</span><span class="token class-name" style="color:rgb(17, 17, 17)">Custom</span><span class="token punctuation" style="color:rgb(153, 76, 195)">(</span><span class="token string" style="color:rgb(72, 118, 214)">&quot;sass&quot;</span><span class="token punctuation" style="color:rgb(153, 76, 195)">)</span><span class="token punctuation" style="color:rgb(153, 76, 195)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(153, 76, 195)">{</span><span class="token plain"></span><br></span><span class="token-line theme-code-block-highlighted-line" style="color:#403f53"><span class="token plain">      </span><span class="token comment" style="color:rgb(152, 159, 177);font-style:italic">// compile sass and transform the module type from sass to css</span><span class="token plain"></span><br></span><span class="token-line theme-code-block-highlighted-line" style="color:#403f53"><span class="token plain">      </span><span class="token class-name" style="color:rgb(17, 17, 17)">Ok</span><span class="token punctuation" style="color:rgb(153, 76, 195)">(</span><span class="token class-name" style="color:rgb(17, 17, 17)">Some</span><span class="token punctuation" style="color:rgb(153, 76, 195)">(</span><span class="token namespace" style="color:rgb(12, 150, 155)">farmfe_core</span><span class="token namespace punctuation" style="color:rgb(153, 76, 195)">::</span><span class="token namespace" style="color:rgb(12, 150, 155)">plugin</span><span class="token namespace punctuation" style="color:rgb(153, 76, 195)">::</span><span class="token class-name" style="color:rgb(17, 17, 17)">PluginTransformHookResult</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(153, 76, 195)">{</span><span class="token plain"></span><br></span><span class="token-line theme-code-block-highlighted-line" style="color:#403f53"><span class="token plain">        module_type</span><span class="token punctuation" style="color:rgb(153, 76, 195)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(72, 118, 214)">&quot;css&quot;</span><span class="token punctuation" style="color:rgb(153, 76, 195)">.</span><span class="token function" style="color:rgb(153, 76, 195);font-style:italic">to_string</span><span class="token punctuation" style="color:rgb(153, 76, 195)">(</span><span class="token punctuation" style="color:rgb(153, 76, 195)">)</span><span class="token punctuation" style="color:rgb(153, 76, 195)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#403f53"><span class="token plain">        content</span><span class="token punctuation" style="color:rgb(153, 76, 195)">:</span><span class="token plain"> </span><span class="token function" style="color:rgb(153, 76, 195);font-style:italic">compileSass</span><span class="token punctuation" style="color:rgb(153, 76, 195)">(</span><span class="token plain">param</span><span class="token punctuation" style="color:rgb(153, 76, 195)">.</span><span class="token plain">content</span><span class="token punctuation" style="color:rgb(153, 76, 195)">)</span><span class="token punctuation" style="color:rgb(153, 76, 195)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#403f53"><span class="token plain">        </span><span class="token punctuation" style="color:rgb(153, 76, 195)">..</span><span class="token class-name" style="color:rgb(17, 17, 17)">Default</span><span class="token punctuation" style="color:rgb(153, 76, 195)">::</span><span class="token function" style="color:rgb(153, 76, 195);font-style:italic">default</span><span class="token punctuation" style="color:rgb(153, 76, 195)">(</span><span class="token punctuation" style="color:rgb(153, 76, 195)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#403f53"><span class="token plain">      </span><span class="token punctuation" style="color:rgb(153, 76, 195)">}</span><span class="token punctuation" style="color:rgb(153, 76, 195)">)</span><span class="token punctuation" style="color:rgb(153, 76, 195)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#403f53"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(153, 76, 195)">}</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(12, 150, 155)">else</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(153, 76, 195)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#403f53"><span class="token plain">      </span><span class="token class-name" style="color:rgb(17, 17, 17)">Ok</span><span class="token punctuation" style="color:rgb(153, 76, 195)">(</span><span class="token class-name" style="color:rgb(17, 17, 17)">None</span><span class="token punctuation" style="color:rgb(153, 76, 195)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#403f53"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(153, 76, 195)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#403f53"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(153, 76, 195)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#403f53"><span class="token plain"></span><span class="token punctuation" style="color:rgb(153, 76, 195)">}</span><br></span></code></pre><div class="buttonGroup_S0cj"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_ewWv" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_J1Wb"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_B5Uh"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<div class="theme-admonition theme-admonition-note admonition_Hji6 alert alert--secondary"><div class="admonitionHeading_Si0C"><span class="admonitionIcon_IkYq"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>note</div><div class="admonitionContent_Hw7a"><p>Module type guard like <code>matches!(param.module_type, ModuleType::Custom(&quot;sass&quot;))</code> is required in the <code>transform</code> hook, cause the <code>transform</code> hook will be called for all module types, and you should only handle your custom module type in the <code>transform</code> hook. So do the <code>parse</code> and other hooks.</p></div></div>
<p>or implement <code>parse</code>, <code>render_resource_pot_modules</code> hook to handle your custom module type, see how native farm css plugin handle <code>css</code> module type in <a href="https://github.com/farm-fe/farm/blob/main/crates/plugin_html/src/lib.rs#L159" target="_blank" rel="noopener noreferrer">farm-plugin-css</a>.</p>
<h3 class="anchor anchorWithStickyNavbar_Edcv" id="handle-plugin-options">Handle Plugin Options<a class="hash-link" aria-label="Direct link to Handle Plugin Options" title="Direct link to Handle Plugin Options" href="/docs/plugins/writing-plugins/rust-plugin#handle-plugin-options">â€‹</a></h3>
<p>The rust plugin options can be configured in <code>farm.config.ts</code>:</p>
<div class="language-javascript codeBlockContainer_nfy6 theme-code-block" style="--prism-color:#403f53;--prism-background-color:#FBFBFB"><div class="codeBlockContent_eers"><pre tabindex="0" class="prism-code language-javascript codeBlock_sItO thin-scrollbar" style="color:#403f53;background-color:#FBFBFB"><code class="codeBlockLines_PYqK"><span class="token-line" style="color:#403f53"><span class="token keyword module" style="color:rgb(12, 150, 155)">import</span><span class="token plain"> </span><span class="token imports punctuation" style="color:rgb(153, 76, 195)">{</span><span class="token imports"> defineConfig </span><span class="token imports punctuation" style="color:rgb(153, 76, 195)">}</span><span class="token plain"> </span><span class="token keyword module" style="color:rgb(12, 150, 155)">from</span><span class="token plain"> </span><span class="token string" style="color:rgb(72, 118, 214)">&#x27;@farmfe/core&#x27;</span><span class="token punctuation" style="color:rgb(153, 76, 195)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#403f53"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#403f53"><span class="token plain"></span><span class="token keyword module" style="color:rgb(12, 150, 155)">export</span><span class="token plain"> </span><span class="token keyword module" style="color:rgb(12, 150, 155)">default</span><span class="token plain"> </span><span class="token function" style="color:rgb(153, 76, 195);font-style:italic">defineConfig</span><span class="token punctuation" style="color:rgb(153, 76, 195)">(</span><span class="token punctuation" style="color:rgb(153, 76, 195)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#403f53"><span class="token plain">  </span><span class="token literal-property property" style="color:rgb(12, 150, 155)">plugins</span><span class="token operator" style="color:rgb(12, 150, 155)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(153, 76, 195)">[</span><span class="token plain"></span><br></span><span class="token-line" style="color:#403f53"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(153, 76, 195)">[</span><span class="token string" style="color:rgb(72, 118, 214)">&#x27;my-farm-plugin&#x27;</span><span class="token punctuation" style="color:rgb(153, 76, 195)">,</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(153, 76, 195)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#403f53"><span class="token plain">      </span><span class="token comment" style="color:rgb(152, 159, 177);font-style:italic">// plugin options</span><span class="token plain"></span><br></span><span class="token-line" style="color:#403f53"><span class="token plain">      </span><span class="token literal-property property" style="color:rgb(12, 150, 155)">myOption</span><span class="token operator" style="color:rgb(12, 150, 155)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(72, 118, 214)">&#x27;myOption&#x27;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#403f53"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(153, 76, 195)">}</span><span class="token punctuation" style="color:rgb(153, 76, 195)">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#403f53"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(153, 76, 195)">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#403f53"><span class="token plain"></span><span class="token punctuation" style="color:rgb(153, 76, 195)">}</span><span class="token punctuation" style="color:rgb(153, 76, 195)">)</span><span class="token punctuation" style="color:rgb(153, 76, 195)">;</span><br></span></code></pre><div class="buttonGroup_S0cj"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_ewWv" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_J1Wb"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_B5Uh"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>The Option will be json serialized and passed to the <code>new</code> method of your plugin, you can handle the options in the <code>new</code> method:</p>
<div class="language-rust codeBlockContainer_nfy6 theme-code-block" style="--prism-color:#403f53;--prism-background-color:#FBFBFB"><div class="codeBlockTitle_Mpxf">src/lib.rs</div><div class="codeBlockContent_eers"><pre tabindex="0" class="prism-code language-rust codeBlock_sItO thin-scrollbar" style="color:#403f53;background-color:#FBFBFB"><code class="codeBlockLines_PYqK"><span class="token-line" style="color:#403f53"><span class="token comment" style="color:rgb(152, 159, 177);font-style:italic">// ... ignore other code</span><span class="token plain"></span><br></span><span class="token-line" style="color:#403f53"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#403f53"><span class="token plain"></span><span class="token comment" style="color:rgb(152, 159, 177);font-style:italic">// define your rust plugin options</span><span class="token plain"></span><br></span><span class="token-line" style="color:#403f53"><span class="token plain"></span><span class="token attribute attr-name" style="color:rgb(72, 118, 214);font-style:italic">#[derive(serde::Deserialize)]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#403f53"><span class="token plain"></span><span class="token keyword" style="color:rgb(12, 150, 155)">pub</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(12, 150, 155)">struct</span><span class="token plain"> </span><span class="token type-definition class-name" style="color:rgb(17, 17, 17)">Options</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(153, 76, 195)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#403f53"><span class="token plain">  </span><span class="token keyword" style="color:rgb(12, 150, 155)">pub</span><span class="token plain"> my_option</span><span class="token punctuation" style="color:rgb(153, 76, 195)">:</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(17, 17, 17)">Option</span><span class="token operator" style="color:rgb(12, 150, 155)">&lt;</span><span class="token class-name" style="color:rgb(17, 17, 17)">String</span><span class="token operator" style="color:rgb(12, 150, 155)">&gt;</span><span class="token punctuation" style="color:rgb(153, 76, 195)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#403f53"><span class="token plain"></span><span class="token punctuation" style="color:rgb(153, 76, 195)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#403f53"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#403f53"><span class="token plain"></span><span class="token keyword" style="color:rgb(12, 150, 155)">impl</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(17, 17, 17)">FarmPluginExample</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(153, 76, 195)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#403f53"><span class="token plain">  </span><span class="token keyword" style="color:rgb(12, 150, 155)">fn</span><span class="token plain"> </span><span class="token function-definition function" style="color:rgb(153, 76, 195);font-style:italic">new</span><span class="token punctuation" style="color:rgb(153, 76, 195)">(</span><span class="token plain">config</span><span class="token punctuation" style="color:rgb(153, 76, 195)">:</span><span class="token plain"> </span><span class="token operator" style="color:rgb(12, 150, 155)">&amp;</span><span class="token class-name" style="color:rgb(17, 17, 17)">Config</span><span class="token punctuation" style="color:rgb(153, 76, 195)">,</span><span class="token plain"> options</span><span class="token punctuation" style="color:rgb(153, 76, 195)">:</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(17, 17, 17)">String</span><span class="token punctuation" style="color:rgb(153, 76, 195)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(153, 76, 195)">-&gt;</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(12, 150, 155)">Self</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(153, 76, 195)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#403f53"><span class="token plain">    </span><span class="token comment" style="color:rgb(152, 159, 177);font-style:italic">// deserialize the options</span><span class="token plain"></span><br></span><span class="token-line" style="color:#403f53"><span class="token plain">    </span><span class="token keyword" style="color:rgb(12, 150, 155)">let</span><span class="token plain"> my_option</span><span class="token punctuation" style="color:rgb(153, 76, 195)">:</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(17, 17, 17)">Options</span><span class="token plain"> </span><span class="token operator" style="color:rgb(12, 150, 155)">=</span><span class="token plain"> </span><span class="token namespace" style="color:rgb(12, 150, 155)">serde_json</span><span class="token namespace punctuation" style="color:rgb(153, 76, 195)">::</span><span class="token function" style="color:rgb(153, 76, 195);font-style:italic">from_str</span><span class="token punctuation" style="color:rgb(153, 76, 195)">(</span><span class="token operator" style="color:rgb(12, 150, 155)">&amp;</span><span class="token plain">options</span><span class="token punctuation" style="color:rgb(153, 76, 195)">)</span><span class="token punctuation" style="color:rgb(153, 76, 195)">.</span><span class="token function" style="color:rgb(153, 76, 195);font-style:italic">unwrap</span><span class="token punctuation" style="color:rgb(153, 76, 195)">(</span><span class="token punctuation" style="color:rgb(153, 76, 195)">)</span><span class="token punctuation" style="color:rgb(153, 76, 195)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#403f53"><span class="token plain">    </span><span class="token comment" style="color:rgb(152, 159, 177);font-style:italic">// handle the options...</span><span class="token plain"></span><br></span><span class="token-line" style="color:#403f53"><span class="token plain">    </span><span class="token keyword" style="color:rgb(12, 150, 155)">Self</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(153, 76, 195)">{</span><span class="token punctuation" style="color:rgb(153, 76, 195)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#403f53"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(153, 76, 195)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#403f53"><span class="token plain"></span><span class="token punctuation" style="color:rgb(153, 76, 195)">}</span><br></span></code></pre><div class="buttonGroup_S0cj"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_ewWv" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_J1Wb"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_B5Uh"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>Note that you should add dependencies <code>serde</code> and <code>serde_json</code> to your <code>Cargo.toml</code> to support options deserialization:</p>
<div class="language-toml codeBlockContainer_nfy6 theme-code-block" style="--prism-color:#403f53;--prism-background-color:#FBFBFB"><div class="codeBlockContent_eers"><pre tabindex="0" class="prism-code language-toml codeBlock_sItO thin-scrollbar" style="color:#403f53;background-color:#FBFBFB"><code class="codeBlockLines_PYqK"><span class="token-line" style="color:#403f53"><span class="token plain">[dependencies]</span><br></span><span class="token-line" style="color:#403f53"><span class="token plain"># ... ignore other code</span><br></span><span class="token-line" style="color:#403f53"><span class="token plain">serde = { version = &quot;1.0&quot;, features = [&quot;derive&quot;] }</span><br></span><span class="token-line" style="color:#403f53"><span class="token plain">serde_json = &quot;1.0&quot;</span><br></span></code></pre><div class="buttonGroup_S0cj"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_ewWv" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_J1Wb"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_B5Uh"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<div class="theme-admonition theme-admonition-note admonition_Hji6 alert alert--secondary"><div class="admonitionHeading_Si0C"><span class="admonitionIcon_IkYq"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>note</div><div class="admonitionContent_Hw7a"><p>Non json serializable options are not supported. Which means you can only use types like string, number, boolean, array, object, etc. <code>function options</code> are not supported.</p></div></div>
<h3 class="anchor anchorWithStickyNavbar_Edcv" id="using-farm_core-in-plugin">Using farm_core In Plugin<a class="hash-link" aria-label="Direct link to Using farm_core In Plugin" title="Direct link to Using farm_core In Plugin" href="/docs/plugins/writing-plugins/rust-plugin#using-farm_core-in-plugin">â€‹</a></h3>
<p>Farm exposes all core structures and utilities in <a href="https://docs.rs/farmfe_core" target="_blank" rel="noopener noreferrer"><code>farmfe_core</code></a> crate. Refer to the <a href="https://docs.rs/farmfe_core" target="_blank" rel="noopener noreferrer">farmfe_core</a> documentation for more detail.</p>
<div class="theme-admonition theme-admonition-note admonition_Hji6 alert alert--secondary"><div class="admonitionHeading_Si0C"><span class="admonitionIcon_IkYq"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>note</div><div class="admonitionContent_Hw7a"><p>If you want to use swc structures like <code>Module</code>, <code>Program</code>, etc. in your plugin, you should use <code>farmfe_core::swc_ast</code> that re-exposed by farm core. Cause the swc version used by farm core may be different from the swc version you used in your plugin, and the swc version used by farm core is guaranteed to be compatible with farm core.</p></div></div>
<h3 class="anchor anchorWithStickyNavbar_Edcv" id="caveats">Caveats<a class="hash-link" aria-label="Direct link to Caveats" title="Direct link to Caveats" href="/docs/plugins/writing-plugins/rust-plugin#caveats">â€‹</a></h3>
<h4 class="anchor anchorWithStickyNavbar_Edcv" id="using-swc-in-plugin">Using SWC In Plugin<a class="hash-link" aria-label="Direct link to Using SWC In Plugin" title="Direct link to Using SWC In Plugin" href="/docs/plugins/writing-plugins/rust-plugin#using-swc-in-plugin">â€‹</a></h4>
<p>Note that your rust plugin should not use any SWC related packages like <code>swc_common</code>, <code>swc_transforms</code>, etc. Cause SWC stores the global state in the process, it may cause <strong>dead lock</strong> when you use SWC in your plugin.</p>
<p>Farm recommended to write <a href="/docs/using-plugins#using-swc-plugins">SWC Plugin</a> if you want to make changes to the AST of your farm project. For how to write SWC plugin, see <a href="https://swc.rs/docs/plugin/ecmascript/getting-started" target="_blank" rel="noopener noreferrer">Write SWC Plugin</a>.</p>
<h4 class="anchor anchorWithStickyNavbar_Edcv" id="choosing-rust-toolchain">Choosing Rust toolchain<a class="hash-link" aria-label="Direct link to Choosing Rust toolchain" title="Direct link to Choosing Rust toolchain" href="/docs/plugins/writing-plugins/rust-plugin#choosing-rust-toolchain">â€‹</a></h4>
<p>Cause Farm Rust Plugin is a dynamic linked library, you should always use the same version of the rust toolchain as the farm core. The rust toolchain is defined in <code>rust-toolchain.toml</code>, it should <strong>not be modified manually</strong>.
And should should always build your plugin from Rust, cause Farm Core does not support FFI and not promise ABI stability to provide best performance.</p>
<h3 class="anchor anchorWithStickyNavbar_Edcv" id="plugin-compatibility">Plugin Compatibility<a class="hash-link" aria-label="Direct link to Plugin Compatibility" title="Direct link to Plugin Compatibility" href="/docs/plugins/writing-plugins/rust-plugin#plugin-compatibility">â€‹</a></h3>
<p>Farm core maintains a API version that exposes to the plugin. If you met a message like <code>Incompatible Rust Plugin: Current core&#x27;s version...</code>, it means your plugin is not compatible with the current farm core version. You should update your plugin to the latest version to fix the issue.</p>
<p>For plugin authors, you should rebuild and publish your plugin for the latest farm core version to make your plugin compatible with the latest farm core version.</p>
<div class="theme-admonition theme-admonition-note admonition_Hji6 alert alert--secondary"><div class="admonitionHeading_Si0C"><span class="admonitionIcon_IkYq"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>note</div><div class="admonitionContent_Hw7a"><p>Farm promises API Compatibility for the same major version, for example, if your plugin is compatible with farm core 1.0.0, it should also be compatible with farm core 1.1.0, 1.2.0, etc. which means your plugin will always work for the same major version of farm.</p></div></div>
<h2 class="anchor anchorWithStickyNavbar_Edcv" id="cross-build">Cross Build<a class="hash-link" aria-label="Direct link to Cross Build" title="Direct link to Cross Build" href="/docs/plugins/writing-plugins/rust-plugin#cross-build">â€‹</a></h2>
<p>A Farm Rust Plugin is a <strong>platform specific dynamic linked library</strong>, you should build your plugin for all platforms you want to support.
Farm provided a example for how to build your plugin using github actions, see <a href="https://github.com/farm-fe/rust-plugin-example/blob/main/.github/workflows/build.yaml" target="_blank" rel="noopener noreferrer">.github/workflows/build.yml</a></p>
<p>By default, A farm rust plugin should be built for the following platforms:</p>
<ul>
<li><code>linux-x64-gnu </code></li>
<li><code>linux-x64-musl</code></li>
<li><code>darwin-x64</code></li>
<li><code>win32-x64-msvc</code></li>
<li><code>linux-arm64-musl</code></li>
<li><code>linux-arm64-gnu</code></li>
<li><code>darwin-arm64</code></li>
<li><code>win32-ia32-msvc</code></li>
<li><code>win32-arm64-msvc</code></li>
</ul>
<p>For a public plugin that published to npm registry, we recommend you to publish your plugin for all platforms above. For a private rust plugin, you can build your plugin for any platform you want to support.</p>
<div class="theme-admonition theme-admonition-tip admonition_Hji6 alert alert--success"><div class="admonitionHeading_Si0C"><span class="admonitionIcon_IkYq"><svg viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></span>tip</div><div class="admonitionContent_Hw7a"><p>Cause a rust plugin is a pure dynamic linked library, if you have questions about how to build your plugin for a specific platform, just google how to build a dynamic linked library for that platform in Rust.</p></div></div>
<h2 class="anchor anchorWithStickyNavbar_Edcv" id="publish">Publish<a class="hash-link" aria-label="Direct link to Publish" title="Direct link to Publish" href="/docs/plugins/writing-plugins/rust-plugin#publish">â€‹</a></h2>
<p>Steps to publish your Rust plugin:</p>
<ol>
<li>Cross build the Rust plugin to dynamic linked library, see <a href="/docs/plugins/writing-plugins/rust-plugin#cross-build">Cross Build</a> for detail.</li>
<li>Copy the binary artifacts to npm dir, for example: Copy to <code>npm/linux-x64-gnu/index.farm</code>.</li>
<li>Publish platform specific packages under npm dir, you can use <code>farm-plugin-tool prepublish</code> to publish packages under <code>npm</code> dir.</li>
<li>Publish the package itself</li>
</ol>
<p>see example <a href="https://github.com/farm-fe/rust-plugin-example/blob/main/.github/workflows/release.yml" target="_blank" rel="noopener noreferrer">github actions publish workflow</a></p>
<h2 class="anchor anchorWithStickyNavbar_Edcv" id="examples">Examples<a class="hash-link" aria-label="Direct link to Examples" title="Direct link to Examples" href="/docs/plugins/writing-plugins/rust-plugin#examples">â€‹</a></h2>
<p>We will use <code>@farmfe/plugin-sass</code> as demostration to a real Rust plugin example. This plugin will support compiling <code>.scss</code> and <code>.sass</code> file in your farm project.</p>
<h3 class="anchor anchorWithStickyNavbar_Edcv" id="define-plugin">Define Plugin<a class="hash-link" aria-label="Direct link to Define Plugin" title="Direct link to Define Plugin" href="/docs/plugins/writing-plugins/rust-plugin#define-plugin">â€‹</a></h3>
<p>Exports a Rust struct named <code>FarmPluginSass</code>.</p>
<div class="language-rust codeBlockContainer_nfy6 theme-code-block" style="--prism-color:#403f53;--prism-background-color:#FBFBFB"><div class="codeBlockTitle_Mpxf">src/lib.rs</div><div class="codeBlockContent_eers"><pre tabindex="0" class="prism-code language-rust codeBlock_sItO thin-scrollbar" style="color:#403f53;background-color:#FBFBFB"><code class="codeBlockLines_PYqK"><span class="token-line" style="color:#403f53"><span class="token keyword" style="color:rgb(12, 150, 155)">use</span><span class="token plain"> </span><span class="token namespace" style="color:rgb(12, 150, 155)">farmfe_macro_plugin</span><span class="token namespace punctuation" style="color:rgb(153, 76, 195)">::</span><span class="token plain">farm_plugin</span><span class="token punctuation" style="color:rgb(153, 76, 195)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#403f53"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#403f53"><span class="token plain"></span><span class="token comment" style="color:rgb(152, 159, 177);font-style:italic">// 1. define a struct with #[farm_plugin] attribute</span><span class="token plain"></span><br></span><span class="token-line" style="color:#403f53"><span class="token plain"></span><span class="token attribute attr-name" style="color:rgb(72, 118, 214);font-style:italic">#[farm_plugin]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#403f53"><span class="token plain"></span><span class="token keyword" style="color:rgb(12, 150, 155)">pub</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(12, 150, 155)">struct</span><span class="token plain"> </span><span class="token type-definition class-name" style="color:rgb(17, 17, 17)">FarmPluginSass</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(153, 76, 195)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#403f53"><span class="token plain">  sass_options</span><span class="token punctuation" style="color:rgb(153, 76, 195)">:</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(17, 17, 17)">String</span><span class="token punctuation" style="color:rgb(153, 76, 195)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#403f53"><span class="token plain">  regex</span><span class="token punctuation" style="color:rgb(153, 76, 195)">:</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(17, 17, 17)">Regex</span><span class="token punctuation" style="color:rgb(153, 76, 195)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#403f53"><span class="token plain"></span><span class="token punctuation" style="color:rgb(153, 76, 195)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#403f53"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#403f53"><span class="token plain"></span><span class="token keyword" style="color:rgb(12, 150, 155)">impl</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(17, 17, 17)">FarmPluginSass</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(153, 76, 195)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#403f53"><span class="token plain">  </span><span class="token comment" style="color:rgb(152, 159, 177);font-style:italic">// 2. define a new method with 2 arguments</span><span class="token plain"></span><br></span><span class="token-line" style="color:#403f53"><span class="token plain">  </span><span class="token keyword" style="color:rgb(12, 150, 155)">pub</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(12, 150, 155)">fn</span><span class="token plain"> </span><span class="token function-definition function" style="color:rgb(153, 76, 195);font-style:italic">new</span><span class="token punctuation" style="color:rgb(153, 76, 195)">(</span><span class="token plain">_config</span><span class="token punctuation" style="color:rgb(153, 76, 195)">:</span><span class="token plain"> </span><span class="token operator" style="color:rgb(12, 150, 155)">&amp;</span><span class="token class-name" style="color:rgb(17, 17, 17)">Config</span><span class="token punctuation" style="color:rgb(153, 76, 195)">,</span><span class="token plain"> options</span><span class="token punctuation" style="color:rgb(153, 76, 195)">:</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(17, 17, 17)">String</span><span class="token punctuation" style="color:rgb(153, 76, 195)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(153, 76, 195)">-&gt;</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(12, 150, 155)">Self</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(153, 76, 195)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#403f53"><span class="token plain">    </span><span class="token keyword" style="color:rgb(12, 150, 155)">Self</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(153, 76, 195)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#403f53"><span class="token plain">      sass_options</span><span class="token punctuation" style="color:rgb(153, 76, 195)">:</span><span class="token plain"> options</span><span class="token punctuation" style="color:rgb(153, 76, 195)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#403f53"><span class="token plain">      regex</span><span class="token punctuation" style="color:rgb(153, 76, 195)">:</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(17, 17, 17)">Regex</span><span class="token punctuation" style="color:rgb(153, 76, 195)">::</span><span class="token function" style="color:rgb(153, 76, 195);font-style:italic">new</span><span class="token punctuation" style="color:rgb(153, 76, 195)">(</span><span class="token string" style="color:rgb(72, 118, 214)">r#&quot;\.(sass|scss)$&quot;#</span><span class="token punctuation" style="color:rgb(153, 76, 195)">)</span><span class="token punctuation" style="color:rgb(153, 76, 195)">.</span><span class="token function" style="color:rgb(153, 76, 195);font-style:italic">unwrap</span><span class="token punctuation" style="color:rgb(153, 76, 195)">(</span><span class="token punctuation" style="color:rgb(153, 76, 195)">)</span><span class="token punctuation" style="color:rgb(153, 76, 195)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#403f53"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(153, 76, 195)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#403f53"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(153, 76, 195)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#403f53"><span class="token plain"></span><span class="token punctuation" style="color:rgb(153, 76, 195)">}</span><br></span></code></pre><div class="buttonGroup_S0cj"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_ewWv" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_J1Wb"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_B5Uh"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<ul>
<li>The struct must be <code>pub</code> and <code>#[farm_plugin]</code> attribute is required.</li>
<li>The struct must export a <code>new</code> method that accepts 2 arguments for initialization, the first argument is <code>&amp;Config</code> and the second argument is <code>String</code>.</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_Edcv" id="implement-plugin-trait">Implement Plugin Trait<a class="hash-link" aria-label="Direct link to Implement Plugin Trait" title="Direct link to Implement Plugin Trait" href="/docs/plugins/writing-plugins/rust-plugin#implement-plugin-trait">â€‹</a></h3>
<p><code>Plugin</code> trait is used to define <code>hooks</code> that can hook into Farm compiler.</p>
<div class="language-rust codeBlockContainer_nfy6 theme-code-block" style="--prism-color:#403f53;--prism-background-color:#FBFBFB"><div class="codeBlockContent_eers"><pre tabindex="0" class="prism-code language-rust codeBlock_sItO thin-scrollbar" style="color:#403f53;background-color:#FBFBFB"><code class="codeBlockLines_PYqK"><span class="token-line" style="color:#403f53"><span class="token keyword" style="color:rgb(12, 150, 155)">use</span><span class="token plain"> </span><span class="token namespace" style="color:rgb(12, 150, 155)">farmfe_core</span><span class="token namespace punctuation" style="color:rgb(153, 76, 195)">::</span><span class="token namespace" style="color:rgb(12, 150, 155)">plugin</span><span class="token namespace punctuation" style="color:rgb(153, 76, 195)">::</span><span class="token class-name" style="color:rgb(17, 17, 17)">Plugin</span><span class="token punctuation" style="color:rgb(153, 76, 195)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#403f53"><span class="token plain"></span><span class="token keyword" style="color:rgb(12, 150, 155)">use</span><span class="token plain"> </span><span class="token namespace" style="color:rgb(12, 150, 155)">farmfe_macro_plugin</span><span class="token namespace punctuation" style="color:rgb(153, 76, 195)">::</span><span class="token plain">farm_plugin</span><span class="token punctuation" style="color:rgb(153, 76, 195)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#403f53"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#403f53"><span class="token plain"></span><span class="token comment" style="color:rgb(152, 159, 177);font-style:italic">// 1. define a struct with #[farm_plugin] attribute</span><span class="token plain"></span><br></span><span class="token-line" style="color:#403f53"><span class="token plain"></span><span class="token attribute attr-name" style="color:rgb(72, 118, 214);font-style:italic">#[farm_plugin]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#403f53"><span class="token plain"></span><span class="token keyword" style="color:rgb(12, 150, 155)">pub</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(12, 150, 155)">struct</span><span class="token plain"> </span><span class="token type-definition class-name" style="color:rgb(17, 17, 17)">FarmPluginSass</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(153, 76, 195)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#403f53"><span class="token plain">  sass_options</span><span class="token punctuation" style="color:rgb(153, 76, 195)">:</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(17, 17, 17)">String</span><span class="token punctuation" style="color:rgb(153, 76, 195)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#403f53"><span class="token plain">  regex</span><span class="token punctuation" style="color:rgb(153, 76, 195)">:</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(17, 17, 17)">Regex</span><span class="token punctuation" style="color:rgb(153, 76, 195)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#403f53"><span class="token plain"></span><span class="token punctuation" style="color:rgb(153, 76, 195)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#403f53"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#403f53"><span class="token plain"></span><span class="token keyword" style="color:rgb(12, 150, 155)">impl</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(17, 17, 17)">FarmPluginSass</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(153, 76, 195)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#403f53"><span class="token plain">  </span><span class="token comment" style="color:rgb(152, 159, 177);font-style:italic">// 2. define a new method with 2 arguments</span><span class="token plain"></span><br></span><span class="token-line" style="color:#403f53"><span class="token plain">  </span><span class="token keyword" style="color:rgb(12, 150, 155)">pub</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(12, 150, 155)">fn</span><span class="token plain"> </span><span class="token function-definition function" style="color:rgb(153, 76, 195);font-style:italic">new</span><span class="token punctuation" style="color:rgb(153, 76, 195)">(</span><span class="token plain">_config</span><span class="token punctuation" style="color:rgb(153, 76, 195)">:</span><span class="token plain"> </span><span class="token operator" style="color:rgb(12, 150, 155)">&amp;</span><span class="token class-name" style="color:rgb(17, 17, 17)">Config</span><span class="token punctuation" style="color:rgb(153, 76, 195)">,</span><span class="token plain"> options</span><span class="token punctuation" style="color:rgb(153, 76, 195)">:</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(17, 17, 17)">String</span><span class="token punctuation" style="color:rgb(153, 76, 195)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(153, 76, 195)">-&gt;</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(12, 150, 155)">Self</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(153, 76, 195)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#403f53"><span class="token plain">    </span><span class="token keyword" style="color:rgb(12, 150, 155)">Self</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(153, 76, 195)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#403f53"><span class="token plain">      sass_options</span><span class="token punctuation" style="color:rgb(153, 76, 195)">:</span><span class="token plain"> options</span><span class="token punctuation" style="color:rgb(153, 76, 195)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#403f53"><span class="token plain">      regex</span><span class="token punctuation" style="color:rgb(153, 76, 195)">:</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(17, 17, 17)">Regex</span><span class="token punctuation" style="color:rgb(153, 76, 195)">::</span><span class="token function" style="color:rgb(153, 76, 195);font-style:italic">new</span><span class="token punctuation" style="color:rgb(153, 76, 195)">(</span><span class="token string" style="color:rgb(72, 118, 214)">r#&quot;\.(sass|scss)$&quot;#</span><span class="token punctuation" style="color:rgb(153, 76, 195)">)</span><span class="token punctuation" style="color:rgb(153, 76, 195)">.</span><span class="token function" style="color:rgb(153, 76, 195);font-style:italic">unwrap</span><span class="token punctuation" style="color:rgb(153, 76, 195)">(</span><span class="token punctuation" style="color:rgb(153, 76, 195)">)</span><span class="token punctuation" style="color:rgb(153, 76, 195)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#403f53"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(153, 76, 195)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#403f53"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(153, 76, 195)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#403f53"><span class="token plain"></span><span class="token punctuation" style="color:rgb(153, 76, 195)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#403f53"><span class="token plain"></span><span class="token comment" style="color:rgb(152, 159, 177);font-style:italic">// Implement Plugin Trait</span><span class="token plain"></span><br></span><span class="token-line theme-code-block-highlighted-line" style="color:#403f53"><span class="token plain"></span><span class="token keyword" style="color:rgb(12, 150, 155)">impl</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(17, 17, 17)">Plugin</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(12, 150, 155)">for</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(17, 17, 17)">FarmPluginSass</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(153, 76, 195)">{</span><span class="token plain"></span><br></span><span class="token-line theme-code-block-highlighted-line" style="color:#403f53"><span class="token plain">  </span><span class="token keyword" style="color:rgb(12, 150, 155)">fn</span><span class="token plain"> </span><span class="token function-definition function" style="color:rgb(153, 76, 195);font-style:italic">name</span><span class="token punctuation" style="color:rgb(153, 76, 195)">(</span><span class="token operator" style="color:rgb(12, 150, 155)">&amp;</span><span class="token keyword" style="color:rgb(12, 150, 155)">self</span><span class="token punctuation" style="color:rgb(153, 76, 195)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(153, 76, 195)">-&gt;</span><span class="token plain"> </span><span class="token operator" style="color:rgb(12, 150, 155)">&amp;</span><span class="token keyword" style="color:rgb(12, 150, 155)">str</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(153, 76, 195)">{</span><span class="token plain"></span><br></span><span class="token-line theme-code-block-highlighted-line" style="color:#403f53"><span class="token plain">    </span><span class="token string" style="color:rgb(72, 118, 214)">&quot;FarmPluginSass&quot;</span><span class="token plain"></span><br></span><span class="token-line theme-code-block-highlighted-line" style="color:#403f53"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(153, 76, 195)">}</span><span class="token plain"></span><br></span><span class="token-line theme-code-block-highlighted-line" style="color:#403f53"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line theme-code-block-highlighted-line" style="color:#403f53"><span class="token plain">  </span><span class="token comment" style="color:rgb(152, 159, 177);font-style:italic">// this plugin should be executed before internal plugins</span><span class="token plain"></span><br></span><span class="token-line theme-code-block-highlighted-line" style="color:#403f53"><span class="token plain">  </span><span class="token keyword" style="color:rgb(12, 150, 155)">fn</span><span class="token plain"> </span><span class="token function-definition function" style="color:rgb(153, 76, 195);font-style:italic">priority</span><span class="token punctuation" style="color:rgb(153, 76, 195)">(</span><span class="token operator" style="color:rgb(12, 150, 155)">&amp;</span><span class="token keyword" style="color:rgb(12, 150, 155)">self</span><span class="token punctuation" style="color:rgb(153, 76, 195)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(153, 76, 195)">-&gt;</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(12, 150, 155)">i32</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(153, 76, 195)">{</span><span class="token plain"></span><br></span><span class="token-line theme-code-block-highlighted-line" style="color:#403f53"><span class="token plain">    </span><span class="token number" style="color:rgb(170, 9, 130)">101</span><span class="token plain"></span><br></span><span class="token-line theme-code-block-highlighted-line" style="color:#403f53"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(153, 76, 195)">}</span><span class="token plain"></span><br></span><span class="token-line theme-code-block-highlighted-line" style="color:#403f53"><span class="token plain"></span><span class="token punctuation" style="color:rgb(153, 76, 195)">}</span><br></span></code></pre><div class="buttonGroup_S0cj"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_ewWv" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_J1Wb"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_B5Uh"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_Edcv" id="load-scss-file">Load <code>.scss</code> File<a class="hash-link" aria-label="Direct link to load-scss-file" title="Direct link to load-scss-file" href="/docs/plugins/writing-plugins/rust-plugin#load-scss-file">â€‹</a></h3>
<p>Implement <code>load</code> hook to support load <code>.scss</code> files.</p>
<div class="language-rust codeBlockContainer_nfy6 theme-code-block" style="--prism-color:#403f53;--prism-background-color:#FBFBFB"><div class="codeBlockContent_eers"><pre tabindex="0" class="prism-code language-rust codeBlock_sItO thin-scrollbar" style="color:#403f53;background-color:#FBFBFB"><code class="codeBlockLines_PYqK"><span class="token-line" style="color:#403f53"><span class="token comment" style="color:rgb(152, 159, 177);font-style:italic">// ignore other code ...</span><span class="token plain"></span><br></span><span class="token-line" style="color:#403f53"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#403f53"><span class="token plain"></span><span class="token comment" style="color:rgb(152, 159, 177);font-style:italic">// Implement Plugin Trait</span><span class="token plain"></span><br></span><span class="token-line" style="color:#403f53"><span class="token plain"></span><span class="token keyword" style="color:rgb(12, 150, 155)">impl</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(17, 17, 17)">Plugin</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(12, 150, 155)">for</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(17, 17, 17)">FarmPluginSass</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(153, 76, 195)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#403f53"><span class="token plain">  </span><span class="token keyword" style="color:rgb(12, 150, 155)">fn</span><span class="token plain"> </span><span class="token function-definition function" style="color:rgb(153, 76, 195);font-style:italic">name</span><span class="token punctuation" style="color:rgb(153, 76, 195)">(</span><span class="token operator" style="color:rgb(12, 150, 155)">&amp;</span><span class="token keyword" style="color:rgb(12, 150, 155)">self</span><span class="token punctuation" style="color:rgb(153, 76, 195)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(153, 76, 195)">-&gt;</span><span class="token plain"> </span><span class="token operator" style="color:rgb(12, 150, 155)">&amp;</span><span class="token keyword" style="color:rgb(12, 150, 155)">str</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(153, 76, 195)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#403f53"><span class="token plain">    </span><span class="token string" style="color:rgb(72, 118, 214)">&quot;FarmPluginSass&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#403f53"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(153, 76, 195)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#403f53"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#403f53"><span class="token plain">  </span><span class="token comment" style="color:rgb(152, 159, 177);font-style:italic">// this plugin should be executed before internal plugins</span><span class="token plain"></span><br></span><span class="token-line" style="color:#403f53"><span class="token plain">  </span><span class="token keyword" style="color:rgb(12, 150, 155)">fn</span><span class="token plain"> </span><span class="token function-definition function" style="color:rgb(153, 76, 195);font-style:italic">priority</span><span class="token punctuation" style="color:rgb(153, 76, 195)">(</span><span class="token operator" style="color:rgb(12, 150, 155)">&amp;</span><span class="token keyword" style="color:rgb(12, 150, 155)">self</span><span class="token punctuation" style="color:rgb(153, 76, 195)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(153, 76, 195)">-&gt;</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(12, 150, 155)">i32</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(153, 76, 195)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#403f53"><span class="token plain">    </span><span class="token number" style="color:rgb(170, 9, 130)">101</span><span class="token plain"></span><br></span><span class="token-line" style="color:#403f53"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(153, 76, 195)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#403f53"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line theme-code-block-highlighted-line" style="color:#403f53"><span class="token plain">  </span><span class="token keyword" style="color:rgb(12, 150, 155)">fn</span><span class="token plain"> </span><span class="token function-definition function" style="color:rgb(153, 76, 195);font-style:italic">load</span><span class="token punctuation" style="color:rgb(153, 76, 195)">(</span><span class="token plain"></span><br></span><span class="token-line theme-code-block-highlighted-line" style="color:#403f53"><span class="token plain">    </span><span class="token operator" style="color:rgb(12, 150, 155)">&amp;</span><span class="token keyword" style="color:rgb(12, 150, 155)">self</span><span class="token punctuation" style="color:rgb(153, 76, 195)">,</span><span class="token plain"></span><br></span><span class="token-line theme-code-block-highlighted-line" style="color:#403f53"><span class="token plain">    param</span><span class="token punctuation" style="color:rgb(153, 76, 195)">:</span><span class="token plain"> </span><span class="token operator" style="color:rgb(12, 150, 155)">&amp;</span><span class="token namespace" style="color:rgb(12, 150, 155)">farmfe_core</span><span class="token namespace punctuation" style="color:rgb(153, 76, 195)">::</span><span class="token namespace" style="color:rgb(12, 150, 155)">plugin</span><span class="token namespace punctuation" style="color:rgb(153, 76, 195)">::</span><span class="token class-name" style="color:rgb(17, 17, 17)">PluginLoadHookParam</span><span class="token punctuation" style="color:rgb(153, 76, 195)">,</span><span class="token plain"></span><br></span><span class="token-line theme-code-block-highlighted-line" style="color:#403f53"><span class="token plain">    _context</span><span class="token punctuation" style="color:rgb(153, 76, 195)">:</span><span class="token plain"> </span><span class="token operator" style="color:rgb(12, 150, 155)">&amp;</span><span class="token namespace" style="color:rgb(12, 150, 155)">std</span><span class="token namespace punctuation" style="color:rgb(153, 76, 195)">::</span><span class="token namespace" style="color:rgb(12, 150, 155)">sync</span><span class="token namespace punctuation" style="color:rgb(153, 76, 195)">::</span><span class="token class-name" style="color:rgb(17, 17, 17)">Arc</span><span class="token operator" style="color:rgb(12, 150, 155)">&lt;</span><span class="token namespace" style="color:rgb(12, 150, 155)">farmfe_core</span><span class="token namespace punctuation" style="color:rgb(153, 76, 195)">::</span><span class="token namespace" style="color:rgb(12, 150, 155)">context</span><span class="token namespace punctuation" style="color:rgb(153, 76, 195)">::</span><span class="token class-name" style="color:rgb(17, 17, 17)">CompilationContext</span><span class="token operator" style="color:rgb(12, 150, 155)">&gt;</span><span class="token punctuation" style="color:rgb(153, 76, 195)">,</span><span class="token plain"></span><br></span><span class="token-line theme-code-block-highlighted-line" style="color:#403f53"><span class="token plain">    _hook_context</span><span class="token punctuation" style="color:rgb(153, 76, 195)">:</span><span class="token plain"> </span><span class="token operator" style="color:rgb(12, 150, 155)">&amp;</span><span class="token namespace" style="color:rgb(12, 150, 155)">farmfe_core</span><span class="token namespace punctuation" style="color:rgb(153, 76, 195)">::</span><span class="token namespace" style="color:rgb(12, 150, 155)">plugin</span><span class="token namespace punctuation" style="color:rgb(153, 76, 195)">::</span><span class="token class-name" style="color:rgb(17, 17, 17)">PluginHookContext</span><span class="token punctuation" style="color:rgb(153, 76, 195)">,</span><span class="token plain"></span><br></span><span class="token-line theme-code-block-highlighted-line" style="color:#403f53"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(153, 76, 195)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(153, 76, 195)">-&gt;</span><span class="token plain"> </span><span class="token namespace" style="color:rgb(12, 150, 155)">farmfe_core</span><span class="token namespace punctuation" style="color:rgb(153, 76, 195)">::</span><span class="token namespace" style="color:rgb(12, 150, 155)">error</span><span class="token namespace punctuation" style="color:rgb(153, 76, 195)">::</span><span class="token class-name" style="color:rgb(17, 17, 17)">Result</span><span class="token operator" style="color:rgb(12, 150, 155)">&lt;</span><span class="token class-name" style="color:rgb(17, 17, 17)">Option</span><span class="token operator" style="color:rgb(12, 150, 155)">&lt;</span><span class="token namespace" style="color:rgb(12, 150, 155)">farmfe_core</span><span class="token namespace punctuation" style="color:rgb(153, 76, 195)">::</span><span class="token namespace" style="color:rgb(12, 150, 155)">plugin</span><span class="token namespace punctuation" style="color:rgb(153, 76, 195)">::</span><span class="token class-name" style="color:rgb(17, 17, 17)">PluginLoadHookResult</span><span class="token operator" style="color:rgb(12, 150, 155)">&gt;&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(153, 76, 195)">{</span><span class="token plain"></span><br></span><span class="token-line theme-code-block-highlighted-line" style="color:#403f53"><span class="token plain">    </span><span class="token keyword" style="color:rgb(12, 150, 155)">if</span><span class="token plain"> param</span><span class="token punctuation" style="color:rgb(153, 76, 195)">.</span><span class="token plain">query</span><span class="token punctuation" style="color:rgb(153, 76, 195)">.</span><span class="token function" style="color:rgb(153, 76, 195);font-style:italic">is_empty</span><span class="token punctuation" style="color:rgb(153, 76, 195)">(</span><span class="token punctuation" style="color:rgb(153, 76, 195)">)</span><span class="token plain"> </span><span class="token operator" style="color:rgb(12, 150, 155)">&amp;&amp;</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(12, 150, 155)">self</span><span class="token punctuation" style="color:rgb(153, 76, 195)">.</span><span class="token plain">regex</span><span class="token punctuation" style="color:rgb(153, 76, 195)">.</span><span class="token function" style="color:rgb(153, 76, 195);font-style:italic">is_match</span><span class="token punctuation" style="color:rgb(153, 76, 195)">(</span><span class="token plain">param</span><span class="token punctuation" style="color:rgb(153, 76, 195)">.</span><span class="token plain">resolved_path</span><span class="token punctuation" style="color:rgb(153, 76, 195)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(153, 76, 195)">{</span><span class="token plain"></span><br></span><span class="token-line theme-code-block-highlighted-line" style="color:#403f53"><span class="token plain">      </span><span class="token keyword" style="color:rgb(12, 150, 155)">let</span><span class="token plain"> content </span><span class="token operator" style="color:rgb(12, 150, 155)">=</span><span class="token plain"> </span><span class="token namespace" style="color:rgb(12, 150, 155)">fs</span><span class="token namespace punctuation" style="color:rgb(153, 76, 195)">::</span><span class="token function" style="color:rgb(153, 76, 195);font-style:italic">read_file_utf8</span><span class="token punctuation" style="color:rgb(153, 76, 195)">(</span><span class="token plain">param</span><span class="token punctuation" style="color:rgb(153, 76, 195)">.</span><span class="token plain">resolved_path</span><span class="token punctuation" style="color:rgb(153, 76, 195)">)</span><span class="token punctuation" style="color:rgb(153, 76, 195)">;</span><span class="token plain"></span><br></span><span class="token-line theme-code-block-highlighted-line" style="color:#403f53"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line theme-code-block-highlighted-line" style="color:#403f53"><span class="token plain">      </span><span class="token keyword" style="color:rgb(12, 150, 155)">if</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(12, 150, 155)">let</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(17, 17, 17)">Ok</span><span class="token punctuation" style="color:rgb(153, 76, 195)">(</span><span class="token plain">content</span><span class="token punctuation" style="color:rgb(153, 76, 195)">)</span><span class="token plain"> </span><span class="token operator" style="color:rgb(12, 150, 155)">=</span><span class="token plain"> content </span><span class="token punctuation" style="color:rgb(153, 76, 195)">{</span><span class="token plain"></span><br></span><span class="token-line theme-code-block-highlighted-line" style="color:#403f53"><span class="token plain">        </span><span class="token keyword" style="color:rgb(12, 150, 155)">return</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(17, 17, 17)">Ok</span><span class="token punctuation" style="color:rgb(153, 76, 195)">(</span><span class="token class-name" style="color:rgb(17, 17, 17)">Some</span><span class="token punctuation" style="color:rgb(153, 76, 195)">(</span><span class="token namespace" style="color:rgb(12, 150, 155)">farmfe_core</span><span class="token namespace punctuation" style="color:rgb(153, 76, 195)">::</span><span class="token namespace" style="color:rgb(12, 150, 155)">plugin</span><span class="token namespace punctuation" style="color:rgb(153, 76, 195)">::</span><span class="token class-name" style="color:rgb(17, 17, 17)">PluginLoadHookResult</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(153, 76, 195)">{</span><span class="token plain"></span><br></span><span class="token-line theme-code-block-highlighted-line" style="color:#403f53"><span class="token plain">          content</span><span class="token punctuation" style="color:rgb(153, 76, 195)">,</span><span class="token plain"></span><br></span><span class="token-line theme-code-block-highlighted-line" style="color:#403f53"><span class="token plain">          module_type</span><span class="token punctuation" style="color:rgb(153, 76, 195)">:</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(17, 17, 17)">ModuleType</span><span class="token punctuation" style="color:rgb(153, 76, 195)">::</span><span class="token class-name" style="color:rgb(17, 17, 17)">Custom</span><span class="token punctuation" style="color:rgb(153, 76, 195)">(</span><span class="token class-name" style="color:rgb(17, 17, 17)">String</span><span class="token punctuation" style="color:rgb(153, 76, 195)">::</span><span class="token function" style="color:rgb(153, 76, 195);font-style:italic">from</span><span class="token punctuation" style="color:rgb(153, 76, 195)">(</span><span class="token string" style="color:rgb(72, 118, 214)">&quot;sass&quot;</span><span class="token punctuation" style="color:rgb(153, 76, 195)">)</span><span class="token punctuation" style="color:rgb(153, 76, 195)">)</span><span class="token punctuation" style="color:rgb(153, 76, 195)">,</span><span class="token plain"></span><br></span><span class="token-line theme-code-block-highlighted-line" style="color:#403f53"><span class="token plain">        </span><span class="token punctuation" style="color:rgb(153, 76, 195)">}</span><span class="token punctuation" style="color:rgb(153, 76, 195)">)</span><span class="token punctuation" style="color:rgb(153, 76, 195)">)</span><span class="token punctuation" style="color:rgb(153, 76, 195)">;</span><span class="token plain"></span><br></span><span class="token-line theme-code-block-highlighted-line" style="color:#403f53"><span class="token plain">      </span><span class="token punctuation" style="color:rgb(153, 76, 195)">}</span><span class="token plain"></span><br></span><span class="token-line theme-code-block-highlighted-line" style="color:#403f53"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(153, 76, 195)">}</span><span class="token plain"></span><br></span><span class="token-line theme-code-block-highlighted-line" style="color:#403f53"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line theme-code-block-highlighted-line" style="color:#403f53"><span class="token plain">    </span><span class="token class-name" style="color:rgb(17, 17, 17)">Ok</span><span class="token punctuation" style="color:rgb(153, 76, 195)">(</span><span class="token class-name" style="color:rgb(17, 17, 17)">None</span><span class="token punctuation" style="color:rgb(153, 76, 195)">)</span><span class="token plain"></span><br></span><span class="token-line theme-code-block-highlighted-line" style="color:#403f53"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(153, 76, 195)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#403f53"><span class="token plain"></span><span class="token punctuation" style="color:rgb(153, 76, 195)">}</span><br></span></code></pre><div class="buttonGroup_S0cj"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_ewWv" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_J1Wb"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_B5Uh"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>In the <code>load</code> hook, we only read the file that ends with <code>.scss</code> or <code>.sass</code>, return the file content and maked its module_type as <code>ModuleType::Custom(String::from(&quot;sass&quot;))</code>.</p>
<h3 class="anchor anchorWithStickyNavbar_Edcv" id="transform-sass-file">Transform <code>sass</code> File<a class="hash-link" aria-label="Direct link to transform-sass-file" title="Direct link to transform-sass-file" href="/docs/plugins/writing-plugins/rust-plugin#transform-sass-file">â€‹</a></h3>
<p>After we load the <code>.scss</code> file, we need to transform it to <code>css</code> in <code>transform</code> hook, then Farm will treat it as css in following process.</p>
<div class="language-rust codeBlockContainer_nfy6 theme-code-block" style="--prism-color:#403f53;--prism-background-color:#FBFBFB"><div class="codeBlockContent_eers"><pre tabindex="0" class="prism-code language-rust codeBlock_sItO thin-scrollbar" style="color:#403f53;background-color:#FBFBFB"><code class="codeBlockLines_PYqK"><span class="token-line" style="color:#403f53"><span class="token comment" style="color:rgb(152, 159, 177);font-style:italic">// ignore other code ...</span><span class="token plain"></span><br></span><span class="token-line" style="color:#403f53"><span class="token plain"></span><span class="token keyword" style="color:rgb(12, 150, 155)">fn</span><span class="token plain"> </span><span class="token function-definition function" style="color:rgb(153, 76, 195);font-style:italic">transform</span><span class="token punctuation" style="color:rgb(153, 76, 195)">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#403f53"><span class="token plain">  </span><span class="token operator" style="color:rgb(12, 150, 155)">&amp;</span><span class="token keyword" style="color:rgb(12, 150, 155)">self</span><span class="token punctuation" style="color:rgb(153, 76, 195)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#403f53"><span class="token plain">  param</span><span class="token punctuation" style="color:rgb(153, 76, 195)">:</span><span class="token plain"> </span><span class="token operator" style="color:rgb(12, 150, 155)">&amp;</span><span class="token namespace" style="color:rgb(12, 150, 155)">farmfe_core</span><span class="token namespace punctuation" style="color:rgb(153, 76, 195)">::</span><span class="token namespace" style="color:rgb(12, 150, 155)">plugin</span><span class="token namespace punctuation" style="color:rgb(153, 76, 195)">::</span><span class="token class-name" style="color:rgb(17, 17, 17)">PluginTransformHookParam</span><span class="token punctuation" style="color:rgb(153, 76, 195)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#403f53"><span class="token plain">  context</span><span class="token punctuation" style="color:rgb(153, 76, 195)">:</span><span class="token plain"> </span><span class="token operator" style="color:rgb(12, 150, 155)">&amp;</span><span class="token namespace" style="color:rgb(12, 150, 155)">std</span><span class="token namespace punctuation" style="color:rgb(153, 76, 195)">::</span><span class="token namespace" style="color:rgb(12, 150, 155)">sync</span><span class="token namespace punctuation" style="color:rgb(153, 76, 195)">::</span><span class="token class-name" style="color:rgb(17, 17, 17)">Arc</span><span class="token operator" style="color:rgb(12, 150, 155)">&lt;</span><span class="token namespace" style="color:rgb(12, 150, 155)">farmfe_core</span><span class="token namespace punctuation" style="color:rgb(153, 76, 195)">::</span><span class="token namespace" style="color:rgb(12, 150, 155)">context</span><span class="token namespace punctuation" style="color:rgb(153, 76, 195)">::</span><span class="token class-name" style="color:rgb(17, 17, 17)">CompilationContext</span><span class="token operator" style="color:rgb(12, 150, 155)">&gt;</span><span class="token punctuation" style="color:rgb(153, 76, 195)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#403f53"><span class="token plain"></span><span class="token punctuation" style="color:rgb(153, 76, 195)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(153, 76, 195)">-&gt;</span><span class="token plain"> </span><span class="token namespace" style="color:rgb(12, 150, 155)">farmfe_core</span><span class="token namespace punctuation" style="color:rgb(153, 76, 195)">::</span><span class="token namespace" style="color:rgb(12, 150, 155)">error</span><span class="token namespace punctuation" style="color:rgb(153, 76, 195)">::</span><span class="token class-name" style="color:rgb(17, 17, 17)">Result</span><span class="token operator" style="color:rgb(12, 150, 155)">&lt;</span><span class="token class-name" style="color:rgb(17, 17, 17)">Option</span><span class="token operator" style="color:rgb(12, 150, 155)">&lt;</span><span class="token namespace" style="color:rgb(12, 150, 155)">farmfe_core</span><span class="token namespace punctuation" style="color:rgb(153, 76, 195)">::</span><span class="token namespace" style="color:rgb(12, 150, 155)">plugin</span><span class="token namespace punctuation" style="color:rgb(153, 76, 195)">::</span><span class="token class-name" style="color:rgb(17, 17, 17)">PluginTransformHookResult</span><span class="token operator" style="color:rgb(12, 150, 155)">&gt;&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(153, 76, 195)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#403f53"><span class="token plain">  </span><span class="token comment" style="color:rgb(152, 159, 177);font-style:italic">// module type guard is neccessary</span><span class="token plain"></span><br></span><span class="token-line" style="color:#403f53"><span class="token plain">  </span><span class="token keyword" style="color:rgb(12, 150, 155)">if</span><span class="token plain"> param</span><span class="token punctuation" style="color:rgb(153, 76, 195)">.</span><span class="token plain">module_type </span><span class="token operator" style="color:rgb(12, 150, 155)">==</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(17, 17, 17)">ModuleType</span><span class="token punctuation" style="color:rgb(153, 76, 195)">::</span><span class="token class-name" style="color:rgb(17, 17, 17)">Custom</span><span class="token punctuation" style="color:rgb(153, 76, 195)">(</span><span class="token class-name" style="color:rgb(17, 17, 17)">String</span><span class="token punctuation" style="color:rgb(153, 76, 195)">::</span><span class="token function" style="color:rgb(153, 76, 195);font-style:italic">from</span><span class="token punctuation" style="color:rgb(153, 76, 195)">(</span><span class="token string" style="color:rgb(72, 118, 214)">&quot;sass&quot;</span><span class="token punctuation" style="color:rgb(153, 76, 195)">)</span><span class="token punctuation" style="color:rgb(153, 76, 195)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(153, 76, 195)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#403f53"><span class="token plain">    </span><span class="token comment" style="color:rgb(152, 159, 177);font-style:italic">// ... ignore other code</span><span class="token plain"></span><br></span><span class="token-line" style="color:#403f53"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#403f53"><span class="token plain">    </span><span class="token comment" style="color:rgb(152, 159, 177);font-style:italic">// parse options</span><span class="token plain"></span><br></span><span class="token-line" style="color:#403f53"><span class="token plain">    </span><span class="token keyword" style="color:rgb(12, 150, 155)">const</span><span class="token plain"> options </span><span class="token operator" style="color:rgb(12, 150, 155)">=</span><span class="token plain"> </span><span class="token function" style="color:rgb(153, 76, 195);font-style:italic">parse_options</span><span class="token punctuation" style="color:rgb(153, 76, 195)">(</span><span class="token operator" style="color:rgb(12, 150, 155)">&amp;</span><span class="token keyword" style="color:rgb(12, 150, 155)">self</span><span class="token punctuation" style="color:rgb(153, 76, 195)">.</span><span class="token plain">options</span><span class="token punctuation" style="color:rgb(153, 76, 195)">,</span><span class="token plain"> param</span><span class="token punctuation" style="color:rgb(153, 76, 195)">.</span><span class="token plain">module_id</span><span class="token punctuation" style="color:rgb(153, 76, 195)">)</span><span class="token punctuation" style="color:rgb(153, 76, 195)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#403f53"><span class="token plain">    </span><span class="token comment" style="color:rgb(152, 159, 177);font-style:italic">// compile sass to css</span><span class="token plain"></span><br></span><span class="token-line" style="color:#403f53"><span class="token plain">    </span><span class="token keyword" style="color:rgb(12, 150, 155)">let</span><span class="token plain"> compile_result </span><span class="token operator" style="color:rgb(12, 150, 155)">=</span><span class="token plain"> </span><span class="token function" style="color:rgb(153, 76, 195);font-style:italic">compileSass</span><span class="token punctuation" style="color:rgb(153, 76, 195)">(</span><span class="token operator" style="color:rgb(12, 150, 155)">&amp;</span><span class="token plain">param</span><span class="token punctuation" style="color:rgb(153, 76, 195)">.</span><span class="token plain">content</span><span class="token punctuation" style="color:rgb(153, 76, 195)">,</span><span class="token plain"> options</span><span class="token punctuation" style="color:rgb(153, 76, 195)">)</span><span class="token punctuation" style="color:rgb(153, 76, 195)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#403f53"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#403f53"><span class="token plain">    </span><span class="token keyword" style="color:rgb(12, 150, 155)">return</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(17, 17, 17)">Ok</span><span class="token punctuation" style="color:rgb(153, 76, 195)">(</span><span class="token class-name" style="color:rgb(17, 17, 17)">Some</span><span class="token punctuation" style="color:rgb(153, 76, 195)">(</span><span class="token namespace" style="color:rgb(12, 150, 155)">farmfe_core</span><span class="token namespace punctuation" style="color:rgb(153, 76, 195)">::</span><span class="token namespace" style="color:rgb(12, 150, 155)">plugin</span><span class="token namespace punctuation" style="color:rgb(153, 76, 195)">::</span><span class="token class-name" style="color:rgb(17, 17, 17)">PluginTransformHookResult</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(153, 76, 195)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#403f53"><span class="token plain">      content</span><span class="token punctuation" style="color:rgb(153, 76, 195)">:</span><span class="token plain"> compile_result</span><span class="token punctuation" style="color:rgb(153, 76, 195)">.</span><span class="token plain">css</span><span class="token punctuation" style="color:rgb(153, 76, 195)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#403f53"><span class="token plain">      source_map</span><span class="token punctuation" style="color:rgb(153, 76, 195)">:</span><span class="token plain"> compile_result</span><span class="token punctuation" style="color:rgb(153, 76, 195)">.</span><span class="token plain">source_map</span><span class="token punctuation" style="color:rgb(153, 76, 195)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#403f53"><span class="token plain">      </span><span class="token comment" style="color:rgb(152, 159, 177);font-style:italic">// tell farm compiler that we have transformed this module to css</span><span class="token plain"></span><br></span><span class="token-line" style="color:#403f53"><span class="token plain">      module_type</span><span class="token punctuation" style="color:rgb(153, 76, 195)">:</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(17, 17, 17)">Some</span><span class="token punctuation" style="color:rgb(153, 76, 195)">(</span><span class="token namespace" style="color:rgb(12, 150, 155)">farmfe_core</span><span class="token namespace punctuation" style="color:rgb(153, 76, 195)">::</span><span class="token namespace" style="color:rgb(12, 150, 155)">module</span><span class="token namespace punctuation" style="color:rgb(153, 76, 195)">::</span><span class="token class-name" style="color:rgb(17, 17, 17)">ModuleType</span><span class="token punctuation" style="color:rgb(153, 76, 195)">::</span><span class="token class-name" style="color:rgb(17, 17, 17)">Css</span><span class="token punctuation" style="color:rgb(153, 76, 195)">)</span><span class="token punctuation" style="color:rgb(153, 76, 195)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#403f53"><span class="token plain">      ignore_previous_source_map</span><span class="token punctuation" style="color:rgb(153, 76, 195)">:</span><span class="token plain"> </span><span class="token boolean" style="color:rgb(188, 84, 84)">false</span><span class="token punctuation" style="color:rgb(153, 76, 195)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#403f53"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(153, 76, 195)">}</span><span class="token punctuation" style="color:rgb(153, 76, 195)">)</span><span class="token punctuation" style="color:rgb(153, 76, 195)">)</span><span class="token punctuation" style="color:rgb(153, 76, 195)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#403f53"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(153, 76, 195)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#403f53"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#403f53"><span class="token plain">  </span><span class="token class-name" style="color:rgb(17, 17, 17)">Ok</span><span class="token punctuation" style="color:rgb(153, 76, 195)">(</span><span class="token class-name" style="color:rgb(17, 17, 17)">None</span><span class="token punctuation" style="color:rgb(153, 76, 195)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#403f53"><span class="token plain"></span><span class="token punctuation" style="color:rgb(153, 76, 195)">}</span><br></span></code></pre><div class="buttonGroup_S0cj"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_ewWv" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_J1Wb"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_B5Uh"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<div class="theme-admonition theme-admonition-tip admonition_Hji6 alert alert--success"><div class="admonitionHeading_Si0C"><span class="admonitionIcon_IkYq"><svg viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></span>tip</div><div class="admonitionContent_Hw7a"><p>This example only covers how to implement a transformer plugin. For more abilities that Farm support, refer to <a href="/docs/api/rust-plugin-api">Plugin Hooks</a>.</p></div></div></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="row margin-top--sm theme-doc-footer-edit-meta-row"><div class="col"><a href="https://github.com/farm-fe/farm-fe.github.io/tree/main/docs/plugins/writing-plugins/rust-plugin.mdx" target="_blank" rel="noopener noreferrer" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_kgmW" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_AReG"></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href="/docs/plugins/writing-plugins/overview"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Overview</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/docs/plugins/writing-plugins/js-plugin"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Writing JavaScript Plugins</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_vLZn thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a class="table-of-contents__link toc-highlight" href="/docs/plugins/writing-plugins/rust-plugin#conventions">Conventions</a></li><li><a class="table-of-contents__link toc-highlight" href="/docs/plugins/writing-plugins/rust-plugin#concepts">Concepts</a><ul><li><a class="table-of-contents__link toc-highlight" href="/docs/plugins/writing-plugins/rust-plugin#module-type">Module Type</a></li></ul></li><li><a class="table-of-contents__link toc-highlight" href="/docs/plugins/writing-plugins/rust-plugin#create-plugin">Create Plugin</a></li><li><a class="table-of-contents__link toc-highlight" href="/docs/plugins/writing-plugins/rust-plugin#plugin-project-structure">Plugin Project Structure</a></li><li><a class="table-of-contents__link toc-highlight" href="/docs/plugins/writing-plugins/rust-plugin#develop-plugin">Develop Plugin</a><ul><li><a class="table-of-contents__link toc-highlight" href="/docs/plugins/writing-plugins/rust-plugin#handle-moduletype">Handle ModuleType</a></li><li><a class="table-of-contents__link toc-highlight" href="/docs/plugins/writing-plugins/rust-plugin#handle-plugin-options">Handle Plugin Options</a></li><li><a class="table-of-contents__link toc-highlight" href="/docs/plugins/writing-plugins/rust-plugin#using-farm_core-in-plugin">Using farm_core In Plugin</a></li><li><a class="table-of-contents__link toc-highlight" href="/docs/plugins/writing-plugins/rust-plugin#caveats">Caveats</a></li><li><a class="table-of-contents__link toc-highlight" href="/docs/plugins/writing-plugins/rust-plugin#plugin-compatibility">Plugin Compatibility</a></li></ul></li><li><a class="table-of-contents__link toc-highlight" href="/docs/plugins/writing-plugins/rust-plugin#cross-build">Cross Build</a></li><li><a class="table-of-contents__link toc-highlight" href="/docs/plugins/writing-plugins/rust-plugin#publish">Publish</a></li><li><a class="table-of-contents__link toc-highlight" href="/docs/plugins/writing-plugins/rust-plugin#examples">Examples</a><ul><li><a class="table-of-contents__link toc-highlight" href="/docs/plugins/writing-plugins/rust-plugin#define-plugin">Define Plugin</a></li><li><a class="table-of-contents__link toc-highlight" href="/docs/plugins/writing-plugins/rust-plugin#implement-plugin-trait">Implement Plugin Trait</a></li><li><a class="table-of-contents__link toc-highlight" href="/docs/plugins/writing-plugins/rust-plugin#load-scss-file">Load <code>.scss</code> File</a></li><li><a class="table-of-contents__link toc-highlight" href="/docs/plugins/writing-plugins/rust-plugin#transform-sass-file">Transform <code>sass</code> File</a></li></ul></li></ul></div></div></div></div></main></div></div></div><section class="py-8 bg-zinc-950 sm:py-10 lg:py-12 text-white z-50"><div class="px-4 mx-auto sm:px-6 lg:px-8 max-w-7xl"><div class="flex flex-col items-center sm:items-start gap-8 sm:flex-row sm:justify-between"><div class="flex flex-col items-center sm:items-start gap-4"><img class="h-12 w-36 sm:h-14 sm:w-40" src="https://www.farmfe.org/img/logo-farm.png" alt=""><span class="text-lg sm:text-xl font-bold text-center sm:text-left">Extremely Fast Web Build Tool Written in Rust</span></div><div class="w-full sm:w-auto"><div class="grid grid-cols-1 sm:grid-cols-3 gap-8 sm:gap-x-12"><div><p class="text-base text-gray-500 font-semibold mb-4">Guide</p><ul class="list-none space-y-3 p-0"><li><a href="/docs/quick-start" class="text-sm sm:text-base text-white transition-all duration-200 hover:text-opacity-80 focus:text-opacity-80"> Quick Start </a></li><li><a href="/docs/why-farm" class="text-sm sm:text-base text-white transition-all duration-200 hover:text-opacity-80 focus:text-opacity-80"> Introduction </a></li></ul></div><div><p class="text-base text-gray-500 font-semibold mb-4">Community</p><ul class="list-none space-y-3 p-0"><li><a href="https://github.com/farm-fe/farm?tab=readme-ov-file#chat-with-us" class="text-sm sm:text-base text-white transition-all duration-200 hover:text-opacity-80 focus:text-opacity-80"> WeChat Group </a></li><li><a href="https://discord.com/invite/mDErq9aFnF" class="text-sm sm:text-base text-white transition-all duration-200 hover:text-opacity-80 focus:text-opacity-80"> Discord </a></li></ul></div><div><p class="text-base text-gray-500 font-semibold mb-4">More</p><ul class="list-none space-y-3 p-0"><li><a href="https://github.com/farm-fe/farm" class="text-sm sm:text-base text-white transition-all duration-200 hover:text-opacity-80 focus:text-opacity-80"> Github </a></li><li><a href="https://x.com/FarmFe71928" class="text-sm sm:text-base text-white transition-all duration-200 hover:text-opacity-80 focus:text-opacity-80"> Twitter </a></li></ul></div></div></div></div><div class="my-8 sm:my-12"></div><div class="flex flex-col items-center sm:flex-row sm:justify-between"><ul class="flex items-center space-x-4 mb-4 sm:mb-0 p-0"><a href="https://github.com/farm-fe/farm" target="_blank" rel="noopener noreferrer"><svg width="15" height="15" viewBox="0 0 15 15" fill="none" xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 sm:h-6 sm:w-6 text-white hover:text-gray-300"><path d="M7.49933 0.25C3.49635 0.25 0.25 3.49593 0.25 7.50024C0.25 10.703 2.32715 13.4206 5.2081 14.3797C5.57084 14.446 5.70302 14.2222 5.70302 14.0299C5.70302 13.8576 5.69679 13.4019 5.69323 12.797C3.67661 13.235 3.25112 11.825 3.25112 11.825C2.92132 10.9874 2.44599 10.7644 2.44599 10.7644C1.78773 10.3149 2.49584 10.3238 2.49584 10.3238C3.22353 10.375 3.60629 11.0711 3.60629 11.0711C4.25298 12.1788 5.30335 11.8588 5.71638 11.6732C5.78225 11.205 5.96962 10.8854 6.17658 10.7043C4.56675 10.5209 2.87415 9.89918 2.87415 7.12104C2.87415 6.32925 3.15677 5.68257 3.62053 5.17563C3.54576 4.99226 3.29697 4.25521 3.69174 3.25691C3.69174 3.25691 4.30015 3.06196 5.68522 3.99973C6.26337 3.83906 6.8838 3.75895 7.50022 3.75583C8.1162 3.75895 8.73619 3.83906 9.31523 3.99973C10.6994 3.06196 11.3069 3.25691 11.3069 3.25691C11.7026 4.25521 11.4538 4.99226 11.3795 5.17563C11.8441 5.68257 12.1245 6.32925 12.1245 7.12104C12.1245 9.9063 10.4292 10.5192 8.81452 10.6985C9.07444 10.9224 9.30633 11.3648 9.30633 12.0413C9.30633 13.0102 9.29742 13.7922 9.29742 14.0299C9.29742 14.2239 9.42828 14.4496 9.79591 14.3788C12.6746 13.4179 14.75 10.7025 14.75 7.50024C14.75 3.49593 11.5036 0.25 7.49933 0.25Z" fill="currentColor" fill-rule="evenodd" clip-rule="evenodd"></path></svg></a><a href="https://x.com/FarmFe71928" target="_blank" rel="noopener noreferrer"><svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 512 512" class="h-5 w-5 sm:h-6 sm:w-6 text-white hover:text-gray-300" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><path d="M389.2 48h70.6L305.6 224.2 487 464H345L233.7 318.6 106.5 464H35.8L200.7 275.5 26.8 48H172.4L272.9 180.9 389.2 48zM364.4 421.8h39.1L151.1 88h-42L364.4 421.8z"></path></svg></a><a href="https://discord.com/invite/mDErq9aFnF" target="_blank" rel="noopener noreferrer"><svg width="15" height="15" viewBox="0 0 15 15" fill="none" xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 sm:h-6 sm:w-6 text-white hover:text-gray-300"><path fill-rule="evenodd" clip-rule="evenodd" d="M5.07451 1.82584C5.03267 1.81926 4.99014 1.81825 4.94803 1.82284C4.10683 1.91446 2.82673 2.36828 2.07115 2.77808C2.02106 2.80525 1.97621 2.84112 1.93869 2.88402C1.62502 3.24266 1.34046 3.82836 1.11706 4.38186C0.887447 4.95076 0.697293 5.55032 0.588937 5.98354C0.236232 7.39369 0.042502 9.08728 0.0174948 10.6925C0.0162429 10.7729 0.0351883 10.8523 0.0725931 10.9234C0.373679 11.496 1.02015 12.027 1.66809 12.4152C2.32332 12.8078 3.08732 13.1182 3.70385 13.1778C3.85335 13.1922 4.00098 13.1358 4.10282 13.0255C4.2572 12.8581 4.5193 12.4676 4.71745 12.1643C4.80739 12.0267 4.89157 11.8953 4.95845 11.7901C5.62023 11.9106 6.45043 11.9801 7.50002 11.9801C8.54844 11.9801 9.37796 11.9107 10.0394 11.7905C10.1062 11.8957 10.1903 12.0269 10.2801 12.1643C10.4783 12.4676 10.7404 12.8581 10.8947 13.0255C10.9966 13.1358 11.1442 13.1922 11.2937 13.1778C11.9102 13.1182 12.6742 12.8078 13.3295 12.4152C13.9774 12.027 14.6239 11.496 14.925 10.9234C14.9624 10.8523 14.9813 10.7729 14.9801 10.6925C14.9551 9.08728 14.7613 7.39369 14.4086 5.98354C14.3003 5.55032 14.1101 4.95076 13.8805 4.38186C13.6571 3.82836 13.3725 3.24266 13.0589 2.88402C13.0214 2.84112 12.9765 2.80525 12.9264 2.77808C12.1708 2.36828 10.8907 1.91446 10.0495 1.82284C10.0074 1.81825 9.96489 1.81926 9.92305 1.82584C9.71676 1.85825 9.5391 1.96458 9.40809 2.06355C9.26977 2.16804 9.1413 2.29668 9.0304 2.42682C8.86968 2.61544 8.71437 2.84488 8.61428 3.06225C8.27237 3.03501 7.90138 3.02 7.5 3.02C7.0977 3.02 6.72593 3.03508 6.38337 3.06244C6.28328 2.84501 6.12792 2.61549 5.96716 2.42682C5.85626 2.29668 5.72778 2.16804 5.58947 2.06355C5.45846 1.96458 5.2808 1.85825 5.07451 1.82584ZM11.0181 11.5382C11.0395 11.5713 11.0615 11.6051 11.0838 11.6392C11.2169 11.843 11.3487 12.0385 11.4508 12.1809C11.8475 12.0916 12.352 11.8818 12.8361 11.5917C13.3795 11.2661 13.8098 10.8918 14.0177 10.5739C13.9852 9.06758 13.7993 7.50369 13.4773 6.21648C13.38 5.82759 13.2038 5.27021 12.9903 4.74117C12.7893 4.24326 12.5753 3.82162 12.388 3.5792C11.7376 3.24219 10.7129 2.88582 10.0454 2.78987C10.0308 2.79839 10.0113 2.81102 9.98675 2.82955C9.91863 2.881 9.84018 2.95666 9.76111 3.04945C9.71959 3.09817 9.68166 3.1471 9.64768 3.19449C9.953 3.25031 10.2253 3.3171 10.4662 3.39123C11.1499 3.6016 11.6428 3.89039 11.884 4.212C12.0431 4.42408 12.0001 4.72494 11.788 4.884C11.5759 5.04306 11.2751 5.00008 11.116 4.788C11.0572 4.70961 10.8001 4.4984 10.1838 4.30877C9.58933 4.12585 8.71356 3.98 7.5 3.98C6.28644 3.98 5.41067 4.12585 4.81616 4.30877C4.19988 4.4984 3.94279 4.70961 3.884 4.788C3.72494 5.00008 3.42408 5.04306 3.212 4.884C2.99992 4.72494 2.95694 4.42408 3.116 4.212C3.35721 3.89039 3.85011 3.6016 4.53383 3.39123C4.77418 3.31727 5.04571 3.25062 5.35016 3.19488C5.31611 3.14738 5.27808 3.09831 5.23645 3.04945C5.15738 2.95666 5.07893 2.881 5.01081 2.82955C4.98628 2.81102 4.96674 2.79839 4.95217 2.78987C4.28464 2.88582 3.25999 3.24219 2.60954 3.5792C2.42226 3.82162 2.20825 4.24326 2.00729 4.74117C1.79376 5.27021 1.61752 5.82759 1.52025 6.21648C1.19829 7.50369 1.01236 9.06758 0.97986 10.5739C1.18772 10.8918 1.61807 11.2661 2.16148 11.5917C2.64557 11.8818 3.15003 12.0916 3.5468 12.1809C3.64885 12.0385 3.78065 11.843 3.9138 11.6392C3.93626 11.6048 3.95838 11.5708 3.97996 11.5375C3.19521 11.2591 2.77361 10.8758 2.50064 10.4664C2.35359 10.2458 2.4132 9.94778 2.63377 9.80074C2.85435 9.65369 3.15236 9.71329 3.29941 9.93387C3.56077 10.3259 4.24355 11.0201 7.50002 11.0201C10.7565 11.0201 11.4392 10.326 11.7006 9.93386C11.8477 9.71329 12.1457 9.65369 12.3663 9.80074C12.5869 9.94779 12.6465 10.2458 12.4994 10.4664C12.2262 10.8762 11.8041 11.2598 11.0181 11.5382ZM4.08049 7.01221C4.32412 6.74984 4.65476 6.60162 5.00007 6.59998C5.34538 6.60162 5.67603 6.74984 5.91966 7.01221C6.16329 7.27459 6.30007 7.62974 6.30007 7.99998C6.30007 8.37021 6.16329 8.72536 5.91966 8.98774C5.67603 9.25011 5.34538 9.39833 5.00007 9.39998C4.65476 9.39833 4.32412 9.25011 4.08049 8.98774C3.83685 8.72536 3.70007 8.37021 3.70007 7.99998C3.70007 7.62974 3.83685 7.27459 4.08049 7.01221ZM9.99885 6.59998C9.65354 6.60162 9.3229 6.74984 9.07926 7.01221C8.83563 7.27459 8.69885 7.62974 8.69885 7.99998C8.69885 8.37021 8.83563 8.72536 9.07926 8.98774C9.3229 9.25011 9.65354 9.39833 9.99885 9.39998C10.3442 9.39833 10.6748 9.25011 10.9184 8.98774C11.1621 8.72536 11.2989 8.37021 11.2989 7.99998C11.2989 7.62974 11.1621 7.27459 10.9184 7.01221C10.6748 6.74984 10.3442 6.60162 9.99885 6.59998Z" fill="currentColor"></path></svg></a></ul><p class="text-xs sm:text-sm text-center text-gray-100">Copyright Â© 2024 Farm Community. Built with Docusaurus.</p></div></div></section></div>
</body>
</html>