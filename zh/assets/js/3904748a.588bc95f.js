"use strict";(self.webpackChunkfarm_docs=self.webpackChunkfarm_docs||[]).push([[3635],{2372:(n,e,i)=>{i.r(e),i.d(e,{assets:()=>d,contentTitle:()=>s,default:()=>f,frontMatter:()=>c,metadata:()=>t,toc:()=>l});var r=i(6070),o=i(5296);const c={},s="\u914d\u7f6e Farm",t={id:"config/configuring-farm",title:"\u914d\u7f6e Farm",description:"\u914d\u7f6e\u6587\u4ef6\u89c4\u8303",source:"@site/i18n/zh/docusaurus-plugin-content-docs/current/config/configuring-farm.md",sourceDirName:"config",slug:"/config/configuring-farm",permalink:"/zh/docs/config/configuring-farm",draft:!1,unlisted:!1,editUrl:"https://github.com/farm-fe/farm-fe.github.io/tree/main/docs/config/configuring-farm.md",tags:[],version:"current",frontMatter:{},sidebar:"configSidebar",next:{title:"\u7f16\u8bd1\u914d\u7f6e - compilation",permalink:"/zh/docs/config/compilation-options"}},d={},l=[{value:"\u914d\u7f6e\u6587\u4ef6\u89c4\u8303",id:"\u914d\u7f6e\u6587\u4ef6\u89c4\u8303",level:2},{value:"\u52a0\u8f7dTs\u914d\u7f6e\u6587\u4ef6",id:"\u52a0\u8f7dts\u914d\u7f6e\u6587\u4ef6",level:2},{value:"\u793a\u4f8b",id:"\u793a\u4f8b",level:2},{value:"\u8f93\u5165\u548c\u8f93\u51fa",id:"\u8f93\u5165\u548c\u8f93\u51fa",level:3},{value:"\u5f00\u53d1\u670d\u52a1\u5668\u7aef\u53e3",id:"\u5f00\u53d1\u670d\u52a1\u5668\u7aef\u53e3",level:3},{value:"\u4ec5\u7528\u9ed8\u8ba4\u4f18\u5316\u7b56\u7565",id:"\u4ec5\u7528\u9ed8\u8ba4\u4f18\u5316\u7b56\u7565",level:3}];function a(n){const e={a:"a",admonition:"admonition",code:"code",h1:"h1",h2:"h2",h3:"h3",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,o.R)(),...n.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(e.h1,{id:"\u914d\u7f6e-farm",children:"\u914d\u7f6e Farm"}),"\n",(0,r.jsx)(e.h2,{id:"\u914d\u7f6e\u6587\u4ef6\u89c4\u8303",children:"\u914d\u7f6e\u6587\u4ef6\u89c4\u8303"}),"\n",(0,r.jsx)(e.p,{children:"\u9ed8\u8ba4\u60c5\u51b5\u4e0b\uff0cFarm \u4ece\u9879\u76ee\u6839\u76ee\u5f55\u4e0b\u7684\u201cfarm.config.ts|js|mjs\u201d\u6587\u4ef6\u4e2d\u8bfb\u53d6\u914d\u7f6e\uff0c\u793a\u4f8b\u914d\u7f6e\u6587\u4ef6\uff1a"}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-ts",metastring:'title="farm.config.ts" {5-7}',children:'import { defineConfig } from "@farmfe/core";\n\nexport default defineConfig({\n  root: process.cwd(), // // \u7f16\u8bd1\u7684\u6839\u76ee\u5f55\n  // \u7f16\u8bd1\u9009\u9879\n  compilation: {\n    //...\n  },\n  // \u5f00\u53d1\u670d\u52a1\u5668\u9009\u9879\n  server: {\n    hmr: true,\n    //...\n  },\n  // \u63d2\u4ef6\u914d\u7f6e\n  plugins: [],\n});\n'})}),"\n",(0,r.jsx)(e.p,{children:"\u6709\u5173\u914d\u7f6e\u9009\u9879\u7684\u8be6\u7ec6\u4fe1\u606f\uff0c\u8bf7\u53c2\u9605\uff1a"}),"\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsxs)(e.li,{children:[(0,r.jsx)(e.a,{href:"/docs/config/compilation-options",children:(0,r.jsx)(e.code,{children:"\u7f16\u8bd1\u5668\u9009\u9879"})}),": \u914d\u7f6e\u7f16\u8bd1\u5668\u9009\u9879(",(0,r.jsx)(e.code,{children:"compilation"}),"\u5b57\u6bb5)\uff0c\u5982",(0,r.jsx)(e.code,{children:"input"}),"\u3001",(0,r.jsx)(e.code,{children:"output"}),"\u3001",(0,r.jsx)(e.code,{children:"css \u7f16\u8bd1"}),"\u3001",(0,r.jsx)(e.code,{children:"\u6253\u5305\u914d\u7f6e"}),"\u7b49\u3002"]}),"\n",(0,r.jsxs)(e.li,{children:[(0,r.jsx)(e.a,{href:"/docs/config/dev-server",children:(0,r.jsx)(e.code,{children:"\u5f00\u53d1\u670d\u52a1\u5668\u9009\u9879"})}),": \u914d\u7f6e\u5f00\u53d1\u670d\u52a1\u5668\u9009\u9879\uff08",(0,r.jsx)(e.code,{children:"server"}),"\u5b57\u6bb5\uff09\uff0c\u5982",(0,r.jsx)(e.code,{children:"port"}),"\u3001",(0,r.jsx)(e.code,{children:"host"}),"\u3001",(0,r.jsx)(e.code,{children:"protocol"}),"\u7b49\u3002"]}),"\n",(0,r.jsxs)(e.li,{children:[(0,r.jsx)(e.a,{href:"/docs/config/shared",children:(0,r.jsx)(e.code,{children:"\u5171\u4eab\u9009\u9879"})}),": \u914d\u7f6e\u5171\u4eab\u9009\u9879\uff0c\u5982 ",(0,r.jsx)(e.code,{children:"root"}),"\u3001",(0,r.jsx)(e.code,{children:"env"})," \u7b49\u3002"]}),"\n"]}),"\n",(0,r.jsx)(e.admonition,{type:"note",children:(0,r.jsx)(e.p,{children:"\u60a8\u8fd8\u53ef\u4ee5\u4f7f\u7528\u201cfarm start/build -c my-config.ts\u201d\u5c06\u81ea\u5b9a\u4e49\u6587\u4ef6\u7528\u4f5c\u914d\u7f6e\u6587\u4ef6\u3002"})}),"\n",(0,r.jsx)(e.h2,{id:"\u52a0\u8f7dts\u914d\u7f6e\u6587\u4ef6",children:"\u52a0\u8f7dTs\u914d\u7f6e\u6587\u4ef6"}),"\n",(0,r.jsxs)(e.p,{children:["Farm \u652f\u6301\u5f00\u7bb1\u5373\u7528\u52a0\u8f7d ts \u914d\u7f6e\u6587\u4ef6\uff0c\u5982\u201cfarm.config.ts\u201d\u3002 Farm \u5c06\u9996\u5148\u5c06\u201cfarm.config.ts\u201d\u53ca\u5176\u672c\u5730 ts \u4f9d\u8d56\u9879\u6253\u5305\u5230\u201cfarm-config.xxx.mjs\u201d\u6587\u4ef6\u4e2d\uff0c\u7136\u540e\u4ece\u78c1\u76d8\u52a0\u8f7d\u5b83\u3002 \u7531\u4e8e Farm \u5c06 ",(0,r.jsx)(e.code,{children:"farm.config.ts"})," \u7f16\u8bd1\u4e3a ",(0,r.jsx)(e.code,{children:"mjs"})," \u6587\u4ef6\uff0c\u56e0\u6b64\u60a8 ",(0,r.jsx)(e.strong,{children:"\u4e0d\u80fd"})," \u5728 ",(0,r.jsx)(e.code,{children:"farm.config.ts"})," \u4e2d\u4f7f\u7528 ",(0,r.jsx)(e.code,{children:"__dirname"})," \u6216 ",(0,r.jsx)(e.code,{children:"__filename"}),"\uff0c\u8bf7\u4f7f\u7528 ",(0,r.jsx)(e.code,{children:"import.meta.url"})," \u4f5c\u4e3a\u66ff\u4ee3\u3002"]}),"\n",(0,r.jsx)(e.p,{children:"\u6216\u8005\u60a8\u53ef\u4ee5\u4f7f\u7528\u201cfarm.config.mjs\u201d\u6216\u201cfarm.config.cjs\u201d\u4e0e\u201c@type\u201d\u6765\u652f\u6301\u7c7b\u578b\uff0c\u907f\u514d\u6253\u5305\u201cfarm.config.ts\u201d\uff1a"}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-js",metastring:'title="farm.config.mjs"',children:"/**\n * @type {import('@farmfe/core').UserConfig}\n */\nexport default {\n  // ...\n}\n"})}),"\n",(0,r.jsx)(e.h2,{id:"\u793a\u4f8b",children:"\u793a\u4f8b"}),"\n",(0,r.jsx)(e.h3,{id:"\u8f93\u5165\u548c\u8f93\u51fa",children:"\u8f93\u5165\u548c\u8f93\u51fa"}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-ts",metastring:'title="farm.config.ts" {5-7}',children:"import { defineConfig } from \"@farmfe/core\";\n\nexport default defineConfig({\n  // compile options\n  compilation: {\n    input: {\n      index: './src/index.html',\n      about: './src/about.html',\n    },\n    output: {\n      path: 'build',\n      publicPath: process.env.NODE_ENV === 'production' ? 'https://my-cdn.com' : '/'\n    }\n  },\n});\n"})}),"\n",(0,r.jsxs)(e.p,{children:["In above example, we configured ",(0,r.jsx)(e.code,{children:"./src/index.html"})," and ",(0,r.jsx)(e.code,{children:"./src/about.html"})," as input, then output the compiled resources to ",(0,r.jsx)(e.code,{children:"build"})," dir."]}),"\n",(0,r.jsx)(e.h3,{id:"\u5f00\u53d1\u670d\u52a1\u5668\u7aef\u53e3",children:"\u5f00\u53d1\u670d\u52a1\u5668\u7aef\u53e3"}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-ts",metastring:'title="farm.config.ts" {5-7}',children:'import { defineConfig } from "@farmfe/core";\n\nexport default defineConfig({\n  server: {\n    port: 9801\n  }\n});\n'})}),"\n",(0,r.jsx)(e.h3,{id:"\u4ec5\u7528\u9ed8\u8ba4\u4f18\u5316\u7b56\u7565",children:"\u4ec5\u7528\u9ed8\u8ba4\u4f18\u5316\u7b56\u7565"}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-ts",metastring:'title="farm.config.ts" {5-7}',children:'import { defineConfig } from "@farmfe/core";\n\nexport default defineConfig({\n  // compile options\n  compilation: {\n    lazyCompilation: false,\n    persistentCache: false,\n    minify: false,\n    treeShaking: false\n  },\n});\n'})})]})}function f(n={}){const{wrapper:e}={...(0,o.R)(),...n.components};return e?(0,r.jsx)(e,{...n,children:(0,r.jsx)(a,{...n})}):a(n)}},5296:(n,e,i)=>{i.d(e,{R:()=>s,x:()=>t});var r=i(758);const o={},c=r.createContext(o);function s(n){const e=r.useContext(c);return r.useMemo((function(){return"function"==typeof n?n(e):{...e,...n}}),[e,n])}function t(n){let e;return e=n.disableParentContext?"function"==typeof n.components?n.components(o):n.components||o:s(n.components),r.createElement(c.Provider,{value:e},n.children)}}}]);