"use strict";(self.webpackChunkfarm_docs=self.webpackChunkfarm_docs||[]).push([[4084],{7113:(e,n,r)=>{r.r(n),r.d(n,{assets:()=>o,contentTitle:()=>c,default:()=>u,frontMatter:()=>l,metadata:()=>d,toc:()=>t});var i=r(6070),s=r(7816);const l={},c="\u901a\u7528\u914d\u7f6e",d={id:"config/shared",title:"\u901a\u7528\u914d\u7f6e",description:"\u4e3a Farm \u7684 DevServer \u548c\u7f16\u8bd1\u5668\u914d\u7f6e\u5171\u4eab\u9009\u9879\u3002 \u4f8b\u5982\uff1a",source:"@site/i18n/zh/docusaurus-plugin-content-docs/current/config/shared.md",sourceDirName:"config",slug:"/config/shared",permalink:"/zh/docs/config/shared",draft:!1,unlisted:!1,editUrl:"https://github.com/farm-fe/farm-fe.github.io/tree/main/docs/config/shared.md",tags:[],version:"current",frontMatter:{},sidebar:"configSidebar",previous:{title:"DevServer \u914d\u7f6e - server",permalink:"/zh/docs/config/dev-server"},next:{title:"Farm \u547d\u4ee4\u884c",permalink:"/zh/docs/cli/cli-api"}},o={},t=[{value:"root",id:"root",level:2},{value:"clearScreen",id:"clearscreen",level:2},{value:"envDir",id:"envdir",level:2},{value:"envPrefix",id:"envprefix",level:2},{value:"publicDir",id:"publicdir",level:2},{value:"plugins",id:"plugins",level:2},{value:"vitePlugins",id:"viteplugins",level:2}];function h(e){const n={a:"a",code:"code",h1:"h1",h2:"h2",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,s.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(n.h1,{id:"\u901a\u7528\u914d\u7f6e",children:"\u901a\u7528\u914d\u7f6e"}),"\n",(0,i.jsx)(n.p,{children:"\u4e3a Farm \u7684 DevServer \u548c\u7f16\u8bd1\u5668\u914d\u7f6e\u5171\u4eab\u9009\u9879\u3002 \u4f8b\u5982\uff1a"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:'import { defineConfig } from "@farmfe/core";\n\nexport default defineConfig({\n  // All dev server options are under server\n  root: process.cwd(),\n});\n'})}),"\n",(0,i.jsx)(n.p,{children:"\u7c7b\u578b\uff1a"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"export interface UserConfig {\n  /** \u8be5\u9879\u76ee\u7684\u5f53\u524d\u6839\u76ee\u5f55\uff0c\u9ed8\u8ba4\u4e3a\u5f53\u524d\u5de5\u4f5c\u76ee\u5f55 */\n  root?: string;\n  clearScreen?: boolean;\n  envDir?: string;\n  envPrefix?: string | string[];\n  /** \u8be5\u76ee\u5f55\u4e0b\u7684\u6587\u4ef6\u5c06\u59cb\u7ec8\u88ab\u89c6\u4e3a\u9759\u6001\u8d44\u4ea7\u3002 \u5728dev\u4e2d\u63d0\u4f9b\u5b83\uff0c\u5e76\u5728\u6784\u5efa\u65f6\u5c06\u5176\u590d\u5236\u5230output.path */\n  publicDir?: string;\n  /** js \u63d2\u4ef6\uff08\u8fd9\u662f\u4e00\u4e2a javascript \u5bf9\u8c61\uff09\u548c rust \u63d2\u4ef6\uff08\u8fd9\u662f\u5f15\u7528 .farm \u6587\u4ef6\u6216\u5305\u7684\u5b57\u7b26\u4e32\uff09 */\n  plugins?: (RustPlugin | JsPlugin | JsPlugin[])[];\n  /** vite \u63d2\u4ef6 */\n  vitePlugins?: (object | (() => { vitePlugin: any; filters: string[] }))[];\n  // compilation?: Pick<InternalConfig, AvailableUserConfigKeys>;\n  // server?: UserServerConfig;\n}\n"})}),"\n",(0,i.jsx)(n.h2,{id:"root",children:"root"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"default"}),": ",(0,i.jsx)(n.code,{children:"process.cwd()"})]}),"\n"]}),"\n",(0,i.jsxs)(n.p,{children:["\u914d\u7f6e\u9879\u76ee\u7f16\u8bd1\u7684\u6839\u76ee\u5f55\u3002 \u6240\u6709\u76f8\u5bf9\u8def\u5f84\u5728\u7f16\u8bd1\u671f\u95f4\u90fd\u662f\u76f8\u5bf9\u4e8e ",(0,i.jsx)(n.code,{children:"root"})," \u7684\u3002"]}),"\n",(0,i.jsx)(n.h2,{id:"clearscreen",children:"clearScreen"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"default"}),": ",(0,i.jsx)(n.code,{children:"true"})]}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:"\u5f00\u59cb\u7f16\u8bd1\u65f6\u662f\u5426\u6e05\u5c4f\u3002"}),"\n",(0,i.jsx)(n.h2,{id:"envdir",children:"envDir"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"default"}),": ",(0,i.jsx)(n.code,{children:"<root>"})]}),"\n"]}),"\n",(0,i.jsxs)(n.p,{children:["\u914d\u7f6e\u76ee\u5f55\u4ee5\u52a0\u8f7d ",(0,i.jsx)(n.code,{children:".env"}),"\u3001",(0,i.jsx)(n.code,{children:".env.development"}),"\u3001",(0,i.jsx)(n.code,{children:".env.Production"})," \u6587\u4ef6\u3002 \u9ed8\u8ba4\u60c5\u51b5\u4e0b\u5b83\u4e0e root \u76f8\u540c\u3002"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"import { defineConfig } from '@farmfe/core';\nimport { resolve } from 'path';\nexport default defineConfig({\n  envPrefix: ['FARM_', 'CUSTOM_PREFIX_', 'NEW_'],\n  envDir: resolve(process.cwd(), './env'),\n});\n"})}),"\n",(0,i.jsxs)(n.p,{children:["\u5728\u4e0a\u9762\u7684\u793a\u4f8b\u4e2d\uff0c\u5c06\u4ece ",(0,i.jsx)(n.code,{children:"<root>/env"})," \u76ee\u5f55\u52a0\u8f7d ",(0,i.jsx)(n.code,{children:".env"}),"\u3001",(0,i.jsx)(n.code,{children:".env.development"}),"\u3001",(0,i.jsx)(n.code,{children:".env.Production"})," \u6587\u4ef6\u3002"]}),"\n",(0,i.jsx)(n.h2,{id:"envprefix",children:"envPrefix"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"default"}),": ",(0,i.jsx)(n.code,{children:"['FARM_', 'VITE_']"})]}),"\n"]}),"\n",(0,i.jsxs)(n.p,{children:["\u4ee5 ",(0,i.jsx)(n.code,{children:"envPrefix"})," \u5f00\u5934\u7684\u73af\u5883\u53d8\u91cf\u5c06\u81ea\u52a8\u6ce8\u5165 ",(0,i.jsx)(n.a,{href:"/docs/config/compilation-options#define",children:(0,i.jsx)(n.code,{children:"define"})}),"\u3002"]}),"\n",(0,i.jsx)(n.h2,{id:"publicdir",children:"publicDir"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"default"}),": ",(0,i.jsx)(n.code,{children:"public"})]}),"\n"]}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.code,{children:"publicDir"})," \u4e0b\u7684\u6587\u4ef6\u5c06\u59cb\u7ec8\u88ab\u89c6\u4e3a\u9759\u6001\u8d44\u6e90\u3002 \u5728 dev \u65f6\u53ef\u4ee5\u901a\u8fc7 dev server \u76f4\u63a5\u8bbf\u95ee\uff0c\u5728\u6784\u5efa\u65f6\u4f1a\u5c06\u5176\u590d\u5236\u5230 ",(0,i.jsx)(n.a,{href:"/docs/config/compilation-options#outputpath",children:(0,i.jsx)(n.code,{children:"output.path"})}),"\u3002"]}),"\n",(0,i.jsxs)(n.p,{children:["\u4f8b\u5982\uff0c\u60a8\u53ef\u4ee5\u5c06\u5b57\u4f53\u7b49\u9759\u6001\u8d44\u6e90\u6dfb\u52a0\u5230 ",(0,i.jsx)(n.code,{children:"public"})," \u76ee\u5f55\uff0c\u5e76\u5c06\u5b83\u4eec\u7528\u4f5c ",(0,i.jsx)(n.code,{children:"/xxx.ttf"})," \u3002"]}),"\n",(0,i.jsx)(n.h2,{id:"plugins",children:"plugins"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"default"}),": ",(0,i.jsx)(n.code,{children:"[]"})]}),"\n"]}),"\n",(0,i.jsxs)(n.p,{children:["\u914d\u7f6e Farm \u63d2\u4ef6\u3002 \u53c2\u8003",(0,i.jsx)(n.a,{href:"/docs/using-plugins#farm-compilation-plugins",children:"\u4f7f\u7528 Farm \u63d2\u4ef6"})]}),"\n",(0,i.jsx)(n.h2,{id:"viteplugins",children:"vitePlugins"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"default"}),": ",(0,i.jsx)(n.code,{children:"[]"})]}),"\n"]}),"\n",(0,i.jsxs)(n.p,{children:["\u914d\u7f6e Vite/Rollup/Unplugin \u63d2\u4ef6\u3002 \u53c2\u89c1 ",(0,i.jsx)(n.a,{href:"/docs/using-plugins#using-viterollupunplugin-plugins-in-farm",children:"\u4f7f\u7528Vite\u63d2\u4ef6"})]})]})}function u(e={}){const{wrapper:n}={...(0,s.R)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(h,{...e})}):h(e)}},7816:(e,n,r)=>{r.d(n,{R:()=>c,x:()=>d});var i=r(758);const s={},l=i.createContext(s);function c(e){const n=i.useContext(l);return i.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function d(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:c(e.components),i.createElement(l.Provider,{value:n},e.children)}}}]);