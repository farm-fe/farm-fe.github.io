<!doctype html>
<html lang="zh" dir="ltr" class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-advanced/partial-bundling" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.4.0">
<title data-rh="true">局部打包 | Farm</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://farmfe.org/zh/img/farm-social-card.png"><meta data-rh="true" name="twitter:image" content="https://farmfe.org/zh/img/farm-social-card.png"><meta data-rh="true" property="og:url" content="https://farmfe.org/zh/docs/advanced/partial-bundling"><meta data-rh="true" property="og:locale" content="zh"><meta data-rh="true" property="og:locale:alternate" content="en"><meta data-rh="true" name="docusaurus_locale" content="zh"><meta data-rh="true" name="docsearch:language" content="zh"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="局部打包 | Farm"><meta data-rh="true" name="description" content="局部打包（Partial Bundling）是 Farm 用来打包模块的策略，类似于其他打包工具，但 Farm 的 局部打包 目标不同。"><meta data-rh="true" property="og:description" content="局部打包（Partial Bundling）是 Farm 用来打包模块的策略，类似于其他打包工具，但 Farm 的 局部打包 目标不同。"><link data-rh="true" rel="icon" href="/zh/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://farmfe.org/zh/docs/advanced/partial-bundling"><link data-rh="true" rel="alternate" href="https://farmfe.org/docs/advanced/partial-bundling" hreflang="en"><link data-rh="true" rel="alternate" href="https://farmfe.org/zh/docs/advanced/partial-bundling" hreflang="zh"><link data-rh="true" rel="alternate" href="https://farmfe.org/docs/advanced/partial-bundling" hreflang="x-default"><link data-rh="true" rel="preconnect" href="https://G3J92PUFY2-dsn.algolia.net" crossorigin="anonymous"><link rel="alternate" type="application/rss+xml" href="/zh/blog/rss.xml" title="Farm RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/zh/blog/atom.xml" title="Farm Atom Feed">



<link rel="search" type="application/opensearchdescription+xml" title="Farm" href="/zh/opensearch.xml"><link rel="stylesheet" href="/zh/assets/css/styles.b84bdd77.css">
<script src="/zh/assets/js/runtime~main.2ae69ce9.js" defer="defer"></script>
<script src="/zh/assets/js/main.5fc2df08.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();t(null!==e?e:"light")}(),function(){try{const n=new URLSearchParams(window.location.search).entries();for(var[t,e]of n)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><div role="region" aria-label="跳到主要内容"><a class="skipToContent_rx6j" href="#__docusaurus_skipToContent_fallback">跳到主要内容</a></div><nav aria-label="主导航" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="切换导航栏" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/zh/"><div class="navbar__logo"><img src="/zh/img/logo.png" alt="My Site Logo" class="themedComponent_ca1Q themedComponent--light_sKqe"><img src="/zh/img/logo.png" alt="My Site Logo" class="themedComponent_ca1Q themedComponent--dark_nFVr"></div><b class="navbar__title text--truncate">Farm</b></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/zh/docs/quick-start">指南</a><a class="navbar__item navbar__link" href="/zh/docs/config/configuring-farm">配置</a><a class="navbar__item navbar__link" href="/zh/docs/api/rust-plugin-api">API</a><a class="navbar__item navbar__link" href="/zh/docs/plugins/official-plugins/overview">插件</a><div class="navbar__item dropdown dropdown--hoverable"><a aria-haspopup="true" aria-expanded="false" role="button" class="navbar__link" href="/zh/docs/advanced/partial-bundling">社区</a><ul class="dropdown__menu"><li><a class="dropdown__link" href="/zh/team">团队</a></li><li><a class="dropdown__link" href="/zh/blog/index">日志</a></li><li><a href="https://github.com/farm-fe/awesome-farm" target="_blank" rel="noopener noreferrer" class="dropdown__link">Awesome Farm<svg width="12" height="12" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_xqPC"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li><a href="https://discord.com/invite/mDErq9aFnF" target="_blank" rel="noopener noreferrer" class="dropdown__link">Discord<svg width="12" height="12" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_xqPC"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li><a href="https://x.com/brightwwu46799" target="_blank" rel="noopener noreferrer" class="dropdown__link">Twitter<svg width="12" height="12" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_xqPC"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li><a href="https://github.com/farm-fe/farm?tab=readme-ov-file#chat-with-us" target="_blank" rel="noopener noreferrer" class="dropdown__link">WeChat Group<svg width="12" height="12" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_xqPC"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div></div><div class="navbar__items navbar__items--right"><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a class="navbar__link" aria-haspopup="true" aria-expanded="false" role="button" href="/zh/docs/why-farm">1.0.0</a><ul class="dropdown__menu"><li><a aria-current="page" class="dropdown__link dropdown__link--active" href="/zh/docs/advanced/partial-bundling">1.0.0</a></li><li><a class="dropdown__link" href="/zh/docs/0.x/why-farm">0.15</a></li></ul></div><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a aria-haspopup="true" aria-expanded="false" role="button" class="navbar__link" href="/zh/docs/advanced/partial-bundling"><svg viewBox="0 0 24 24" width="20" height="20" aria-hidden="true" class="iconLanguage_aJTY"><path fill="currentColor" d="M12.87 15.07l-2.54-2.51.03-.03c1.74-1.94 2.98-4.17 3.71-6.53H17V4h-7V2H8v2H1v1.99h11.17C11.5 7.92 10.44 9.75 9 11.35 8.07 10.32 7.3 9.19 6.69 8h-2c.73 1.63 1.73 3.17 2.98 4.56l-5.09 5.02L4 19l5-5 3.11 3.11.76-2.04zM18.5 10h-2L12 22h2l1.12-3h4.75L21 22h2l-4.5-12zm-2.62 7l1.62-4.33L19.12 17h-3.24z"></path></svg>简体中文</a><ul class="dropdown__menu"><li><a href="/docs/advanced/partial-bundling" target="_self" rel="noopener noreferrer" class="dropdown__link" lang="en">English</a></li><li><a href="/zh/docs/advanced/partial-bundling" target="_self" rel="noopener noreferrer" class="dropdown__link dropdown__link--active" lang="zh">简体中文</a></li></ul></div><a href="https://github.com/farm-fe/farm" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link header-github-link" aria-label="GitHub repository"></a><div class="toggle_F4gm colorModeToggle_vVsR"><button class="clean-btn toggleButton_ZM20 toggleButtonDisabled_DKps" type="button" disabled="" title="切换浅色/暗黑模式（当前为浅色模式）" aria-label="切换浅色/暗黑模式（当前为浅色模式）" aria-live="polite"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_I9hD"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_tYOA"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="navbarSearchContainer_ezLU"><button type="button" class="DocSearch DocSearch-Button" aria-label="搜索"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20" aria-hidden="true"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">搜索</span></span><span class="DocSearch-Button-Keys"></span></button></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_qEkf"><div class="docsWrapper_ABm4"><button aria-label="回到顶部" class="clean-btn theme-back-to-top-button backToTopButton_yaL7" type="button"></button><div class="docRoot_ncw0"><aside class="theme-doc-sidebar-container docSidebarContainer_hqPx"><div class="sidebarViewport_BVio"><div class="sidebar_dm33"><nav aria-label="文档侧边栏" class="menu thin-scrollbar menu_Fa4_"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="true" href="/zh/docs/why-farm">快速开始</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/zh/docs/why-farm">为什么需要 Farm？</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/zh/docs/quick-start">快速开始</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/zh/docs/using-plugins">使用插件</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/zh/docs/contribution">Contribution Guide</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="true" href="/zh/docs/tutorials/overview">教程</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/zh/docs/tutorials/overview">概述</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/zh/docs/tutorials/create">1. 创建一个项目</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/zh/docs/tutorials/start">2. 使用 Farm 开发项目</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/zh/docs/tutorials/build">3. 使用 Farm 构建生产项目</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="true" href="/zh/docs/features/dev-server">编译能力</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/zh/docs/features/dev-server">DevServer 和 HMR</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/zh/docs/features/html">Html</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/zh/docs/features/css">Css/Sass/Less</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/zh/docs/features/script">TS/TSX</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/zh/docs/features/static">静态资源</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/zh/docs/features/env">环境变量和模式</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/zh/docs/features/lazy-compilation">懒编译</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/zh/docs/features/sourcemap">Source Map</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/zh/docs/frameworks/vanilla">框架模版</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" role="button" aria-expanded="true" href="/zh/docs/advanced/ssr">高级用法</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/zh/docs/advanced/ssr">服务端渲染 (SSR)</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/zh/docs/advanced/partial-bundling">局部打包</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/zh/docs/advanced/tree-shake">Tree Shake</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/zh/docs/advanced/minification">产物压缩</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/zh/docs/advanced/polyfill">语法降级和 Polyfill</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/zh/docs/advanced/persistent-cache">增量构建</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/zh/docs/migration/from-vite">迁移指南</a></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/zh/docs/benchmark">Benchmarks</a></li></ul></nav></div></div></aside><main class="docMainContainer_hFws"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_m8_B"><div class="docItemContainer_keI1"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_GL1g" aria-label="页面路径"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="主页面" class="breadcrumbs__link" href="/zh/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_kYwu"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">高级用法</span><meta itemprop="position" content="1"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">局部打包</span><meta itemprop="position" content="2"></li></ul></nav><span class="theme-doc-version-badge badge badge--secondary">版本：1.0.0</span><div class="tocCollapsible_qKZc theme-doc-toc-mobile tocMobile_eqL8"><button type="button" class="clean-btn tocCollapsibleButton_B0Eh">本页总览</button></div><div class="theme-doc-markdown markdown"><h1>局部打包</h1>
<p>局部打包（<code>Partial Bundling</code>）是 Farm 用来打包模块的策略，类似于其他打包工具，但 Farm 的 <code>局部打包</code> 目标不同。</p>
<p>与其它打包工具不同，Farm不会尝试将所有内容打包在一起，而是使用像 <code>splitChunks</code> 之类的优化策略将其拆分出来，相反，Farm会将项目直接捆打包成多个输出文件。例如，如果需要数百个模块来启动一个html页面，Farm将尝试将它们直接打包成20到30个输出文件。Farm将这种行为称为<code>局部打包</code>。</p>
<p>Farm局部打包的目标是:</p>
<ol>
<li><strong>减少请求数量和请求层次</strong>: 将数百上千个模块请求减少到20-30个请求，避免由于依赖层次结构而逐个加载模块，从而加快资源的加载。</li>
<li><strong>提高缓存命中率</strong>: 当模块发生更改时，确保只有少数输出文件受到影响，因此可以为项目提高缓存命中率。</li>
</ol>
<p>对于传统打包工具，我们可能很难通过复杂的 <code>splitChunks</code> 或 <code>manualChunks</code> 配置来实现上述目标，但是 Farm 原生支持<code>局部打包</code>。</p>
<p>请注意，默认的打包策略是为浏览器设计的，但它也适用于 Node.js。 如果想要更改 Node.js 的打包策略，请尝试<a href="/zh/docs/advanced/partial-bundling#configuring-partial-bundling">配置局部打包</a>。</p>
<div class="theme-admonition theme-admonition-tip admonition_RGBo alert alert--success"><div class="admonitionHeading_qpIx"><span class="admonitionIcon_kgQM"><svg viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></span>提示</div><div class="admonitionContent_InOc"><p>请参考 <a href="https://github.com/farm-fe/rfcs/blob/main/rfcs/003-partial-bundling/rfc.md" target="_blank" rel="noopener noreferrer">RFC-003 Partial Bundling</a> 局部打包以获取更多技术细节。</p></div></div>
<h2 class="anchor anchorWithStickyNavbar_mDXR" id="动机">动机<a class="hash-link" aria-label="动机的直接链接" title="动机的直接链接" href="/zh/docs/advanced/partial-bundling#动机">​</a></h2>
<p>目前，Web构建工具处理模块的主要方法有两种：完全打包或原生ESM。但它们都有缺点：</p>
<ul>
<li>对于完全打包，打包工具旨在将所有内容打包在一起，然后拆分出来进行优化，但拆分通常难以配置，手动平衡资源加载性能和缓存命中率很难。</li>
<li>对于原生ESM，每个模块都可以单独编译和缓存，但当有数百个模块请求时，会严重影响加载性能。</li>
</ul>
<p>因此，我一直在思考是否有一种策略可以避免这两种极端情况 - 也许我们可以进行局部打包？我们可以直接将项目打包成几个有限、大小平衡的资源，并且自动进行。我将这种思考命名为<code>模块合并</code> （ <code>Module Merging</code> ）- 在全量打包和非打包之间找到平衡，只打包几个相关的模块以提高加载性能，同时不失去缓存颗粒度。</p>
<blockquote>
<p>后来，我将<code>模块合并</code>更名为<code>局部打包</code>，因为我认为<code>局部打包</code>更能准确地表达我的想法。</p>
</blockquote>
<h2 class="anchor anchorWithStickyNavbar_mDXR" id="局部打包规则">局部打包规则<a class="hash-link" aria-label="局部打包规则的直接链接" title="局部打包规则的直接链接" href="/zh/docs/advanced/partial-bundling#局部打包规则">​</a></h2>
<blockquote>
<p>在这一节中，我们将通过示例介绍<code>局部打包</code>的基本规则。</p>
</blockquote>
<p>首先，我们来看一个基本的React项目示例。对于一个基本的React项目，我们只在入口文件中导入react和react-dom：</p>
<div class="language-tsx codeBlockContainer_wxnF theme-code-block" style="--prism-color:#403f53;--prism-background-color:#FBFBFB"><div class="codeBlockTitle_eZrx">index.tsx</div><div class="codeBlockContent_nF_a"><pre tabindex="0" class="prism-code language-tsx codeBlock_jdzv thin-scrollbar" style="color:#403f53;background-color:#FBFBFB"><code class="codeBlockLines_ZDKT"><span class="token-line" style="color:#403f53"><span class="token keyword" style="color:rgb(12, 150, 155)">import</span><span class="token plain"> </span><span class="token imports maybe-class-name">React</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(12, 150, 155)">from</span><span class="token plain"> </span><span class="token string" style="color:rgb(72, 118, 214)">&#x27;react&#x27;</span><span class="token punctuation" style="color:rgb(153, 76, 195)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#403f53"><span class="token plain"></span><span class="token keyword" style="color:rgb(12, 150, 155)">import</span><span class="token plain"> </span><span class="token imports punctuation" style="color:rgb(153, 76, 195)">{</span><span class="token imports"> createRoot </span><span class="token imports punctuation" style="color:rgb(153, 76, 195)">}</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(12, 150, 155)">from</span><span class="token plain"> </span><span class="token string" style="color:rgb(72, 118, 214)">&#x27;react-dom/client&#x27;</span><span class="token punctuation" style="color:rgb(153, 76, 195)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#403f53"><span class="token plain"></span><span class="token keyword" style="color:rgb(12, 150, 155)">import</span><span class="token plain"> </span><span class="token string" style="color:rgb(72, 118, 214)">&#x27;./index.scss&#x27;</span><span class="token punctuation" style="color:rgb(153, 76, 195)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#403f53"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#403f53"><span class="token plain"></span><span class="token keyword" style="color:rgb(12, 150, 155)">const</span><span class="token plain"> container </span><span class="token operator" style="color:rgb(12, 150, 155)">=</span><span class="token plain"> </span><span class="token dom variable" style="color:rgb(201, 103, 101)">document</span><span class="token punctuation" style="color:rgb(153, 76, 195)">.</span><span class="token method function property-access" style="color:rgb(153, 76, 195);font-style:italic">querySelector</span><span class="token punctuation" style="color:rgb(153, 76, 195)">(</span><span class="token string" style="color:rgb(72, 118, 214)">&#x27;#root&#x27;</span><span class="token punctuation" style="color:rgb(153, 76, 195)">)</span><span class="token punctuation" style="color:rgb(153, 76, 195)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#403f53"><span class="token plain"></span><span class="token keyword" style="color:rgb(12, 150, 155)">const</span><span class="token plain"> root </span><span class="token operator" style="color:rgb(12, 150, 155)">=</span><span class="token plain"> </span><span class="token function" style="color:rgb(153, 76, 195);font-style:italic">createRoot</span><span class="token punctuation" style="color:rgb(153, 76, 195)">(</span><span class="token plain">container</span><span class="token punctuation" style="color:rgb(153, 76, 195)">)</span><span class="token punctuation" style="color:rgb(153, 76, 195)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#403f53"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#403f53"><span class="token plain">root</span><span class="token punctuation" style="color:rgb(153, 76, 195)">.</span><span class="token method function property-access" style="color:rgb(153, 76, 195);font-style:italic">render</span><span class="token punctuation" style="color:rgb(153, 76, 195)">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#403f53"><span class="token plain">  </span><span class="token tag punctuation" style="color:rgb(153, 76, 195)">&lt;</span><span class="token tag punctuation" style="color:rgb(153, 76, 195)">&gt;</span><span class="token plain-text"></span><br></span><span class="token-line" style="color:#403f53"><span class="token plain-text">    </span><span class="token tag punctuation" style="color:rgb(153, 76, 195)">&lt;</span><span class="token tag" style="color:rgb(153, 76, 195)">div</span><span class="token tag punctuation" style="color:rgb(153, 76, 195)">&gt;</span><span class="token plain-text">Index page</span><span class="token tag punctuation" style="color:rgb(153, 76, 195)">&lt;/</span><span class="token tag" style="color:rgb(153, 76, 195)">div</span><span class="token tag punctuation" style="color:rgb(153, 76, 195)">&gt;</span><span class="token plain-text"></span><br></span><span class="token-line" style="color:#403f53"><span class="token plain-text">  </span><span class="token tag punctuation" style="color:rgb(153, 76, 195)">&lt;/</span><span class="token tag punctuation" style="color:rgb(153, 76, 195)">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#403f53"><span class="token plain"></span><span class="token punctuation" style="color:rgb(153, 76, 195)">)</span><span class="token punctuation" style="color:rgb(153, 76, 195)">;</span><br></span></code></pre><div class="buttonGroup_PBDc"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_XMUQ" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_Mlup"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_RsDG"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>打包结果将如下所示：</p>
<div class="language-text codeBlockContainer_wxnF theme-code-block" style="--prism-color:#403f53;--prism-background-color:#FBFBFB"><div class="codeBlockContent_nF_a"><pre tabindex="0" class="prism-code language-text codeBlock_jdzv thin-scrollbar" style="color:#403f53;background-color:#FBFBFB"><code class="codeBlockLines_ZDKT"><span class="token-line" style="color:#403f53"><span class="token plain">./dist/</span><br></span><span class="token-line" style="color:#403f53"><span class="token plain">├── index_9c07.49b83356.js      # contains react-dom</span><br></span><span class="token-line" style="color:#403f53"><span class="token plain">├── index_a35f.0ac21082.js      # contains ./index.tsx</span><br></span><span class="token-line" style="color:#403f53"><span class="token plain">├── index_b7e0.7ab9ca2d.js      # contains react and its dependencies</span><br></span><span class="token-line" style="color:#403f53"><span class="token plain">├── index_ce26.7f833381.css     $ contains ./index.scss</span><br></span><span class="token-line" style="color:#403f53"><span class="token plain">└── index.html                  # contains ./index.html</span><br></span></code></pre><div class="buttonGroup_PBDc"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_XMUQ" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_Mlup"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_RsDG"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>默认情况下，Farm会将你的项目打包成5个文件：</p>
<ul>
<li>2个js文件来自 <code>node_modules</code> ，包含 <code>react</code> 、 <code>react-dom</code> 其依赖项。</li>
<li>1个js文件来自 <code>./index.tsx</code></li>
<li>1个css文件来自 <code>./index.scss</code>;</li>
<li>1个html文件来自 <code>./index.html</code>;</li>
</ul>
<p>Farm使用以下规则来获得上述结果：</p>
<ol>
<li><strong>可变和不可变模块应始终位于不同的输出文件中</strong>: 默认情况下，Farm 将 <code>node_modules</code> 下的所有模块视为不可变的，否则它们是可变的。因此  <code>./index.tsx</code> 位于单独的文件中，因为它是一个可变模块，因此它永远不会与 <code>react</code> 和 <code>react-dom</code> 位于同一输出文件中。</li>
<li><strong>不同类型的模块应始终位于不同的输出文件中</strong>: 因此 <code>./index.scss</code> 位于单独的文件中。</li>
<li><strong>同一包中的模块应位于同一输出文件中</strong>: 因此，所有 <code>react</code> 模块始终位于同一输出文件中， <code>react-dom</code> 也是如此。</li>
<li><strong>资源加载的目标并发请求应默认在20-30之间</strong>: 因此有3个js输出文件，而不是1个js输出文件。</li>
<li><strong>输出文件应具有相似的大小，最小资源大小应默认大于20KB</strong>: 因为 <code>react-dom</code> 是最大的，超过100KB，所以它位于单独的文件中，而 <code>react</code> 及其依赖项小于20KB，因此被合并到同一输出文件中。</li>
</ol>
<p>现在我们已经熟悉了<code>局部打包</code>的基本规则，如果遇到局部打包问题，请使用上述规则调试您的项目。接下来，我们将介绍如何配置局部打包。</p>
<h2 class="anchor anchorWithStickyNavbar_mDXR" id="配置局部打包">配置局部打包<a class="hash-link" aria-label="配置局部打包的直接链接" title="配置局部打包的直接链接" href="/zh/docs/advanced/partial-bundling#配置局部打包">​</a></h2>
<h3 class="anchor anchorWithStickyNavbar_mDXR" id="两种配置方法">两种配置方法<a class="hash-link" aria-label="两种配置方法的直接链接" title="两种配置方法的直接链接" href="/zh/docs/advanced/partial-bundling#两种配置方法">​</a></h3>
<p>有两种不同的方式来控制打包：</p>
<ul>
<li><strong><code>groups</code></strong>: 告诉Farm您希望将这些模块尽可能地打包在一起，但由于Farm的优化策略，这并不是强制执行的。请参阅<a href="/zh/docs/advanced/partial-bundling#%E6%A8%A1%E5%9D%97%E5%88%86%E7%BB%84">模块分组</a>以了解此方法。</li>
<li><strong><code>enforceResources</code></strong>: 告诉Farm您希望这些模块始终打包在一起，忽略所有其他优化策略约束。请参阅使用 <a href="/zh/docs/advanced/partial-bundling#%E4%BD%BF%E7%94%A8-enforceresources"><code>enforceResources</code></a> 以了解此方法。</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_mDXR" id="局部打包选项">局部打包选项<a class="hash-link" aria-label="局部打包选项的直接链接" title="局部打包选项的直接链接" href="/zh/docs/advanced/partial-bundling#局部打包选项">​</a></h3>
<p><code>局部打包</code>支持许多选项，使用户可以自定义其行为。所有选项如下：</p>
<ol>
<li><strong><code>targetConcurrentRequests</code></strong>: Farm尝试为初始资源加载或动态资源加载生成尽可能接近此配置值的资源数量。</li>
<li><strong><code>targetMinSize</code></strong>: 生成资源的最小大小，在压缩和gzip之前。请注意，如果 <code>ModuleBucket的大小</code> 小于 <code>targetMinSize</code>， <code>ModuleBucket</code> 将优先考虑，这时候大小限制不一定会被强制保证。可以使用配置 <code>enforceTargetMinSize</code> 来强制保证大小，但是这样可能会导致一些共享模块的优化策略失效。</li>
<li><strong><code>targetMaxSize</code></strong>: 类似 <code>targetMinSize</code>，生成资源的最大大小，在压缩和gzip之前。</li>
<li><strong><code>groups</code></strong>: 一组应该放在一起的模块。请注意，此组配置只是告诉编译器这些模块应该放在一起，它可能会产生多个资源，如果您想强制将模块放在同  一资源中，应该使用 <code>enforceResources</code>。<!-- -->
<ul>
<li><strong>name</strong>: 这组资源的名称.</li>
<li><strong>test</strong>: 匹配属于该组的模块的正则表达式数组。</li>
<li><strong>groupType</strong>: <code>mutable</code> 或 <code>immutable</code> ，此组仅用于指定模块的类型。</li>
<li><strong>resourceType</strong>: <code>all</code>、 <code>initial</code> 或 <code>async</code>，此组仅用于指定资源的类型。</li>
</ul>
</li>
<li><strong><code>enforceResources</code></strong>: 匹配应该始终位于同一输出资源中的模块的数组，忽略所有其他约束。<!-- -->
<ul>
<li><strong>name</strong>: 资源的名称.</li>
<li><strong>test</strong>: 匹配属于该资源的模块的正则表达式数组。</li>
</ul>
</li>
<li><strong><code>enforceTargetConcurrentRequests</code></strong>: 强制目标并发请求对于每个资源加载，当为true时，较小的资源将被合并到较大的资源中以满足目标并发请求。这可能会导致css资源出现问题，请谨慎使用此选项。</li>
<li><strong><code>enforceTargetMinSize</code></strong>: 强制设置对于每个资源的目标最小大小，当为true时，较小的资源将被合并到较大的资源中以满足目标并发请求。这可能会导致css资源出现问题，请谨慎使用此选项。</li>
<li><strong><code>immutableModules</code></strong>: 匹配不可变模块的正则表达式数组。</li>
<li><strong><code>immutableModulesWeight</code></strong>: 默认为0.8，不可变模块将具有80%的请求数量。例如，如果 <code>targetConcurrentRequest</code> 为25，则不可变资源将默认为 <code>25 * 80% = 20</code> 。此选项是为了确保可变和不可变模块是隔离的，如果您更改了业务代码，node_modules下的代码将不会受到影响。</li>
</ol>
<div class="theme-admonition theme-admonition-note admonition_RGBo alert alert--secondary"><div class="admonitionHeading_qpIx"><span class="admonitionIcon_kgQM"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>备注</div><div class="admonitionContent_InOc"><p>通常，您可以使用 <code>targetConcurrentRequests</code> 、 <code>targetMinSize</code> 和 <code>targetMaxSize</code> 来控制局部打包的默认行为。Farm设置的默认值基于最佳实践，因此请确认是否必须修改默认值。</p></div></div>
<h3 class="anchor anchorWithStickyNavbar_mDXR" id="模块分组">模块分组<a class="hash-link" aria-label="模块分组的直接链接" title="模块分组的直接链接" href="/zh/docs/advanced/partial-bundling#模块分组">​</a></h3>
<p>您可以使用 <code>groups</code> 将模块分组在一起。对于上述基本React项目示例，可以使用以下配置将 <code>node_modules</code> 下的模块打包在一起：</p>
<div class="language-ts codeBlockContainer_wxnF theme-code-block" style="--prism-color:#403f53;--prism-background-color:#FBFBFB"><div class="codeBlockTitle_eZrx">farm.config.ts</div><div class="codeBlockContent_nF_a"><pre tabindex="0" class="prism-code language-ts codeBlock_jdzv thin-scrollbar" style="color:#403f53;background-color:#FBFBFB"><code class="codeBlockLines_ZDKT"><span class="token-line" style="color:#403f53"><span class="token keyword" style="color:rgb(12, 150, 155)">export</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(12, 150, 155)">default</span><span class="token plain"> </span><span class="token function" style="color:rgb(153, 76, 195);font-style:italic">defineConfig</span><span class="token punctuation" style="color:rgb(153, 76, 195)">(</span><span class="token punctuation" style="color:rgb(153, 76, 195)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#403f53"><span class="token plain">  compilation</span><span class="token operator" style="color:rgb(12, 150, 155)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(153, 76, 195)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#403f53"><span class="token plain">    partialBundling</span><span class="token operator" style="color:rgb(12, 150, 155)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(153, 76, 195)">{</span><span class="token plain"></span><br></span><span class="token-line theme-code-block-highlighted-line" style="color:#403f53"><span class="token plain">      groups</span><span class="token operator" style="color:rgb(12, 150, 155)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(153, 76, 195)">[</span><span class="token plain"></span><br></span><span class="token-line theme-code-block-highlighted-line" style="color:#403f53"><span class="token plain">        </span><span class="token punctuation" style="color:rgb(153, 76, 195)">{</span><span class="token plain"></span><br></span><span class="token-line theme-code-block-highlighted-line" style="color:#403f53"><span class="token plain">          name</span><span class="token operator" style="color:rgb(12, 150, 155)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(72, 118, 214)">&#x27;vendor-react&#x27;</span><span class="token punctuation" style="color:rgb(153, 76, 195)">,</span><span class="token plain"></span><br></span><span class="token-line theme-code-block-highlighted-line" style="color:#403f53"><span class="token plain">          test</span><span class="token operator" style="color:rgb(12, 150, 155)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(153, 76, 195)">[</span><span class="token string" style="color:rgb(72, 118, 214)">&#x27;node_modules/&#x27;</span><span class="token punctuation" style="color:rgb(153, 76, 195)">]</span><span class="token punctuation" style="color:rgb(153, 76, 195)">,</span><span class="token plain"></span><br></span><span class="token-line theme-code-block-highlighted-line" style="color:#403f53"><span class="token plain">        </span><span class="token punctuation" style="color:rgb(153, 76, 195)">}</span><span class="token plain"></span><br></span><span class="token-line theme-code-block-highlighted-line" style="color:#403f53"><span class="token plain">      </span><span class="token punctuation" style="color:rgb(153, 76, 195)">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#403f53"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(153, 76, 195)">}</span><span class="token punctuation" style="color:rgb(153, 76, 195)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#403f53"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(153, 76, 195)">}</span><span class="token punctuation" style="color:rgb(153, 76, 195)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#403f53"><span class="token plain"></span><span class="token punctuation" style="color:rgb(153, 76, 195)">}</span><span class="token punctuation" style="color:rgb(153, 76, 195)">)</span><span class="token punctuation" style="color:rgb(153, 76, 195)">;</span><br></span></code></pre><div class="buttonGroup_PBDc"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_XMUQ" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_Mlup"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_RsDG"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>我们添加了一个 <code>group item</code> ，其中包含 <code>name</code> 和 <code>test</code> ，以将 <code>react</code> 和 <code>react-dom</code> 分组在一起。打包结果如下：</p>
<div class="codeBlockContainer_wxnF theme-code-block" style="--prism-color:#403f53;--prism-background-color:#FBFBFB"><div class="codeBlockContent_nF_a"><pre tabindex="0" class="prism-code language-text codeBlock_jdzv thin-scrollbar" style="color:#403f53;background-color:#FBFBFB"><code class="codeBlockLines_ZDKT"><span class="token-line" style="color:#403f53"><span class="token plain">./dist/</span><br></span><span class="token-line" style="color:#403f53"><span class="token plain">├── index_499e.72cf733c.js    # contains `react`, `react-dom` and all other files under node_modules</span><br></span><span class="token-line" style="color:#403f53"><span class="token plain">├── index_a35f.0ac21082.js    # contains `./index.tsx`</span><br></span><span class="token-line" style="color:#403f53"><span class="token plain">├── index_ce26.7f833381.css   # contains `./index.scss`</span><br></span><span class="token-line" style="color:#403f53"><span class="token plain">└── index.html                # contains `./index.html`</span><br></span></code></pre><div class="buttonGroup_PBDc"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_XMUQ" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_Mlup"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_RsDG"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>现在， <code>node_modules</code> 下的所有模块都打包到 <code>index_499e.72cf733c.js</code> 中。请注意，groups并不强制所有匹配该组的模块都打包在一起，一个 <code>group</code>可以产生多个 <code>output file</code> ，因为：</p>
<ol>
<li>可变和不可变模块始终位于不同的输出文件中。当可变和不可变模块都匹配到这个 <code>group</code> 时，它们将位于不同的输出中。</li>
<li>对于多页面应用或动态导入的入口，可能存在共享模块，这些模块应始终位于不同的输出文件中。</li>
</ol>
<p>如果您需要强制将模块放在同一输出文件中，可以使用 <code>enforceResources</code></p>
<h3 class="anchor anchorWithStickyNavbar_mDXR" id="使用-enforceresources">使用 <code>enforceResources</code><a class="hash-link" aria-label="使用-enforceresources的直接链接" title="使用-enforceresources的直接链接" href="/zh/docs/advanced/partial-bundling#使用-enforceresources">​</a></h3>
<p>要将所有模块分组在一起并忽略所有其他条件，可以使用 <code>enforceResources</code> ，例如：</p>
<div class="language-ts codeBlockContainer_wxnF theme-code-block" style="--prism-color:#403f53;--prism-background-color:#FBFBFB"><div class="codeBlockTitle_eZrx">farm.config.ts</div><div class="codeBlockContent_nF_a"><pre tabindex="0" class="prism-code language-ts codeBlock_jdzv thin-scrollbar" style="color:#403f53;background-color:#FBFBFB"><code class="codeBlockLines_ZDKT"><span class="token-line" style="color:#403f53"><span class="token keyword" style="color:rgb(12, 150, 155)">import</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(153, 76, 195)">{</span><span class="token plain"> defineConfig </span><span class="token punctuation" style="color:rgb(153, 76, 195)">}</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(12, 150, 155)">from</span><span class="token plain"> </span><span class="token string" style="color:rgb(72, 118, 214)">&#x27;@farmfe/core&#x27;</span><span class="token punctuation" style="color:rgb(153, 76, 195)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#403f53"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#403f53"><span class="token plain"></span><span class="token keyword" style="color:rgb(12, 150, 155)">export</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(12, 150, 155)">default</span><span class="token plain"> </span><span class="token function" style="color:rgb(153, 76, 195);font-style:italic">defineConfig</span><span class="token punctuation" style="color:rgb(153, 76, 195)">(</span><span class="token punctuation" style="color:rgb(153, 76, 195)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#403f53"><span class="token plain">  compilation</span><span class="token operator" style="color:rgb(12, 150, 155)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(153, 76, 195)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#403f53"><span class="token plain">    partialBundling</span><span class="token operator" style="color:rgb(12, 150, 155)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(153, 76, 195)">{</span><span class="token plain"></span><br></span><span class="token-line code-block-highlight-line" style="color:#403f53"><span class="token plain">      enforceResources</span><span class="token operator" style="color:rgb(12, 150, 155)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(153, 76, 195)">[</span><span class="token plain"></span><br></span><span class="token-line code-block-highlight-line" style="color:#403f53"><span class="token plain">        </span><span class="token punctuation" style="color:rgb(153, 76, 195)">{</span><span class="token plain"></span><br></span><span class="token-line code-block-highlight-line" style="color:#403f53"><span class="token plain">          name</span><span class="token operator" style="color:rgb(12, 150, 155)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(72, 118, 214)">&#x27;index&#x27;</span><span class="token punctuation" style="color:rgb(153, 76, 195)">,</span><span class="token plain"></span><br></span><span class="token-line code-block-highlight-line" style="color:#403f53"><span class="token plain">          test</span><span class="token operator" style="color:rgb(12, 150, 155)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(153, 76, 195)">[</span><span class="token string" style="color:rgb(72, 118, 214)">&#x27;.+&#x27;</span><span class="token punctuation" style="color:rgb(153, 76, 195)">]</span><span class="token punctuation" style="color:rgb(153, 76, 195)">,</span><span class="token plain"></span><br></span><span class="token-line code-block-highlight-line" style="color:#403f53"><span class="token plain">        </span><span class="token punctuation" style="color:rgb(153, 76, 195)">}</span><span class="token plain"></span><br></span><span class="token-line code-block-highlight-line" style="color:#403f53"><span class="token plain">      </span><span class="token punctuation" style="color:rgb(153, 76, 195)">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#403f53"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(153, 76, 195)">}</span><span class="token punctuation" style="color:rgb(153, 76, 195)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#403f53"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(153, 76, 195)">}</span><span class="token punctuation" style="color:rgb(153, 76, 195)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#403f53"><span class="token plain"></span><span class="token punctuation" style="color:rgb(153, 76, 195)">}</span><span class="token punctuation" style="color:rgb(153, 76, 195)">)</span><span class="token punctuation" style="color:rgb(153, 76, 195)">;</span><br></span></code></pre><div class="buttonGroup_PBDc"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_XMUQ" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_Mlup"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_RsDG"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>打包结果:</p>
<div class="codeBlockContainer_wxnF theme-code-block" style="--prism-color:#403f53;--prism-background-color:#FBFBFB"><div class="codeBlockContent_nF_a"><pre tabindex="0" class="prism-code language-text codeBlock_jdzv thin-scrollbar" style="color:#403f53;background-color:#FBFBFB"><code class="codeBlockLines_ZDKT"><span class="token-line" style="color:#403f53"><span class="token plain">./dist/</span><br></span><span class="token-line" style="color:#403f53"><span class="token plain">├── index.7f833381.css  # all css modules are bundled together</span><br></span><span class="token-line" style="color:#403f53"><span class="token plain">├── index.ba5550d9.js   # all script modules are bundled together</span><br></span><span class="token-line" style="color:#403f53"><span class="token plain">└── index.html</span><br></span></code></pre><div class="buttonGroup_PBDc"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_XMUQ" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_Mlup"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_RsDG"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<div class="theme-admonition theme-admonition-warning admonition_RGBo alert alert--warning"><div class="admonitionHeading_qpIx"><span class="admonitionIcon_kgQM"><svg viewBox="0 0 16 16"><path fill-rule="evenodd" d="M8.893 1.5c-.183-.31-.52-.5-.887-.5s-.703.19-.886.5L.138 13.499a.98.98 0 0 0 0 1.001c.193.31.53.501.886.501h13.964c.367 0 .704-.19.877-.5a1.03 1.03 0 0 0 .01-1.002L8.893 1.5zm.133 11.497H6.987v-2.003h2.039v2.003zm0-3.004H6.987V5.987h2.039v4.006z"></path></svg></span>注意</div><div class="admonitionContent_InOc"><p><code>enforceResources</code> 将忽略Farm的所有内部优化，使用时请小心。</p></div></div>
<h3 class="anchor anchorWithStickyNavbar_mDXR" id="配置-immutable-modules">配置 <code>immutable modules</code><a class="hash-link" aria-label="配置-immutable-modules的直接链接" title="配置-immutable-modules的直接链接" href="/zh/docs/advanced/partial-bundling#配置-immutable-modules">​</a></h3>
<p>使用 <code>immutableModules</code> 配置不可变模块，默认情况下，Farm将其设置为 <code>node_modules/</code> 。</p>
<div class="language-ts codeBlockContainer_wxnF theme-code-block" style="--prism-color:#403f53;--prism-background-color:#FBFBFB"><div class="codeBlockTitle_eZrx">farm.config.ts</div><div class="codeBlockContent_nF_a"><pre tabindex="0" class="prism-code language-ts codeBlock_jdzv thin-scrollbar" style="color:#403f53;background-color:#FBFBFB"><code class="codeBlockLines_ZDKT"><span class="token-line" style="color:#403f53"><span class="token keyword" style="color:rgb(12, 150, 155)">export</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(12, 150, 155)">default</span><span class="token plain"> </span><span class="token function" style="color:rgb(153, 76, 195);font-style:italic">defineConfig</span><span class="token punctuation" style="color:rgb(153, 76, 195)">(</span><span class="token punctuation" style="color:rgb(153, 76, 195)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#403f53"><span class="token plain">  compilation</span><span class="token operator" style="color:rgb(12, 150, 155)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(153, 76, 195)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#403f53"><span class="token plain">    partialBundling</span><span class="token operator" style="color:rgb(12, 150, 155)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(153, 76, 195)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#403f53"><span class="token plain">      immutableModules</span><span class="token operator" style="color:rgb(12, 150, 155)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(153, 76, 195)">[</span><span class="token string" style="color:rgb(72, 118, 214)">&#x27;node_modules/&#x27;</span><span class="token punctuation" style="color:rgb(153, 76, 195)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(72, 118, 214)">&#x27;/global-constants&#x27;</span><span class="token punctuation" style="color:rgb(153, 76, 195)">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#403f53"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(153, 76, 195)">}</span><span class="token punctuation" style="color:rgb(153, 76, 195)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#403f53"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(153, 76, 195)">}</span><span class="token punctuation" style="color:rgb(153, 76, 195)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#403f53"><span class="token plain"></span><span class="token punctuation" style="color:rgb(153, 76, 195)">}</span><span class="token punctuation" style="color:rgb(153, 76, 195)">)</span><span class="token punctuation" style="color:rgb(153, 76, 195)">;</span><br></span></code></pre><div class="buttonGroup_PBDc"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_XMUQ" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_Mlup"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_RsDG"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>不可变模块会影响打包和传入的持久化缓存，如果您想修改它，请小心。</p>
<h2 class="anchor anchorWithStickyNavbar_mDXR" id="示例">示例<a class="hash-link" aria-label="示例的直接链接" title="示例的直接链接" href="/zh/docs/advanced/partial-bundling#示例">​</a></h2>
<div class="theme-admonition theme-admonition-note admonition_RGBo alert alert--secondary"><div class="admonitionHeading_qpIx"><span class="admonitionIcon_kgQM"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>备注</div><div class="admonitionContent_InOc"><p>通常您不需要手动配置打包，如果您想手动配置打包，请确保您确实需要它。这些示例仅用于帮助您轻松学习如何配置打包策略。</p></div></div>
<h3 class="anchor anchorWithStickyNavbar_mDXR" id="将同一目录下的文件分组">将同一目录下的文件分组<a class="hash-link" aria-label="将同一目录下的文件分组的直接链接" title="将同一目录下的文件分组的直接链接" href="/zh/docs/advanced/partial-bundling#将同一目录下的文件分组">​</a></h3>
<p>将 <code>src/components</code> 下的 <code>modules</code> 分组，并<strong>尽可能</strong>将它们输出到同一资源中。</p>
<div class="language-ts codeBlockContainer_wxnF theme-code-block" style="--prism-color:#403f53;--prism-background-color:#FBFBFB"><div class="codeBlockTitle_eZrx">farm.config.ts</div><div class="codeBlockContent_nF_a"><pre tabindex="0" class="prism-code language-ts codeBlock_jdzv thin-scrollbar" style="color:#403f53;background-color:#FBFBFB"><code class="codeBlockLines_ZDKT"><span class="token-line" style="color:#403f53"><span class="token keyword" style="color:rgb(12, 150, 155)">import</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(153, 76, 195)">{</span><span class="token plain"> defineConfig </span><span class="token punctuation" style="color:rgb(153, 76, 195)">}</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(12, 150, 155)">from</span><span class="token plain"> </span><span class="token string" style="color:rgb(72, 118, 214)">&#x27;@farmfe/core&#x27;</span><span class="token punctuation" style="color:rgb(153, 76, 195)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#403f53"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#403f53"><span class="token plain"></span><span class="token keyword" style="color:rgb(12, 150, 155)">export</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(12, 150, 155)">default</span><span class="token plain"> </span><span class="token function" style="color:rgb(153, 76, 195);font-style:italic">defineConfig</span><span class="token punctuation" style="color:rgb(153, 76, 195)">(</span><span class="token punctuation" style="color:rgb(153, 76, 195)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#403f53"><span class="token plain">  compilation</span><span class="token operator" style="color:rgb(12, 150, 155)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(153, 76, 195)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#403f53"><span class="token plain">    partialBundling</span><span class="token operator" style="color:rgb(12, 150, 155)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(153, 76, 195)">{</span><span class="token plain"></span><br></span><span class="token-line code-block-highlight-line" style="color:#403f53"><span class="token plain">      groups</span><span class="token operator" style="color:rgb(12, 150, 155)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(153, 76, 195)">[</span><span class="token plain"></span><br></span><span class="token-line code-block-highlight-line" style="color:#403f53"><span class="token plain">        </span><span class="token punctuation" style="color:rgb(153, 76, 195)">{</span><span class="token plain"></span><br></span><span class="token-line code-block-highlight-line" style="color:#403f53"><span class="token plain">          name</span><span class="token operator" style="color:rgb(12, 150, 155)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(72, 118, 214)">&#x27;components&#x27;</span><span class="token punctuation" style="color:rgb(153, 76, 195)">,</span><span class="token plain"></span><br></span><span class="token-line code-block-highlight-line" style="color:#403f53"><span class="token plain">          test</span><span class="token operator" style="color:rgb(12, 150, 155)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(153, 76, 195)">[</span><span class="token string" style="color:rgb(72, 118, 214)">&#x27;./src/components&#x27;</span><span class="token punctuation" style="color:rgb(153, 76, 195)">]</span><span class="token punctuation" style="color:rgb(153, 76, 195)">,</span><span class="token plain"></span><br></span><span class="token-line code-block-highlight-line" style="color:#403f53"><span class="token plain">        </span><span class="token punctuation" style="color:rgb(153, 76, 195)">}</span><span class="token plain"></span><br></span><span class="token-line code-block-highlight-line" style="color:#403f53"><span class="token plain">      </span><span class="token punctuation" style="color:rgb(153, 76, 195)">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#403f53"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(153, 76, 195)">}</span><span class="token punctuation" style="color:rgb(153, 76, 195)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#403f53"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(153, 76, 195)">}</span><span class="token punctuation" style="color:rgb(153, 76, 195)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#403f53"><span class="token plain"></span><span class="token punctuation" style="color:rgb(153, 76, 195)">}</span><span class="token punctuation" style="color:rgb(153, 76, 195)">)</span><span class="token punctuation" style="color:rgb(153, 76, 195)">;</span><br></span></code></pre><div class="buttonGroup_PBDc"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_XMUQ" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_Mlup"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_RsDG"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_mDXR" id="配置打包的数量和大小">配置打包的数量和大小<a class="hash-link" aria-label="配置打包的数量和大小的直接链接" title="配置打包的数量和大小的直接链接" href="/zh/docs/advanced/partial-bundling#配置打包的数量和大小">​</a></h3>
<div class="language-ts codeBlockContainer_wxnF theme-code-block" style="--prism-color:#403f53;--prism-background-color:#FBFBFB"><div class="codeBlockTitle_eZrx">farm.config.ts</div><div class="codeBlockContent_nF_a"><pre tabindex="0" class="prism-code language-ts codeBlock_jdzv thin-scrollbar" style="color:#403f53;background-color:#FBFBFB"><code class="codeBlockLines_ZDKT"><span class="token-line" style="color:#403f53"><span class="token keyword" style="color:rgb(12, 150, 155)">import</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(153, 76, 195)">{</span><span class="token plain"> defineConfig </span><span class="token punctuation" style="color:rgb(153, 76, 195)">}</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(12, 150, 155)">from</span><span class="token plain"> </span><span class="token string" style="color:rgb(72, 118, 214)">&#x27;@farmfe/core&#x27;</span><span class="token punctuation" style="color:rgb(153, 76, 195)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#403f53"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#403f53"><span class="token plain"></span><span class="token keyword" style="color:rgb(12, 150, 155)">export</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(12, 150, 155)">default</span><span class="token plain"> </span><span class="token function" style="color:rgb(153, 76, 195);font-style:italic">defineConfig</span><span class="token punctuation" style="color:rgb(153, 76, 195)">(</span><span class="token punctuation" style="color:rgb(153, 76, 195)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#403f53"><span class="token plain">  compilation</span><span class="token operator" style="color:rgb(12, 150, 155)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(153, 76, 195)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#403f53"><span class="token plain">    partialBundling</span><span class="token operator" style="color:rgb(12, 150, 155)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(153, 76, 195)">{</span><span class="token plain"></span><br></span><span class="token-line code-block-highlight-line" style="color:#403f53"><span class="token plain">      targetConcurrentRequests</span><span class="token operator" style="color:rgb(12, 150, 155)">:</span><span class="token plain"> </span><span class="token number" style="color:rgb(170, 9, 130)">15</span><span class="token punctuation" style="color:rgb(153, 76, 195)">,</span><span class="token plain"></span><br></span><span class="token-line code-block-highlight-line" style="color:#403f53"><span class="token plain">      targetMinSize</span><span class="token operator" style="color:rgb(12, 150, 155)">:</span><span class="token plain"> </span><span class="token number" style="color:rgb(170, 9, 130)">200</span><span class="token plain"> </span><span class="token operator" style="color:rgb(12, 150, 155)">*</span><span class="token plain"> </span><span class="token number" style="color:rgb(170, 9, 130)">1024</span><span class="token plain"> </span><span class="token comment" style="color:rgb(152, 159, 177);font-style:italic">// 200 KB</span><span class="token plain"></span><br></span><span class="token-line" style="color:#403f53"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(153, 76, 195)">}</span><span class="token punctuation" style="color:rgb(153, 76, 195)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#403f53"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(153, 76, 195)">}</span><span class="token punctuation" style="color:rgb(153, 76, 195)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#403f53"><span class="token plain"></span><span class="token punctuation" style="color:rgb(153, 76, 195)">}</span><span class="token punctuation" style="color:rgb(153, 76, 195)">)</span><span class="token punctuation" style="color:rgb(153, 76, 195)">;</span><br></span></code></pre><div class="buttonGroup_PBDc"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_XMUQ" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_Mlup"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_RsDG"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>在上面的示例中，Farm将尝试<strong>尽可能</strong>地将您的项目打包到 <code>15</code> 个文件中，每个文件的最小大小<strong>尽可能</strong>大于 <code>200KB</code> 。</p>
<h3 class="anchor anchorWithStickyNavbar_mDXR" id="将所有模块打包在一起">将所有模块打包在一起<a class="hash-link" aria-label="将所有模块打包在一起的直接链接" title="将所有模块打包在一起的直接链接" href="/zh/docs/advanced/partial-bundling#将所有模块打包在一起">​</a></h3>
<div class="language-ts codeBlockContainer_wxnF theme-code-block" style="--prism-color:#403f53;--prism-background-color:#FBFBFB"><div class="codeBlockContent_nF_a"><pre tabindex="0" class="prism-code language-ts codeBlock_jdzv thin-scrollbar" style="color:#403f53;background-color:#FBFBFB"><code class="codeBlockLines_ZDKT"><span class="token-line" style="color:#403f53"><span class="token keyword" style="color:rgb(12, 150, 155)">import</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(153, 76, 195)">{</span><span class="token plain"> defineConfig </span><span class="token punctuation" style="color:rgb(153, 76, 195)">}</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(12, 150, 155)">from</span><span class="token plain"> </span><span class="token string" style="color:rgb(72, 118, 214)">&#x27;@farmfe/core&#x27;</span><span class="token punctuation" style="color:rgb(153, 76, 195)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#403f53"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#403f53"><span class="token plain"></span><span class="token keyword" style="color:rgb(12, 150, 155)">export</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(12, 150, 155)">default</span><span class="token plain"> </span><span class="token function" style="color:rgb(153, 76, 195);font-style:italic">defineConfig</span><span class="token punctuation" style="color:rgb(153, 76, 195)">(</span><span class="token punctuation" style="color:rgb(153, 76, 195)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#403f53"><span class="token plain">  compilation</span><span class="token operator" style="color:rgb(12, 150, 155)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(153, 76, 195)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#403f53"><span class="token plain">    partialBundling</span><span class="token operator" style="color:rgb(12, 150, 155)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(153, 76, 195)">{</span><span class="token plain"></span><br></span><span class="token-line code-block-highlight-line" style="color:#403f53"><span class="token plain">      enforceResources</span><span class="token operator" style="color:rgb(12, 150, 155)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(153, 76, 195)">[</span><span class="token plain"></span><br></span><span class="token-line code-block-highlight-line" style="color:#403f53"><span class="token plain">        </span><span class="token punctuation" style="color:rgb(153, 76, 195)">{</span><span class="token plain"></span><br></span><span class="token-line code-block-highlight-line" style="color:#403f53"><span class="token plain">          name</span><span class="token operator" style="color:rgb(12, 150, 155)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(72, 118, 214)">&#x27;index&#x27;</span><span class="token punctuation" style="color:rgb(153, 76, 195)">,</span><span class="token plain"></span><br></span><span class="token-line code-block-highlight-line" style="color:#403f53"><span class="token plain">          test</span><span class="token operator" style="color:rgb(12, 150, 155)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(153, 76, 195)">[</span><span class="token string" style="color:rgb(72, 118, 214)">&#x27;.+&#x27;</span><span class="token punctuation" style="color:rgb(153, 76, 195)">]</span><span class="token punctuation" style="color:rgb(153, 76, 195)">,</span><span class="token plain"></span><br></span><span class="token-line code-block-highlight-line" style="color:#403f53"><span class="token plain">        </span><span class="token punctuation" style="color:rgb(153, 76, 195)">}</span><span class="token plain"></span><br></span><span class="token-line code-block-highlight-line" style="color:#403f53"><span class="token plain">      </span><span class="token punctuation" style="color:rgb(153, 76, 195)">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#403f53"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(153, 76, 195)">}</span><span class="token punctuation" style="color:rgb(153, 76, 195)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#403f53"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(153, 76, 195)">}</span><span class="token punctuation" style="color:rgb(153, 76, 195)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#403f53"><span class="token plain"></span><span class="token punctuation" style="color:rgb(153, 76, 195)">}</span><span class="token punctuation" style="color:rgb(153, 76, 195)">)</span><span class="token punctuation" style="color:rgb(153, 76, 195)">;</span><br></span></code></pre><div class="buttonGroup_PBDc"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_XMUQ" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_Mlup"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_RsDG"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>在上面的示例中，我们强制将所有模块打包在一起，并忽略所有其他约束（例如，请求数量、文件大小）。您也可以使用 <code>enforceResources</code> 强制将某些模块打包在一起：</p>
<div class="language-ts codeBlockContainer_wxnF theme-code-block" style="--prism-color:#403f53;--prism-background-color:#FBFBFB"><div class="codeBlockContent_nF_a"><pre tabindex="0" class="prism-code language-ts codeBlock_jdzv thin-scrollbar" style="color:#403f53;background-color:#FBFBFB"><code class="codeBlockLines_ZDKT"><span class="token-line" style="color:#403f53"><span class="token keyword" style="color:rgb(12, 150, 155)">import</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(153, 76, 195)">{</span><span class="token plain"> defineConfig </span><span class="token punctuation" style="color:rgb(153, 76, 195)">}</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(12, 150, 155)">from</span><span class="token plain"> </span><span class="token string" style="color:rgb(72, 118, 214)">&#x27;@farmfe/core&#x27;</span><span class="token punctuation" style="color:rgb(153, 76, 195)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#403f53"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#403f53"><span class="token plain"></span><span class="token keyword" style="color:rgb(12, 150, 155)">export</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(12, 150, 155)">default</span><span class="token plain"> </span><span class="token function" style="color:rgb(153, 76, 195);font-style:italic">defineConfig</span><span class="token punctuation" style="color:rgb(153, 76, 195)">(</span><span class="token punctuation" style="color:rgb(153, 76, 195)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#403f53"><span class="token plain">  compilation</span><span class="token operator" style="color:rgb(12, 150, 155)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(153, 76, 195)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#403f53"><span class="token plain">    partialBundling</span><span class="token operator" style="color:rgb(12, 150, 155)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(153, 76, 195)">{</span><span class="token plain"></span><br></span><span class="token-line code-block-highlight-line" style="color:#403f53"><span class="token plain">      enforceResources</span><span class="token operator" style="color:rgb(12, 150, 155)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(153, 76, 195)">[</span><span class="token plain"></span><br></span><span class="token-line code-block-highlight-line" style="color:#403f53"><span class="token plain">        </span><span class="token punctuation" style="color:rgb(153, 76, 195)">{</span><span class="token plain"></span><br></span><span class="token-line code-block-highlight-line" style="color:#403f53"><span class="token plain">          name</span><span class="token operator" style="color:rgb(12, 150, 155)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(72, 118, 214)">&#x27;index&#x27;</span><span class="token punctuation" style="color:rgb(153, 76, 195)">,</span><span class="token plain"></span><br></span><span class="token-line code-block-highlight-line" style="color:#403f53"><span class="token plain">          test</span><span class="token operator" style="color:rgb(12, 150, 155)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(153, 76, 195)">[</span><span class="token string" style="color:rgb(72, 118, 214)">&#x27;\\./src/components/.+&#x27;</span><span class="token punctuation" style="color:rgb(153, 76, 195)">]</span><span class="token punctuation" style="color:rgb(153, 76, 195)">,</span><span class="token plain"></span><br></span><span class="token-line code-block-highlight-line" style="color:#403f53"><span class="token plain">        </span><span class="token punctuation" style="color:rgb(153, 76, 195)">}</span><span class="token plain"></span><br></span><span class="token-line code-block-highlight-line" style="color:#403f53"><span class="token plain">      </span><span class="token punctuation" style="color:rgb(153, 76, 195)">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#403f53"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(153, 76, 195)">}</span><span class="token punctuation" style="color:rgb(153, 76, 195)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#403f53"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(153, 76, 195)">}</span><span class="token punctuation" style="color:rgb(153, 76, 195)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#403f53"><span class="token plain"></span><span class="token punctuation" style="color:rgb(153, 76, 195)">}</span><span class="token punctuation" style="color:rgb(153, 76, 195)">)</span><span class="token punctuation" style="color:rgb(153, 76, 195)">;</span><br></span></code></pre><div class="buttonGroup_PBDc"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_XMUQ" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_Mlup"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_RsDG"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>我们强制将 <code>src/components</code> 目录下的所有模块打包在一起。</p>
<div class="theme-admonition theme-admonition-note admonition_RGBo alert alert--secondary"><div class="admonitionHeading_qpIx"><span class="admonitionIcon_kgQM"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>备注</div><div class="admonitionContent_InOc"><p><code>enforceResources</code> 会破坏打包的内部优化，使用时请小心。</p></div></div></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="row margin-top--sm theme-doc-footer-edit-meta-row"><div class="col"><a href="https://github.com/farm-fe/farm-fe.github.io/tree/main/docs/advanced/partial-bundling.md" target="_blank" rel="noopener noreferrer" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_m_fZ" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>编辑此页</a></div><div class="col lastUpdated_Y6OS"></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="文档分页导航"><a class="pagination-nav__link pagination-nav__link--prev" href="/zh/docs/advanced/ssr"><div class="pagination-nav__sublabel">上一页</div><div class="pagination-nav__label">服务端渲染 (SSR)</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/zh/docs/advanced/tree-shake"><div class="pagination-nav__sublabel">下一页</div><div class="pagination-nav__label">Tree Shake</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_zjor thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a class="table-of-contents__link toc-highlight" href="/zh/docs/advanced/partial-bundling#动机">动机</a></li><li><a class="table-of-contents__link toc-highlight" href="/zh/docs/advanced/partial-bundling#局部打包规则">局部打包规则</a></li><li><a class="table-of-contents__link toc-highlight" href="/zh/docs/advanced/partial-bundling#配置局部打包">配置局部打包</a><ul><li><a class="table-of-contents__link toc-highlight" href="/zh/docs/advanced/partial-bundling#两种配置方法">两种配置方法</a></li><li><a class="table-of-contents__link toc-highlight" href="/zh/docs/advanced/partial-bundling#局部打包选项">局部打包选项</a></li><li><a class="table-of-contents__link toc-highlight" href="/zh/docs/advanced/partial-bundling#模块分组">模块分组</a></li><li><a class="table-of-contents__link toc-highlight" href="/zh/docs/advanced/partial-bundling#使用-enforceresources">使用 <code>enforceResources</code></a></li><li><a class="table-of-contents__link toc-highlight" href="/zh/docs/advanced/partial-bundling#配置-immutable-modules">配置 <code>immutable modules</code></a></li></ul></li><li><a class="table-of-contents__link toc-highlight" href="/zh/docs/advanced/partial-bundling#示例">示例</a><ul><li><a class="table-of-contents__link toc-highlight" href="/zh/docs/advanced/partial-bundling#将同一目录下的文件分组">将同一目录下的文件分组</a></li><li><a class="table-of-contents__link toc-highlight" href="/zh/docs/advanced/partial-bundling#配置打包的数量和大小">配置打包的数量和大小</a></li><li><a class="table-of-contents__link toc-highlight" href="/zh/docs/advanced/partial-bundling#将所有模块打包在一起">将所有模块打包在一起</a></li></ul></li></ul></div></div></div></div></main></div></div></div><section class="py-8 bg-zinc-950 sm:py-10 lg:py-12 text-white z-50"><div class="px-4 mx-auto sm:px-6 lg:px-8 max-w-7xl"><div class="flex flex-col items-center sm:items-start gap-8 sm:flex-row sm:justify-between"><div class="flex flex-col items-center sm:items-start gap-4"><img class="h-12 w-36 sm:h-14 sm:w-40" src="https://www.farmfe.org/img/logo-farm.png" alt=""><span class="text-lg sm:text-xl font-bold text-center sm:text-left">Extremely Fast Web Build Tool Written in Rust</span></div><div class="w-full sm:w-auto"><div class="grid grid-cols-1 sm:grid-cols-3 gap-8 sm:gap-x-12"><div><p class="text-base text-gray-500 font-semibold mb-4">Guide</p><ul class="list-none space-y-3 p-0"><li><a href="/docs/quick-start" class="text-sm sm:text-base text-white transition-all duration-200 hover:text-opacity-80 focus:text-opacity-80"> Quick Start </a></li><li><a href="/docs/why-farm" class="text-sm sm:text-base text-white transition-all duration-200 hover:text-opacity-80 focus:text-opacity-80"> Introduction </a></li></ul></div><div><p class="text-base text-gray-500 font-semibold mb-4">Community</p><ul class="list-none space-y-3 p-0"><li><a href="https://github.com/farm-fe/farm?tab=readme-ov-file#chat-with-us" class="text-sm sm:text-base text-white transition-all duration-200 hover:text-opacity-80 focus:text-opacity-80"> WeChat Group </a></li><li><a href="https://discord.com/invite/mDErq9aFnF" class="text-sm sm:text-base text-white transition-all duration-200 hover:text-opacity-80 focus:text-opacity-80"> Discord </a></li></ul></div><div><p class="text-base text-gray-500 font-semibold mb-4">More</p><ul class="list-none space-y-3 p-0"><li><a href="https://github.com/farm-fe/farm" class="text-sm sm:text-base text-white transition-all duration-200 hover:text-opacity-80 focus:text-opacity-80"> Github </a></li><li><a href="https://x.com/FarmFe71928" class="text-sm sm:text-base text-white transition-all duration-200 hover:text-opacity-80 focus:text-opacity-80"> Twitter </a></li></ul></div></div></div></div><div class="my-8 sm:my-12"></div><div class="flex flex-col items-center sm:flex-row sm:justify-between"><ul class="flex items-center space-x-4 mb-4 sm:mb-0 p-0"><a href="https://github.com/farm-fe/farm" target="_blank" rel="noopener noreferrer"><svg width="15" height="15" viewBox="0 0 15 15" fill="none" xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 sm:h-6 sm:w-6 text-white hover:text-gray-300"><path d="M7.49933 0.25C3.49635 0.25 0.25 3.49593 0.25 7.50024C0.25 10.703 2.32715 13.4206 5.2081 14.3797C5.57084 14.446 5.70302 14.2222 5.70302 14.0299C5.70302 13.8576 5.69679 13.4019 5.69323 12.797C3.67661 13.235 3.25112 11.825 3.25112 11.825C2.92132 10.9874 2.44599 10.7644 2.44599 10.7644C1.78773 10.3149 2.49584 10.3238 2.49584 10.3238C3.22353 10.375 3.60629 11.0711 3.60629 11.0711C4.25298 12.1788 5.30335 11.8588 5.71638 11.6732C5.78225 11.205 5.96962 10.8854 6.17658 10.7043C4.56675 10.5209 2.87415 9.89918 2.87415 7.12104C2.87415 6.32925 3.15677 5.68257 3.62053 5.17563C3.54576 4.99226 3.29697 4.25521 3.69174 3.25691C3.69174 3.25691 4.30015 3.06196 5.68522 3.99973C6.26337 3.83906 6.8838 3.75895 7.50022 3.75583C8.1162 3.75895 8.73619 3.83906 9.31523 3.99973C10.6994 3.06196 11.3069 3.25691 11.3069 3.25691C11.7026 4.25521 11.4538 4.99226 11.3795 5.17563C11.8441 5.68257 12.1245 6.32925 12.1245 7.12104C12.1245 9.9063 10.4292 10.5192 8.81452 10.6985C9.07444 10.9224 9.30633 11.3648 9.30633 12.0413C9.30633 13.0102 9.29742 13.7922 9.29742 14.0299C9.29742 14.2239 9.42828 14.4496 9.79591 14.3788C12.6746 13.4179 14.75 10.7025 14.75 7.50024C14.75 3.49593 11.5036 0.25 7.49933 0.25Z" fill="currentColor" fill-rule="evenodd" clip-rule="evenodd"></path></svg></a><a href="https://x.com/FarmFe71928" target="_blank" rel="noopener noreferrer"><svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 512 512" class="h-5 w-5 sm:h-6 sm:w-6 text-white hover:text-gray-300" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><path d="M389.2 48h70.6L305.6 224.2 487 464H345L233.7 318.6 106.5 464H35.8L200.7 275.5 26.8 48H172.4L272.9 180.9 389.2 48zM364.4 421.8h39.1L151.1 88h-42L364.4 421.8z"></path></svg></a><a href="https://discord.com/invite/mDErq9aFnF" target="_blank" rel="noopener noreferrer"><svg width="15" height="15" viewBox="0 0 15 15" fill="none" xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 sm:h-6 sm:w-6 text-white hover:text-gray-300"><path fill-rule="evenodd" clip-rule="evenodd" d="M5.07451 1.82584C5.03267 1.81926 4.99014 1.81825 4.94803 1.82284C4.10683 1.91446 2.82673 2.36828 2.07115 2.77808C2.02106 2.80525 1.97621 2.84112 1.93869 2.88402C1.62502 3.24266 1.34046 3.82836 1.11706 4.38186C0.887447 4.95076 0.697293 5.55032 0.588937 5.98354C0.236232 7.39369 0.042502 9.08728 0.0174948 10.6925C0.0162429 10.7729 0.0351883 10.8523 0.0725931 10.9234C0.373679 11.496 1.02015 12.027 1.66809 12.4152C2.32332 12.8078 3.08732 13.1182 3.70385 13.1778C3.85335 13.1922 4.00098 13.1358 4.10282 13.0255C4.2572 12.8581 4.5193 12.4676 4.71745 12.1643C4.80739 12.0267 4.89157 11.8953 4.95845 11.7901C5.62023 11.9106 6.45043 11.9801 7.50002 11.9801C8.54844 11.9801 9.37796 11.9107 10.0394 11.7905C10.1062 11.8957 10.1903 12.0269 10.2801 12.1643C10.4783 12.4676 10.7404 12.8581 10.8947 13.0255C10.9966 13.1358 11.1442 13.1922 11.2937 13.1778C11.9102 13.1182 12.6742 12.8078 13.3295 12.4152C13.9774 12.027 14.6239 11.496 14.925 10.9234C14.9624 10.8523 14.9813 10.7729 14.9801 10.6925C14.9551 9.08728 14.7613 7.39369 14.4086 5.98354C14.3003 5.55032 14.1101 4.95076 13.8805 4.38186C13.6571 3.82836 13.3725 3.24266 13.0589 2.88402C13.0214 2.84112 12.9765 2.80525 12.9264 2.77808C12.1708 2.36828 10.8907 1.91446 10.0495 1.82284C10.0074 1.81825 9.96489 1.81926 9.92305 1.82584C9.71676 1.85825 9.5391 1.96458 9.40809 2.06355C9.26977 2.16804 9.1413 2.29668 9.0304 2.42682C8.86968 2.61544 8.71437 2.84488 8.61428 3.06225C8.27237 3.03501 7.90138 3.02 7.5 3.02C7.0977 3.02 6.72593 3.03508 6.38337 3.06244C6.28328 2.84501 6.12792 2.61549 5.96716 2.42682C5.85626 2.29668 5.72778 2.16804 5.58947 2.06355C5.45846 1.96458 5.2808 1.85825 5.07451 1.82584ZM11.0181 11.5382C11.0395 11.5713 11.0615 11.6051 11.0838 11.6392C11.2169 11.843 11.3487 12.0385 11.4508 12.1809C11.8475 12.0916 12.352 11.8818 12.8361 11.5917C13.3795 11.2661 13.8098 10.8918 14.0177 10.5739C13.9852 9.06758 13.7993 7.50369 13.4773 6.21648C13.38 5.82759 13.2038 5.27021 12.9903 4.74117C12.7893 4.24326 12.5753 3.82162 12.388 3.5792C11.7376 3.24219 10.7129 2.88582 10.0454 2.78987C10.0308 2.79839 10.0113 2.81102 9.98675 2.82955C9.91863 2.881 9.84018 2.95666 9.76111 3.04945C9.71959 3.09817 9.68166 3.1471 9.64768 3.19449C9.953 3.25031 10.2253 3.3171 10.4662 3.39123C11.1499 3.6016 11.6428 3.89039 11.884 4.212C12.0431 4.42408 12.0001 4.72494 11.788 4.884C11.5759 5.04306 11.2751 5.00008 11.116 4.788C11.0572 4.70961 10.8001 4.4984 10.1838 4.30877C9.58933 4.12585 8.71356 3.98 7.5 3.98C6.28644 3.98 5.41067 4.12585 4.81616 4.30877C4.19988 4.4984 3.94279 4.70961 3.884 4.788C3.72494 5.00008 3.42408 5.04306 3.212 4.884C2.99992 4.72494 2.95694 4.42408 3.116 4.212C3.35721 3.89039 3.85011 3.6016 4.53383 3.39123C4.77418 3.31727 5.04571 3.25062 5.35016 3.19488C5.31611 3.14738 5.27808 3.09831 5.23645 3.04945C5.15738 2.95666 5.07893 2.881 5.01081 2.82955C4.98628 2.81102 4.96674 2.79839 4.95217 2.78987C4.28464 2.88582 3.25999 3.24219 2.60954 3.5792C2.42226 3.82162 2.20825 4.24326 2.00729 4.74117C1.79376 5.27021 1.61752 5.82759 1.52025 6.21648C1.19829 7.50369 1.01236 9.06758 0.97986 10.5739C1.18772 10.8918 1.61807 11.2661 2.16148 11.5917C2.64557 11.8818 3.15003 12.0916 3.5468 12.1809C3.64885 12.0385 3.78065 11.843 3.9138 11.6392C3.93626 11.6048 3.95838 11.5708 3.97996 11.5375C3.19521 11.2591 2.77361 10.8758 2.50064 10.4664C2.35359 10.2458 2.4132 9.94778 2.63377 9.80074C2.85435 9.65369 3.15236 9.71329 3.29941 9.93387C3.56077 10.3259 4.24355 11.0201 7.50002 11.0201C10.7565 11.0201 11.4392 10.326 11.7006 9.93386C11.8477 9.71329 12.1457 9.65369 12.3663 9.80074C12.5869 9.94779 12.6465 10.2458 12.4994 10.4664C12.2262 10.8762 11.8041 11.2598 11.0181 11.5382ZM4.08049 7.01221C4.32412 6.74984 4.65476 6.60162 5.00007 6.59998C5.34538 6.60162 5.67603 6.74984 5.91966 7.01221C6.16329 7.27459 6.30007 7.62974 6.30007 7.99998C6.30007 8.37021 6.16329 8.72536 5.91966 8.98774C5.67603 9.25011 5.34538 9.39833 5.00007 9.39998C4.65476 9.39833 4.32412 9.25011 4.08049 8.98774C3.83685 8.72536 3.70007 8.37021 3.70007 7.99998C3.70007 7.62974 3.83685 7.27459 4.08049 7.01221ZM9.99885 6.59998C9.65354 6.60162 9.3229 6.74984 9.07926 7.01221C8.83563 7.27459 8.69885 7.62974 8.69885 7.99998C8.69885 8.37021 8.83563 8.72536 9.07926 8.98774C9.3229 9.25011 9.65354 9.39833 9.99885 9.39998C10.3442 9.39833 10.6748 9.25011 10.9184 8.98774C11.1621 8.72536 11.2989 8.37021 11.2989 7.99998C11.2989 7.62974 11.1621 7.27459 10.9184 7.01221C10.6748 6.74984 10.3442 6.60162 9.99885 6.59998Z" fill="currentColor"></path></svg></a></ul><p class="text-xs sm:text-sm text-center text-gray-100">Copyright © 2024 Farm Community. Built with Docusaurus.</p></div></div></section></div>
</body>
</html>