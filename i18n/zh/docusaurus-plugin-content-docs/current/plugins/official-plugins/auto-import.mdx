import CodeBlock from "@theme/CodeBlock";
import Tabs from "@theme/Tabs";
import TabItem from "@theme/TabItem";

# @farmfe/plugin-auto-import

æŒ‰éœ€è‡ªåŠ¨å¯¼å…¥ç¬¬ä¸‰æ–¹åº“çš„æ–¹æ³•

## å®‰è£…


<Tabs>
  <TabItem value="npm" label="npm">
    <CodeBlock>npm install @farmfe/plugin-auto-import</CodeBlock>
  </TabItem>
  <TabItem value="yarn" label="yarn">
    <CodeBlock>yarn add @farmfe/plugin-auto-import</CodeBlock>
  </TabItem>
  <TabItem value="pnpm" label="pnpm">
    <CodeBlock>pnpm add @farmfe/plugin-auto-import</CodeBlock>
  </TabItem>
    <TabItem value="bun" label="bun">
    <CodeBlock>bun add @farmfe/plugin-auto-import</CodeBlock>
  </TabItem>
</Tabs>

## ä½¿ç”¨

`@farmfe/plugin-auto-import` æ˜¯ä¸€ä¸ªRustæ’ä»¶,åªéœ€è¦åœ¨ `farm.config.(t|j|mj)s` çš„çš„ `plugins` å­—æ®µä¸­é…ç½®å…¶åŒ…åå³å¯ã€‚

```ts {4}
import { UserConfig } from '@farmfe/core';
import AutoImport from '@farmfe/plugin-auto-import'

const config: UserConfig = {
  plugins: [
    AutoImport({
       /** é€‰é¡¹åœ¨æ­¤ */
    })
  ]
}
```
## åŠŸèƒ½

- ğŸ’š æ”¯æŒReactå’ŒReact-Routerå¼€ç®±å³ç”¨
- ğŸ æ ‘æ‘‡ï¼ˆTree-shakingï¼‰ï¼Œåªæ³¨å†Œä½ ä½¿ç”¨çš„ç»„ä»¶ã€‚
- ğŸª æ–‡ä»¶å¤¹åç§°ä½œä¸ºå‘½åç©ºé—´ã€‚
- ğŸ¦¾ å®Œæ•´çš„TypeScriptæ”¯æŒã€‚

## ä½¿ç”¨

å’Œ `unplugin-auto-import`æ’ä»¶ä¸€æ ·çš„ç”¨æ³•,ä»–è®²è‡ªåŠ¨å¼•å…¥ç»„ä»¶ ä¸å†éœ€è¦ `import`

ä»–ä¼šè‡ªåŠ¨å°†è¿™ä¸ª

```tsx
export function Main() {
  const [ops, setOps] = useState([])

  return (<div>
    {
      ops.map(k => (<span key={`k`}>{k}</span>))
    }
  </div>)
}
```

è½¬åŒ–æˆè¿™ä¸ª

```tsx
import {useState} from "react"
export function Main() {
  const [ops, setOps] = useState([])

  return (<div>
    {
      ops.map(k => (<span key={`k`}>{k}</span>))
    }
  </div>)
}

```

:::warning
1.è¯¥æ’ä»¶æš‚æ—¶ä¸æ”¯æŒ `ç»„ä»¶`ï¼Œåªæ”¯æŒ `function api`ã€‚å¯¹äºç¬¬ä¸‰æ–¹çš„`npm`åŒ…æ¥è¯´ä¹Ÿæ˜¯ä¸€æ ·çš„

2.è¯¥æ’ä»¶æš‚æ—¶ä¸æ”¯æŒé…ç½®çš„çƒ­æ›´æ–°,å¦‚æœåœ¨ `farm.cofnig.(t|j|mj|cj)s`ä¸­å˜æ›´è¯·é‡å¯ `farm server`
:::

## TypeScript

ä¸ºè‡ªåŠ¨å¯¼å…¥çš„ç»„ä»¶è·å¾—TypeScriptæ”¯æŒã€‚

```ts
AutoImport({
  dts: true, // å¦‚æœå®‰è£…äº†`typescript`é»˜è®¤å¯ç”¨
})
```

å®Œæˆè®¾ç½®åï¼Œå°†è‡ªåŠ¨ç”Ÿæˆä¸€ä¸ª`auto-import.d.ts`æ–‡ä»¶ï¼Œå¹¶è‡ªåŠ¨æ›´æ–°ç±»å‹å®šä¹‰ã€‚ä½ å¯ä»¥é€‰æ‹©æ˜¯å¦å°†å…¶æäº¤åˆ°gitã€‚

> **ç¡®ä¿ä½ ä¹Ÿå°†`auto-import.d.ts`æ·»åŠ åˆ°`tsconfig.json`çš„`include`ä¸­ã€‚**

:::tip
åœ¨ `JavaScript` é¡¹ç›®ä¸­ï¼Œå¦‚æœæ˜¯ç”¨æ¥è¯¥æ’ä»¶å¹¶ä¸”æƒ³è·å–å®Œæ•´çš„å‡½æ•°ç±»å‹æç¤º éœ€è¦é…ç½® `jsconfig.json`æ–‡ä»¶


:::
```js

```

## ä½¿ç”¨ç¬¬ä¸‰æ–¹åº“



## é…ç½®
ä»¥ä¸‹æ˜¾ç¤ºäº†é…ç½®çš„é»˜è®¤å€¼
```ts
{

  // ç”Ÿæˆå…¨å±€å£°æ˜çš„`auto-import.d.ts`ï¼Œ
  // ä¹Ÿæ¥å—è‡ªå®šä¹‰æ–‡ä»¶åçš„è·¯å¾„
  // é»˜è®¤ï¼šå¦‚æœå®‰è£…äº†typescriptåŒ…åˆ™ä¸º`true`
  dts: true,

  // è½¬æ¢ç›®æ ‡ï¼ˆè¦æ’å…¥è‡ªåŠ¨å¯¼å…¥çš„ç»„ä»¶ï¼‰çš„è¿‡æ»¤å™¨
  // æ³¨æ„ï¼Œè¿™ä¸æ˜¯å…³äºåŒ…å«/æ’é™¤æ³¨å†Œç»„ä»¶ - ä½¿ç”¨`Regex`æ¥åšé‚£ä¸ª
  include: ["src/components"],
  exclude: ["node_modules"],
  // é…ç½®é¡¹
  dirs: ['src/hooks', 'src/components'],
  // éœ€è¦è‡ªåŠ¨å¯¼å…¥çš„æ¨¡å—
  presets: [
    "react", // é»˜è®¤é…ç½®
    "react-router", // é»˜è®¤é…ç½®
    {
      from: "lodash-es", // lodash-es npmè‡ªåŠ¨å¼•å…¥ç¤ºä¾‹
      imports: ["debounce", "throttle", "isEqual", "isEmpty", "isNil", "isFunction", "isObject", "isArray", "isString", "isNumber", "isBoolean", "isDate", "isRegExp", "isSymbol", "isMap", "isSet", "isWeakMap", "isWeakSet"],
    }
  ]
}


```
å½“å‰é»˜è®¤é…ç½®æœ‰`presets`: `["pinia", "react", "react-router", "vue", "vue-router"]`, ä¹Ÿå¯ä»¥[ç‚¹å‡»](https://github.com/farm-fe/plugins/blob/main/rust-plugins/auto-import/src/presets/mod.rs)ã€‚

æƒ³è¦æŸ¥çœ‹ auto-importç±»å‹å®šä¹‰ è¯·[ç‚¹å‡»](https://github.com/farm-fe/plugins/blob/main/rust-plugins/auto-import/options.d.ts)
